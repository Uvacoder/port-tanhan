{"componentChunkName":"component---src-templates-blog-post-js","path":"/Debugging-web-workers/","webpackCompilationHash":"339e62c2a3ac824ac906","result":{"data":{"site":{"siteMetadata":{"title":"Tan Li Hau","author":"Tan Li Hau"}},"markdownRemark":{"id":"afab1a46-c38f-5481-b6ee-1a630e6e26f1","excerpt":"","html":"<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Worker\">Web Workers API</a> allows you to start a separate worker thread and receives and execute tasks off the main thread.</p>\n<p>Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?</p>\n<p>Here’s how you would do it for various major browsers:</p>\n<h2>Chrome</h2>\n<p>If you are debugging service worker or worker, you can head down to the console. There’s a dropdown menu, if you haven’t noticed previously, that says “JavaScript context”.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f447664867ab3d7a0b0a7382035f127a/a8f3e/chrome-console.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.03321033210332%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAAAsSAAALEgHS3X78AAAA80lEQVQoz62PbWuDMBSF8/9/3GBQ1i/FomunaWoSo+ZFTc6uug1bytigFx7wXDnn5LIwBtjGo1U92m6E7Rz6foD38QfnJoQQMU0JKQGDc+j2e/DDAVI3tB8xDMMC03WD6kPhVFxxzhXKs4YoFaQwqLmB4Br8osC5hDEWpnVU2kFmGU55gVoqKnRU7BfYMcshdq9o3ojdC8R7Aa0UmQ0arZdvzitUVQlNWsp6/feFphfOuqMSIQSYpVTYHklckOorIkE3YDtpvvNOf7PVMUawEMK63BoemLbG34bNd9+3Ljza/YGbQGxZl/jv3AY+YZjz9qmBnxTzwO+RZ5BKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"chrome console\"\n        title=\"\"\n        src=\"/static/f447664867ab3d7a0b0a7382035f127a/623ee/chrome-console.png\"\n        srcset=\"/static/f447664867ab3d7a0b0a7382035f127a/816c5/chrome-console.png 148w,\n/static/f447664867ab3d7a0b0a7382035f127a/c766b/chrome-console.png 295w,\n/static/f447664867ab3d7a0b0a7382035f127a/623ee/chrome-console.png 590w,\n/static/f447664867ab3d7a0b0a7382035f127a/e5345/chrome-console.png 885w,\n/static/f447664867ab3d7a0b0a7382035f127a/a8f3e/chrome-console.png 1084w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f204eeef9843eaee0792b0e2d6594d20/481f7/chrome-console-context.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 36.31336405529954%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAA6klEQVQoz5WR3UoDMRCF8/4voaAIWvEd/KPYgrfihYIXLk3ibppkM022SY7Z1l0o1lIPHOZiho85M+zt/QNSLNAqjpUWxRxppYCgoZcKdd2Ac46qqtA0DaSU0FrDGLNjay2EEGBEDncvLc7vJU5ua5w+WJxNCRdPBE0JvWLa1kE5571OZY6F4PH4ajGZfuHm2eNqTricOVzPHZZu/QPYBR0S894jBofkze9uThvYXxvt8wbYOkK1ECAfSrw+YsY6biMMmx2jEajLUT/L0Z1ziDGOzf8AhxnWkkEomynVf7RG13Uj7Fjg0O/rN5CsIAKqtwJFAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"chrome console context\"\n        title=\"\"\n        src=\"/static/f204eeef9843eaee0792b0e2d6594d20/623ee/chrome-console-context.png\"\n        srcset=\"/static/f204eeef9843eaee0792b0e2d6594d20/816c5/chrome-console-context.png 148w,\n/static/f204eeef9843eaee0792b0e2d6594d20/c766b/chrome-console-context.png 295w,\n/static/f204eeef9843eaee0792b0e2d6594d20/623ee/chrome-console-context.png 590w,\n/static/f204eeef9843eaee0792b0e2d6594d20/e5345/chrome-console-context.png 885w,\n/static/f204eeef9843eaee0792b0e2d6594d20/481f7/chrome-console-context.png 1085w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>For worker context, you would see a cog logo beside the name.</p>\n<p>After you choose the worker context, you can type <code class=\"language-text\">self</code> into the console, and you should see <code class=\"language-text\">self</code> is an instance of <code class=\"language-text\">DedicatedWorkerGlobalScope</code> instead of <code class=\"language-text\">window</code>. </p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4319a503f1339435f69b5d931dad2ed0/00215/chrome-worker-context.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 33.98148148148149%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAAAcUlEQVQoz9WNSwrDMAxEdf/7FZOSI3jhRMaSP3hiLdxNSSDpqgMPRhIzom1dwO4Ffjvs3kM1o5aCMqi1IsaIEAJSSh9U9QvbMzNIcoaOoFhBayg2D6xQRNBsN7yF5pMrER6o934KXR3vMB/RNL/ovwoPM1Yp7/K+EeIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"chrome worker context\"\n        title=\"\"\n        src=\"/static/4319a503f1339435f69b5d931dad2ed0/623ee/chrome-worker-context.png\"\n        srcset=\"/static/4319a503f1339435f69b5d931dad2ed0/816c5/chrome-worker-context.png 148w,\n/static/4319a503f1339435f69b5d931dad2ed0/c766b/chrome-worker-context.png 295w,\n/static/4319a503f1339435f69b5d931dad2ed0/623ee/chrome-worker-context.png 590w,\n/static/4319a503f1339435f69b5d931dad2ed0/e5345/chrome-worker-context.png 885w,\n/static/4319a503f1339435f69b5d931dad2ed0/00215/chrome-worker-context.png 1080w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>For shared worker, you would need to go to <a href=\"chrome://inspect/#workers\">chrome://inspect/#workers</a>. Select “Shared workers” on the left panel.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4a1f187999558929e12c82767ac653d6/fa22a/chrome-shared-worker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 79.92565055762083%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAAAsElEQVQ4y+2Qyw6CMBRE+9cGNfCPsFBk6StRhKJACpd2LEWJLCQoLJnkZJImncxcFm4tXDcL3PzGa6KdpVnj5Dk4uA6Onq3dxt51jIf+CnGwRBTU3oU9ciDVkALOl8KQFzBS+F2sEBkqEqgqQprlhrIUIP1GL5eSOihZfoUlyR1CCCjV10cNhsUxB+dcN6Hmqw4eA5NStu36Ww68YTtqolD2rvo5d3TgVHPnwDnwTz0BKYHpaEc9MJUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"chrome shared worker\"\n        title=\"\"\n        src=\"/static/4a1f187999558929e12c82767ac653d6/623ee/chrome-shared-worker.png\"\n        srcset=\"/static/4a1f187999558929e12c82767ac653d6/816c5/chrome-shared-worker.png 148w,\n/static/4a1f187999558929e12c82767ac653d6/c766b/chrome-shared-worker.png 295w,\n/static/4a1f187999558929e12c82767ac653d6/623ee/chrome-shared-worker.png 590w,\n/static/4a1f187999558929e12c82767ac653d6/e5345/chrome-shared-worker.png 885w,\n/static/4a1f187999558929e12c82767ac653d6/fa22a/chrome-shared-worker.png 1076w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>You would be able to see a list of shared workers if you have any running.</p>\n<p>You can click “inspect”, which will open a new console for you to debug.</p>\n<h2>Firefox</h2>\n<p>For Firefox, you could go to <a href=\"about:debugging#workers\">about:debugging#workers</a>. You will be able to see a list of service workers, and shared workers registered to the browser.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e293f9be86a51d004ee22836d76b1ca3/0e893/firefox-shared-worker.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 79.45075757575758%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsSAAALEgHS3X78AAACLUlEQVQ4y31U2ZKbQAzk//8k2WRT5RzPqeQ5la2tOPYasLnBGIO5hwG7I43tDeVjH7o0h9RILQ3aMOzBkLJX6DqJvKggRI++PxDojtCfIO9ZuUcnB2hxvEEUrVGWFV0MRCTguybSJEBbZ6iKBE2Voi5TZRXG6ypT+67doe9KaJ7nwbFtdKKjrwxka/jzCaznBzjTRxhP72D/+QiX1ubTezr/oLBSeKC7R7VOra9A+RvathTwkhZlQyUSoewahIvPhAli8wsifQJv9okCvgG7nzhkPwjXdp9+xz7/BU10PRrBpUqlYdu2sJczGC/P0Al5GlJJCdoqQS+oLJHdhRQ5NCklZcZkZ0IBy/YQx1sURa1Ep56hHw4k+v4u+J6bo3Udd/bYXdawaRrM5y/QFwZMw0SeF6iqGnXdKB/ldwE+K4qjnzYel3OGtu3AcVyyLpIkxXabKmKeglfSUQxbnpQ0za4Jm6bFYqHDMJewiZT3nB1/nUeLfW4R8x373ST0PB/xOkbgh4r0nLHrethskteZHRPOZnPle5OQA6MwQhCECMm6rq/WQXA8S5Ltfy1PsTrp7fnBG4SkyZEkVPuAnH3KmM/XlD1rPY7VdYMqC97OkAkYnGGo9oEqWdCr6i+awrqzVLc1JIJxhkzEe7ZrevsViS/UU73M0L/fFC6Ls2IEJ0Imj+MEWba7IjSMpfrgTcLVylJlW5aj1jyPFtkNkUnq7vl3d47hVzad/qUX5uAfNsy/iXO+rAwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"firefox shared worker\"\n        title=\"\"\n        src=\"/static/e293f9be86a51d004ee22836d76b1ca3/623ee/firefox-shared-worker.png\"\n        srcset=\"/static/e293f9be86a51d004ee22836d76b1ca3/816c5/firefox-shared-worker.png 148w,\n/static/e293f9be86a51d004ee22836d76b1ca3/c766b/firefox-shared-worker.png 295w,\n/static/e293f9be86a51d004ee22836d76b1ca3/623ee/firefox-shared-worker.png 590w,\n/static/e293f9be86a51d004ee22836d76b1ca3/e5345/firefox-shared-worker.png 885w,\n/static/e293f9be86a51d004ee22836d76b1ca3/0e893/firefox-shared-worker.png 1056w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2>Safari</h2>\n<p>For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console.</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/63faa5ab6b7af39c403de23312711343/aa568/safari-console-context.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 83.3955223880597%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsSAAALEgHS3X78AAABXUlEQVQ4y+2Uy07DMBBF80cI6lfi2E7StM2jJU0qZVEkuuGDWCABX3sZO7QqIKEuuuzi6o7HnjOOlHH0vO8wjAOcc2jXLYZhipfLJbquw3a7Rd/36Mh3ux02mzXquoZJNdqmRlEUWK1WGMeRznaIjCVQ04JzjjzP0TQNGGPhYFVViOM4wP3ax836EYtyDq4yVG0fwBU18E3LskTEOQuwowQXwZVSEGKKvQspySmfFjBGQ5ga2vmbJsiyDFprUoLoR9FZfGrwO2az8AWcPQQxyvt1yFEcHUHX0g14A14beP7DX5K/6IbnY/kf6AQ8js0f8UlCCkglIeUk/j1qwWnuWZh9L9oTkl6bbA5LL44xBsbaybVBmnilcDZD7vIg62zYs9oiiRWMZDCKI1EzxPIeit8hsq6gIhvewCCC29SFogD2TnCvJElobeCoUZq1yJ8+sTp8oH15x+LwBrt/xRel8zehfF3FNgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"safari console context\"\n        title=\"\"\n        src=\"/static/63faa5ab6b7af39c403de23312711343/623ee/safari-console-context.png\"\n        srcset=\"/static/63faa5ab6b7af39c403de23312711343/816c5/safari-console-context.png 148w,\n/static/63faa5ab6b7af39c403de23312711343/c766b/safari-console-context.png 295w,\n/static/63faa5ab6b7af39c403de23312711343/623ee/safari-console-context.png 590w,\n/static/63faa5ab6b7af39c403de23312711343/e5345/safari-console-context.png 885w,\n/static/63faa5ab6b7af39c403de23312711343/aa568/safari-console-context.png 1072w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","fields":{"slug":"/Debugging-web-workers/","wip":false},"frontmatter":{"title":"Debugging Web Workers","date":"May 22, 2019","lastUpdated":null,"description":"...for Chrome, Firefox and Safari","tags":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/Debugging-web-workers/","type":"blog","noteDate":null,"noteTitle":null,"wip":false,"heroImageUrl":null,"heroTwitterImageUrl":null,"previous":{"id":"38a42b37-bf83-5e05-8b06-ffb71accd86a","fields":{"slug":"/parsing-error-flow-type-parameter-instantiation/","type":"blog","noteDate":null,"noteTitle":null,"wip":false},"frontmatter":{"title":"Parsing error when calling generic function with type arguments"}},"next":{"id":"7e597791-6299-52a5-b3b9-7df8f42f46ce","fields":{"slug":"/how-to-get-started-in-contributing-to-open-source/","type":"blog","noteDate":null,"noteTitle":null,"wip":false},"frontmatter":{"title":"How to get started in contributing to open source"}}}}}