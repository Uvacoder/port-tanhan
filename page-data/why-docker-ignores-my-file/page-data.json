{"componentChunkName":"component---src-templates-blog-post-js","path":"/why-docker-ignores-my-file/","webpackCompilationHash":"740aaaa335c868f4acf4","result":{"data":{"site":{"siteMetadata":{"title":"Tan Li Hau","author":"Tan Li Hau"}},"markdownRemark":{"id":"88ebba64-8955-568c-a7f9-d1c017ab9602","excerpt":"","html":"<p>From the <a href=\"https://docs.docker.com/engine/reference/builder/#dockerignore-file\">official docs</a> of docker for .dockerignore:</p>\n<blockquote>\n<p>Before the docker CLI sends the context to the docker daemon, it looks for a file named <code class=\"language-text\">.dockerignore</code> in the root directory of the context. If this file exists, the CLI modifies the context to exclude files and directories that match patterns in it. This helps to avoid unnecessarily sending large or sensitive files and directories to the daemon and potentially adding them to images using <code class=\"language-text\">ADD</code> or <code class=\"language-text\">COPY</code>.</p>\n</blockquote>\n<p>Docker CLI will only look for <code class=\"language-text\">.dockerignore</code> file in the <strong>root directory of the context</strong>, if you have a monorepo of multiple packages, make sure <code class=\"language-text\">.dockerignore</code> file is on the root directory of your context, it will ignore it if it is somewhere in the subfolder.</p>\n<p>About pattern matching of the ignored file, <code class=\"language-text\">*/temp</code> will match <code class=\"language-text\">a/temp</code> and <code class=\"language-text\">b/temp</code> but not <code class=\"language-text\">temp</code> or <code class=\"language-text\">a/b/temp</code> from the root directory. To match 2 levels deep only, you need to write <code class=\"language-text\">*/*/temp</code> and for arbitrary levels, use <code class=\"language-text\">**</code> it will match any number of directory including zero, eg: <code class=\"language-text\">**/temp</code> matches <code class=\"language-text\">temp</code>, <code class=\"language-text\">a/temp</code> and <code class=\"language-text\">a/b/temp</code> !</p>\n<hr>\n<p>Further reading:</p>\n<p>To understand more why you <strong>should not ignore</strong> <code class=\"language-text\">.dockerignore</code>, read <a href=\"https://codefresh.io/docker-tutorial/not-ignore-dockerignore/\">this article</a>. It gives a lot of insight why <code class=\"language-text\">.dockerignore</code> file is important.</p>","fields":{"slug":"/why-docker-ignores-my-file/","wip":false},"frontmatter":{"title":"Took me hours to realise why docker build ignores my .dockerignore","date":"November 26, 2017","lastUpdated":null,"description":"...and this is what I've learned","tags":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/why-docker-ignores-my-file/","type":"blog","noteDate":null,"noteTitle":null,"wip":false,"heroImageUrl":null,"heroTwitterImageUrl":null,"previous":{"id":"8448fc2a-bc6d-5576-8691-87fe4f0bc3e1","fields":{"slug":"/dynamically-load-async-reducer-for-code-splitting-in-react/","type":"blog","noteDate":null,"noteTitle":null,"wip":false},"frontmatter":{"title":"Dynamically load reducers for code splitting in a React Redux application"}},"next":{"id":"64f59134-dfa4-5d1c-a30f-21574a414752","fields":{"slug":"/dead-code-elimination/","type":"blog","noteDate":null,"noteTitle":null,"wip":false},"frontmatter":{"title":"Dead-code elimination"}}}}}