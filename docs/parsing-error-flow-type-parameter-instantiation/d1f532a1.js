function e(){}function a(e,a){for(const t in a)e[t]=a[t];return e}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function s(e){return"function"==typeof e}function r(e,a){return e!=e?a==a:e!==a||e&&"object"==typeof e||"function"==typeof e}function l(e,t,n,o){return e[1]&&o?a(n.ctx.slice(),e[1](o(t))):n.ctx}function c(e,a,t,n,o,s,r){const c=function(e,a,t,n){if(e[2]&&n){const o=e[2](n(t));if(void 0===a.dirty)return o;if("object"==typeof o){const e=[],t=Math.max(a.dirty.length,o.length);for(let n=0;n<t;n+=1)e[n]=a.dirty[n]|o[n];return e}return a.dirty|o}return a.dirty}(a,n,o,s);if(c){const o=l(a,t,n,r);e.p(o,c)}}function i(e,a){e.appendChild(a)}function p(e,a,t){e.insertBefore(a,t||null)}function h(e){e.parentNode.removeChild(e)}function f(e,a){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(a)}function u(e){return document.createElement(e)}function d(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function m(e){return document.createTextNode(e)}function b(){return m(" ")}function g(){return m("")}function w(e,a,t){null==t?e.removeAttribute(a):e.getAttribute(a)!==t&&e.setAttribute(a,t)}function v(e){return Array.from(e.childNodes)}function k(e,a,t,n){for(let n=0;n<e.length;n+=1){const o=e[n];if(o.nodeName===a){let a=0;const s=[];for(;a<o.attributes.length;){const e=o.attributes[a++];t[e.name]||s.push(e.name)}for(let e=0;e<s.length;e++)o.removeAttribute(s[e]);return e.splice(n,1)[0]}}return n?d(a):u(a)}function E(e,a){for(let t=0;t<e.length;t+=1){const n=e[t];if(3===n.nodeType)return n.data=""+a,e.splice(t,1)[0]}return m(a)}function y(e){return E(e," ")}function I(e,a){a=""+a,e.wholeText!==a&&(e.data=a)}function A(e,a){e.value=null==a?"":a}class x{constructor(e=null){this.a=e,this.e=this.n=null}m(e,a,t=null){this.e||(this.e=u(a.nodeName),this.t=a,this.h(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let a=0;a<this.n.length;a+=1)p(this.t,this.n[a],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(h)}}let T;function P(e){T=e}function C(e){(function(){if(!T)throw new Error("Function called outside component initialization");return T})().$$.on_mount.push(e)}const O=[],L=[],$=[],S=[],M=Promise.resolve();let j=!1;function F(e){$.push(e)}let D=!1;const B=new Set;function R(){if(!D){D=!0;do{for(let e=0;e<O.length;e+=1){const a=O[e];P(a),N(a.$$)}for(O.length=0;L.length;)L.pop()();for(let e=0;e<$.length;e+=1){const a=$[e];B.has(a)||(B.add(a),a())}$.length=0}while(O.length);for(;S.length;)S.pop()();j=!1,D=!1,B.clear()}}function N(e){if(null!==e.fragment){e.update(),o(e.before_update);const a=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,a),e.after_update.forEach(F)}}const H=new Set;function _(e,a){e&&e.i&&(H.delete(e),e.i(a))}function G(e,a,t,n){if(e&&e.o){if(H.has(e))return;H.add(e),(void 0).c.push(()=>{H.delete(e),n&&(t&&e.d(1),n())}),e.o(a)}}function U(e){e&&e.c()}function X(e,a){e&&e.l(a)}function q(e,a,n){const{fragment:r,on_mount:l,on_destroy:c,after_update:i}=e.$$;r&&r.m(a,n),F(()=>{const a=l.map(t).filter(s);c?c.push(...a):o(a),e.$$.on_mount=[]}),i.forEach(F)}function z(e,a){const t=e.$$;null!==t.fragment&&(o(t.on_destroy),t.fragment&&t.fragment.d(a),t.on_destroy=t.fragment=null,t.ctx=[])}function W(e,a){-1===e.$$.dirty[0]&&(O.push(e),j||(j=!0,M.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[a/31|0]|=1<<a%31}function J(a,t,s,r,l,c,i=[-1]){const p=T;P(a);const f=t.props||{},u=a.$$={fragment:null,ctx:null,props:c,update:e,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(p?p.$$.context:[]),callbacks:n(),dirty:i};let d=!1;if(u.ctx=s?s(a,f,(e,t,...n)=>{const o=n.length?n[0]:t;return u.ctx&&l(u.ctx[e],u.ctx[e]=o)&&(u.bound[e]&&u.bound[e](o),d&&W(a,e)),t}):[],u.update(),d=!0,o(u.before_update),u.fragment=!!r&&r(u.ctx),t.target){if(t.hydrate){const e=v(t.target);u.fragment&&u.fragment.l(e),e.forEach(h)}else u.fragment&&u.fragment.c();t.intro&&_(a.$$.fragment),q(a,t.target,t.anchor),R()}P(p)}class Y{$destroy(){z(this,1),this.$destroy=e}$on(e,a){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(a),()=>{const e=t.indexOf(a);-1!==e&&t.splice(e,1)}}$set(){}}function K(a){let t,n,o,s,r,l,c,f,g,I,A,x,T,P,C,O,L,$,S,M,j,F,D,B,R,N,H,_,G,U,X,q,z,W,J;return{c(){t=u("header"),n=u("nav"),o=u("ul"),s=u("li"),r=u("a"),l=m("Tan Li Hau"),c=b(),f=u("li"),g=u("a"),I=m("About"),A=b(),x=u("li"),T=u("a"),P=m("Writings"),C=b(),O=u("li"),L=u("a"),$=m("Talks"),S=b(),M=u("li"),j=u("a"),F=m("Notes"),D=b(),B=u("li"),R=u("a"),N=m("Newsletter"),H=b(),_=u("li"),G=u("a"),U=d("svg"),X=d("path"),q=b(),z=u("a"),W=d("svg"),J=d("path"),this.h()},l(e){t=k(e,"HEADER",{class:!0});var a=v(t);n=k(a,"NAV",{});var i=v(n);o=k(i,"UL",{class:!0});var p=v(o);s=k(p,"LI",{class:!0});var u=v(s);r=k(u,"A",{href:!0,class:!0});var d=v(r);l=E(d,"Tan Li Hau"),d.forEach(h),u.forEach(h),c=y(p),f=k(p,"LI",{class:!0});var m=v(f);g=k(m,"A",{href:!0,class:!0});var b=v(g);I=E(b,"About"),b.forEach(h),m.forEach(h),A=y(p),x=k(p,"LI",{class:!0});var w=v(x);T=k(w,"A",{href:!0,class:!0});var Y=v(T);P=E(Y,"Writings"),Y.forEach(h),w.forEach(h),C=y(p),O=k(p,"LI",{class:!0});var K=v(O);L=k(K,"A",{href:!0,class:!0});var Q=v(L);$=E(Q,"Talks"),Q.forEach(h),K.forEach(h),S=y(p),M=k(p,"LI",{class:!0});var V=v(M);j=k(V,"A",{href:!0,class:!0});var Z=v(j);F=E(Z,"Notes"),Z.forEach(h),V.forEach(h),D=y(p),B=k(p,"LI",{class:!0});var ee=v(B);R=k(ee,"A",{href:!0,class:!0});var ae=v(R);N=E(ae,"Newsletter"),ae.forEach(h),ee.forEach(h),H=y(p),_=k(p,"LI",{class:!0});var te=v(_);G=k(te,"A",{"aria-label":!0,href:!0,class:!0});var ne=v(G);U=k(ne,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var oe=v(U);X=k(oe,"path",{d:!0},1),v(X).forEach(h),oe.forEach(h),ne.forEach(h),q=y(te),z=k(te,"A",{"aria-label":!0,href:!0,class:!0});var se=v(z);W=k(se,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var re=v(W);J=k(re,"path",{d:!0},1),v(J).forEach(h),re.forEach(h),se.forEach(h),te.forEach(h),p.forEach(h),i.forEach(h),a.forEach(h),this.h()},h(){w(r,"href","/"),w(r,"class","svelte-f3e4uo"),w(s,"class","svelte-f3e4uo"),w(g,"href","/about"),w(g,"class","svelte-f3e4uo"),w(f,"class","svelte-f3e4uo"),w(T,"href","/blogs"),w(T,"class","svelte-f3e4uo"),w(x,"class","svelte-f3e4uo"),w(L,"href","/talks"),w(L,"class","svelte-f3e4uo"),w(O,"class","svelte-f3e4uo"),w(j,"href","/notes"),w(j,"class","svelte-f3e4uo"),w(M,"class","svelte-f3e4uo"),w(R,"href","/newsletter"),w(R,"class","svelte-f3e4uo"),w(B,"class","svelte-f3e4uo"),w(X,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),w(U,"viewBox","0 0 24 24"),w(U,"width","1em"),w(U,"height","1em"),w(U,"class","svelte-f3e4uo"),w(G,"aria-label","Twitter account"),w(G,"href","https://twitter.com/lihautan"),w(G,"class","svelte-f3e4uo"),w(J,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),w(W,"viewBox","0 0 24 24"),w(W,"width","1em"),w(W,"height","1em"),w(W,"class","svelte-f3e4uo"),w(z,"aria-label","Github account"),w(z,"href","https://github.com/tanhauhau"),w(z,"class","svelte-f3e4uo"),w(_,"class","social svelte-f3e4uo"),w(o,"class","svelte-f3e4uo"),w(t,"class","svelte-f3e4uo")},m(e,a){p(e,t,a),i(t,n),i(n,o),i(o,s),i(s,r),i(r,l),i(o,c),i(o,f),i(f,g),i(g,I),i(o,A),i(o,x),i(x,T),i(T,P),i(o,C),i(o,O),i(O,L),i(L,$),i(o,S),i(o,M),i(M,j),i(j,F),i(o,D),i(o,B),i(B,R),i(R,N),i(o,H),i(o,_),i(_,G),i(G,U),i(U,X),i(_,q),i(_,z),i(z,W),i(W,J)},p:e,i:e,o:e,d(e){e&&h(t)}}}class Q extends Y{constructor(e){super(),J(this,e,null,K,r,{})}}function V(a){let t,n,o,s,r,l,c,f,d,g,I,x,T,P,C,O,L,$,S,M;return{c(){t=u("div"),n=u("h1"),o=m("Subscribe to my newsletter"),s=b(),r=u("h2"),l=m("Get the latest blog posts and project updates delivered right to your inbox"),c=b(),f=u("form"),d=u("div"),g=u("input"),I=b(),x=u("input"),P=b(),C=u("input"),O=b(),L=u("p"),$=m("Powered by Buttondown."),this.h()},l(e){t=k(e,"DIV",{class:!0});var a=v(t);n=k(a,"H1",{});var i=v(n);o=E(i,"Subscribe to my newsletter"),i.forEach(h),s=y(a),r=k(a,"H2",{class:!0});var p=v(r);l=E(p,"Get the latest blog posts and project updates delivered right to your inbox"),p.forEach(h),c=y(a),f=k(a,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var u=v(f);d=k(u,"DIV",{class:!0});var m=v(d);g=k(m,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),I=y(m),x=k(m,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),m.forEach(h),P=y(u),C=k(u,"INPUT",{type:!0,value:!0,name:!0,class:!0}),O=y(u),L=k(u,"P",{class:!0});var b=v(L);$=E(b,"Powered by Buttondown."),b.forEach(h),u.forEach(h),a.forEach(h),this.h()},h(){w(r,"class","svelte-1k1s1co"),w(g,"type","email"),w(g,"name","email"),w(g,"id","bd-email"),w(g,"aria-label","email address"),w(g,"placeholder","youremail@example.com"),w(g,"class","svelte-1k1s1co"),w(x,"type","submit"),x.value="Subscribe",x.disabled=T=!a[0],w(x,"class","svelte-1k1s1co"),w(d,"class","form-item svelte-1k1s1co"),w(C,"type","hidden"),C.value="1",w(C,"name","embed"),w(C,"class","svelte-1k1s1co"),w(L,"class","svelte-1k1s1co"),w(f,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),w(f,"method","post"),w(f,"target","popupwindow"),w(f,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),w(f,"class","embeddable-buttondown-form"),w(t,"class","form svelte-1k1s1co")},m(e,h){var u,m,b,w;p(e,t,h),i(t,n),i(n,o),i(t,s),i(t,r),i(r,l),i(t,c),i(t,f),i(f,d),i(d,g),A(g,a[0]),i(d,I),i(d,x),i(f,P),i(f,C),i(f,O),i(f,L),i(L,$),S||(u=g,m="input",b=a[1],u.addEventListener(m,b,w),M=()=>u.removeEventListener(m,b,w),S=!0)},p(e,[a]){1&a&&g.value!==e[0]&&A(g,e[0]),1&a&&T!==(T=!e[0])&&(x.disabled=T)},i:e,o:e,d(e){e&&h(t),S=!1,M()}}}function Z(e,a,t){let n;return[n,function(){n=this.value,t(0,n)}]}class ee extends Y{constructor(e){super(),J(this,e,Z,V,r,{})}}function ae(e){return C(()=>(setTimeout(()=>{if(window.innerWidth>1080){const e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",e.id="_carbonads_js",document.body.appendChild(e)}},5e3),()=>{try{const e=document.getElementById("carbonads");e.parentNode.removeChild(e)}catch(e){}})),[]}class te extends Y{constructor(e){super(),J(this,e,ae,null,r,{})}}function ne(e,a,t){const n=e.slice();return n[6]=a[t],n}function oe(e,a,t){const n=e.slice();return n[6]=a[t],n}function se(e){let a,t;return{c(){a=u("meta"),this.h()},l(e){a=k(e,"META",{name:!0,content:!0}),this.h()},h(){w(a,"name","keywords"),w(a,"content",t=e[6])},m(e,t){p(e,a,t)},p(e,n){4&n&&t!==(t=e[6])&&w(a,"content",t)},d(e){e&&h(a)}}}function re(e){let a,t,n=e[6]+"";return{c(){a=u("span"),t=m(n),this.h()},l(e){a=k(e,"SPAN",{class:!0});var o=v(a);t=E(o,n),o.forEach(h),this.h()},h(){w(a,"class","svelte-9tqnza")},m(e,n){p(e,a,n),i(a,t)},p(e,a){4&a&&n!==(n=e[6]+"")&&I(t,n)},d(e){e&&h(a)}}}function le(e){let a,t,n,o,s,r,d,A,T,P,C,O,L,$,S,M,j,F,D,B,R,N,H,W,J,Y,K,V,Z,ae,le,ce,ie,pe,he,fe,ue=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`,de=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fparsing-error-flow-type-parameter-instantiation",name:e[0]},position:2}]})}<\/script>`;document.title=a=e[0]+" | Tan Li Hau";let me=e[2],be=[];for(let a=0;a<me.length;a+=1)be[a]=se(oe(e,me,a));H=new Q({});let ge=e[2],we=[];for(let a=0;a<ge.length;a+=1)we[a]=re(ne(e,ge,a));const ve=e[5].default,ke=function(e,a,t,n){if(e){const o=l(e,a,t,n);return e[0](o)}}(ve,e,e[4],null);return ie=new ee({}),he=new te({}),{c(){t=u("meta"),n=u("meta"),o=u("meta"),s=u("meta"),r=u("meta"),d=u("meta"),A=u("meta"),T=u("meta"),P=u("meta"),C=u("meta"),O=u("meta");for(let e=0;e<be.length;e+=1)be[e].c();L=u("meta"),$=u("meta"),M=g(),F=g(),D=b(),B=u("a"),R=m("Skip to content"),N=b(),U(H.$$.fragment),W=b(),J=u("main"),Y=u("h1"),K=m(e[0]),V=b();for(let e=0;e<we.length;e+=1)we[e].c();Z=b(),ae=u("article"),ke&&ke.c(),le=b(),ce=u("footer"),U(ie.$$.fragment),pe=b(),U(he.$$.fragment),this.h()},l(a){const l=function(e,a=document.body){return Array.from(a.querySelectorAll(e))}('[data-svelte="svelte-n0q11s"]',document.head);t=k(l,"META",{name:!0,content:!0}),n=k(l,"META",{name:!0,content:!0}),o=k(l,"META",{name:!0,content:!0}),s=k(l,"META",{name:!0,content:!0}),r=k(l,"META",{name:!0,content:!0}),d=k(l,"META",{name:!0,content:!0}),A=k(l,"META",{name:!0,content:!0}),T=k(l,"META",{name:!0,content:!0}),P=k(l,"META",{name:!0,content:!0}),C=k(l,"META",{name:!0,content:!0}),O=k(l,"META",{name:!0,content:!0});for(let e=0;e<be.length;e+=1)be[e].l(l);L=k(l,"META",{itemprop:!0,content:!0}),$=k(l,"META",{itemprop:!0,content:!0}),M=g(),F=g(),l.forEach(h),D=y(a),B=k(a,"A",{href:!0,class:!0});var c=v(B);R=E(c,"Skip to content"),c.forEach(h),N=y(a),X(H.$$.fragment,a),W=y(a),J=k(a,"MAIN",{id:!0,class:!0});var i=v(J);Y=k(i,"H1",{});var p=v(Y);K=E(p,e[0]),p.forEach(h),V=y(i);for(let e=0;e<we.length;e+=1)we[e].l(i);Z=y(i),ae=k(i,"ARTICLE",{});var f=v(ae);ke&&ke.l(f),f.forEach(h),i.forEach(h),le=y(a),ce=k(a,"FOOTER",{class:!0});var u=v(ce);X(ie.$$.fragment,u),pe=y(u),X(he.$$.fragment,u),u.forEach(h),this.h()},h(){w(t,"name","description"),w(t,"content",e[1]),w(n,"name","image"),w(n,"content",null),w(o,"name","og:image"),w(o,"content",null),w(s,"name","og:title"),w(s,"content",e[0]),w(r,"name","og:description"),w(r,"content",e[1]),w(d,"name","og:type"),w(d,"content","website"),w(A,"name","twitter:card"),w(A,"content","summary_large_image"),w(T,"name","twitter:creator"),w(T,"content","@lihautan"),w(P,"name","twitter:title"),w(P,"content",e[0]),w(C,"name","twitter:description"),w(C,"content",e[1]),w(O,"name","twitter:image"),w(O,"content",null),w(L,"itemprop","url"),w(L,"content","https%3A%2F%2Flihautan.com%2Fparsing-error-flow-type-parameter-instantiation"),w($,"itemprop","image"),w($,"content",null),S=new x(M),j=new x(F),w(B,"href","#content"),w(B,"class","skip svelte-9tqnza"),w(J,"id","content"),w(J,"class","blog svelte-9tqnza"),w(ce,"class","svelte-9tqnza")},m(e,a){i(document.head,t),i(document.head,n),i(document.head,o),i(document.head,s),i(document.head,r),i(document.head,d),i(document.head,A),i(document.head,T),i(document.head,P),i(document.head,C),i(document.head,O);for(let e=0;e<be.length;e+=1)be[e].m(document.head,null);i(document.head,L),i(document.head,$),S.m(ue,document.head),i(document.head,M),j.m(de,document.head),i(document.head,F),p(e,D,a),p(e,B,a),i(B,R),p(e,N,a),q(H,e,a),p(e,W,a),p(e,J,a),i(J,Y),i(Y,K),i(J,V);for(let e=0;e<we.length;e+=1)we[e].m(J,null);i(J,Z),i(J,ae),ke&&ke.m(ae,null),p(e,le,a),p(e,ce,a),q(ie,ce,null),i(ce,pe),q(he,ce,null),fe=!0},p(e,[n]){if((!fe||1&n)&&a!==(a=e[0]+" | Tan Li Hau")&&(document.title=a),(!fe||2&n)&&w(t,"content",e[1]),(!fe||1&n)&&w(s,"content",e[0]),(!fe||2&n)&&w(r,"content",e[1]),(!fe||1&n)&&w(P,"content",e[0]),(!fe||2&n)&&w(C,"content",e[1]),4&n){let a;for(me=e[2],a=0;a<me.length;a+=1){const t=oe(e,me,a);be[a]?be[a].p(t,n):(be[a]=se(t),be[a].c(),be[a].m(L.parentNode,L))}for(;a<be.length;a+=1)be[a].d(1);be.length=me.length}if((!fe||3&n)&&ue!==(ue=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`)&&S.p(ue),(!fe||1&n)&&de!==(de=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fparsing-error-flow-type-parameter-instantiation",name:e[0]},position:2}]})}<\/script>`)&&j.p(de),(!fe||1&n)&&I(K,e[0]),4&n){let a;for(ge=e[2],a=0;a<ge.length;a+=1){const t=ne(e,ge,a);we[a]?we[a].p(t,n):(we[a]=re(t),we[a].c(),we[a].m(J,Z))}for(;a<we.length;a+=1)we[a].d(1);we.length=ge.length}ke&&ke.p&&16&n&&c(ke,ve,e,e[4],n,null,null)},i(e){fe||(_(H.$$.fragment,e),_(ke,e),_(ie.$$.fragment,e),_(he.$$.fragment,e),fe=!0)},o(e){G(H.$$.fragment,e),G(ke,e),G(ie.$$.fragment,e),G(he.$$.fragment,e),fe=!1},d(e){h(t),h(n),h(o),h(s),h(r),h(d),h(A),h(T),h(P),h(C),h(O),f(be,e),h(L),h($),h(M),e&&S.d(),h(F),e&&j.d(),e&&h(D),e&&h(B),e&&h(N),z(H,e),e&&h(W),e&&h(J),f(we,e),ke&&ke.d(e),e&&h(le),e&&h(ce),z(ie),z(he)}}}function ce(e,a,t){let{title:n=""}=a,{description:o=""}=a,{tags:s=[]}=a;const r={"@type":"Person",name:"Tan Li Hau"};let{$$slots:l={},$$scope:c}=a;return e.$set=e=>{"title"in e&&t(0,n=e.title),"description"in e&&t(1,o=e.description),"tags"in e&&t(2,s=e.tags),"$$scope"in e&&t(4,c=e.$$scope)},[n,o,s,r,c,l]}class ie extends Y{constructor(e){super(),J(this,e,ce,le,r,{title:0,description:1,tags:2})}}function pe(a){let t,n,o,s,r,l,c,f,d,g,I,A,T,P,C,O,L,$,S,M,j,F,D,B,R,N,H,_,G,U,X,q,z,W,J,Y,K,Q,V,Z,ee,ae,te,ne,oe,se,re,le,ce,ie,pe,he,fe,ue,de,me,be,ge,we,ve,ke,Ee,ye,Ie,Ae,xe,Te,Pe,Ce,Oe,Le,$e,Se,Me,je,Fe,De,Be,Re,Ne,He,_e,Ge,Ue,Xe,qe,ze,We,Je,Ye,Ke,Qe,Ve,Ze,ea,aa,ta,na,oa,sa,ra,la,ca,ia,pa,ha,fa,ua,da,ma,ba,ga,wa,va,ka,Ea,ya,Ia,Aa,xa,Ta,Pa,Ca,Oa,La,$a,Sa,Ma,ja,Fa,Da,Ba,Ra,Na,Ha,_a,Ga,Ua,Xa,qa,za,Wa,Ja,Ya,Ka,Qa,Va,Za,et,at,tt,nt,ot,st,rt,lt,ct,it,pt,ht,ft,ut,dt,mt,bt,gt,wt,vt,kt,Et,yt,It,At,xt,Tt,Pt,Ct,Ot,Lt,$t,St,Mt,jt,Ft,Dt,Bt,Rt,Nt,Ht,_t,Gt,Ut,Xt,qt,zt,Wt,Jt,Yt,Kt,Qt,Vt,Zt,en,an,tn,nn,on,sn,rn,ln,cn,pn,hn,fn,un,dn,mn,bn,gn,wn,vn,kn,En,yn,In,An,xn,Tn,Pn,Cn,On,Ln,$n,Sn,Mn,jn,Fn,Dn,Bn,Rn,Nn,Hn,_n,Gn,Un,Xn,qn,zn,Wn,Jn,Yn,Kn,Qn,Vn,Zn,eo,ao,to,no,oo,so,ro,lo,co,io,po,ho,fo,uo,mo,bo,go,wo,vo,ko,Eo,yo,Io,Ao,xo,To,Po,Co,Oo,Lo,$o,So,Mo,jo,Fo,Do,Bo,Ro,No,Ho,_o,Go,Uo,Xo,qo,zo,Wo,Jo,Yo,Ko,Qo,Vo,Zo,es,as,ts,ns,os,ss,rs,ls,cs,is,ps,hs,fs,us,ds,ms,bs,gs,ws,vs,ks,Es,ys,Is,As,xs,Ts,Ps,Cs,Os,Ls,$s,Ss,Ms,js,Fs,Ds,Bs,Rs,Ns,Hs,_s,Gs,Us,Xs,qs,zs,Ws,Js,Ys,Ks,Qs,Vs,Zs,er,ar,tr,nr,or,sr,rr,lr,cr,ir,pr,hr,fr,ur,dr,mr,br,gr,wr,vr,kr,Er,yr,Ir,Ar,xr,Tr,Pr,Cr,Or,Lr,$r,Sr,Mr,jr,Fr,Dr,Br,Rr,Nr,Hr,_r,Gr,Ur,Xr,qr,zr,Wr,Jr,Yr,Kr,Qr,Vr,Zr,el,al,tl,nl,ol,sl,rl,ll,cl,il,pl,hl,fl,ul,dl,ml,bl,gl,wl,vl,kl,El,yl,Il,Al,xl,Tl,Pl,Cl,Ol,Ll,$l,Sl,Ml,jl,Fl,Dl,Bl,Rl,Nl,Hl,_l,Gl,Ul,Xl,ql,zl,Wl,Jl,Yl,Kl,Ql,Vl,Zl,ec,ac,tc,nc,oc,sc,rc,lc,cc,ic,pc,hc,fc,uc,dc,mc,bc,gc,wc,vc,kc,Ec,yc,Ic,Ac,xc,Tc,Pc,Cc,Oc,Lc,$c,Sc,Mc,jc,Fc,Dc,Bc,Rc,Nc,Hc,_c,Gc,Uc,Xc,qc,zc,Wc,Jc,Yc,Kc,Qc,Vc,Zc,ei;return{c(){t=u("section"),n=u("ul"),o=u("li"),s=u("a"),r=m("Background"),l=u("li"),c=u("a"),f=m("ReferenceError: XType is not defined"),d=u("li"),g=u("a"),I=m("Game Plan"),A=u("li"),T=u("a"),P=m("Flow"),C=u("li"),O=u("a"),L=m("Babel"),$=u("li"),S=u("a"),M=m("Make changes to the babel code"),j=u("li"),F=u("a"),D=m("Closing Remark"),B=b(),R=u("section"),N=u("h2"),H=u("a"),_=m("Background"),G=b(),U=u("p"),X=m("Mentioned in the "),q=u("a"),z=m("previous post"),W=m(", we have "),J=u("a"),Y=m("upgraded babel 7"),K=m(" to support the new Flow syntax."),Q=b(),V=u("p"),Z=u("code"),ee=m("foobar<Type>(x)"),ae=m(" is now "),te=u("em"),ne=m("call foobar with x, and type parameter "),oe=u("code"),se=m("Type"),re=m(" rather than "),le=u("code"),ce=m("(foobar < Type) > x)"),ie=b(),pe=u("em"),he=m("is the result of foobar smaller than Type, greater than x?"),fe=m("."),ue=b(),de=u("blockquote"),me=u("p"),be=m("Everything is great, until a weird runtime error caught us off guard."),ge=b(),we=u("section"),ve=u("h2"),ke=u("a"),Ee=m("ReferenceError: XType is not defined"),ye=b(),Ie=u("pre"),Ae=b(),xe=u("p"),Te=m("The first time I saw this error, my first impression was that I forgot to import "),Pe=u("code"),Ce=m("XType"),Oe=m(", so I scrolled to the top of the document. But, alas, I "),Le=u("strong"),$e=m("did import"),Se=b(),Me=u("code"),je=m("XType"),Fe=m("."),De=b(),Be=u("p"),Re=m("So what is going on? 🤷‍"),Ne=b(),He=u("p"),_e=m("I clicked into the error,"),Ge=b(),Ue=u("pre"),Xe=b(),qe=u("p"),ze=m("looked at me innocently. I knew something was wrong. "),We=u("code"),Je=m("XType"),Ye=m(" wasn't stripeed by babel!"),Ke=b(),Qe=u("p"),Ve=m("Shameless plug: If you read my "),Ze=u("a"),ea=m("eslint for flow syntax"),aa=m(", you should be able to come to the same conclusion! 😅"),ta=b(),na=u("p"),oa=m("So I checked the "),sa=u("a"),ra=m("@babel/plugin strip-flow-types"),la=m(", I realise there's a "),ca=u("code"),ia=m("all"),pa=m(" option that I had missed out, basically it says,"),ha=b(),fa=u("blockquote"),ua=u("p"),da=u("strong"),ma=m("only parse"),ba=m(" Flow-specific features if a "),ga=u("code"),wa=m("@flow"),va=m(" pragma is "),ka=u("strong"),Ea=m("present atop"),ya=m(" the file"),Ia=b(),Aa=u("p"),xa=m("It seems that in my file,"),Ta=b(),Pa=u("pre"),Ca=b(),Oa=u("p"),La=m("I had a innocent looking "),$a=u("code"),Sa=m("/** @module */"),Ma=m(" comment above "),ja=u("code"),Fa=m("// @flow"),Da=m(" that breaks my babel plugin!"),Ba=b(),Ra=u("p"),Na=m("So the quick fix is to either:"),Ha=b(),_a=u("ul"),Ga=u("li"),Ua=m("Move "),Xa=u("code"),qa=m("// @flow"),za=m(" comment above "),Wa=u("code"),Ja=m("/** @module foobar */"),Ya=m(", or"),Ka=b(),Qa=u("li"),Va=m("Set "),Za=u("code"),et=m("all: true"),at=m(" in "),tt=u("code"),nt=m("@babel/plugin-transform-flow-strip-types"),ot=m("."),st=b(),rt=u("p"),lt=m("Either way, it solves the issue."),ct=b(),it=u("p"),pt=m("However, one thing bothers me:"),ht=b(),ft=u("blockquote"),ut=u("p"),dt=m("My Flow works perfectly fine with an extra comment on top "),mt=u("code"),bt=m("// @flow"),gt=m(", it still typechecks and provides auto-suggestions."),wt=b(),vt=u("p"),kt=m("So, the logic for "),Et=u("code"),yt=m("@babel/plugin-transform-flow-strip-types"),It=m(" and Flow to determine whether a file is a Flow file or not "),At=u("strong"),xt=m("is different"),Tt=m("!"),Pt=b(),Ct=u("p"),Ot=m("And as a frequent user of Open Source libraries, this is something I think I "),Lt=u("del"),$t=m("can"),St=m(" should fix, for the betterment of the JavaScript Open Source world 😅. I always imagine there's another innocent front-end developer across the world like me stumbled upon a perplexing bug, if only me let the bug go with a workaround/patch."),Mt=b(),jt=u("blockquote"),Ft=u("p"),Dt=m("There's so much to achieve if we, not just consume the effort of others from the Open Source, but to also contribute into it."),Bt=b(),Rt=u("section"),Nt=u("h2"),Ht=u("a"),_t=m("Game Plan"),Gt=b(),Ut=u("p"),Xt=m("So, to fix this bug, one simply has to:"),qt=b(),zt=u("ul"),Wt=u("li"),Jt=m("Read Flow's source code and understand the logic"),Yt=b(),Kt=u("li"),Qt=m("Read @babel/plugin-transform-strip-flow-type's source code and understand the logic"),Vt=b(),Zt=u("li"),en=m("Make changes to babel code"),an=b(),tn=u("li"),nn=m("Send a MR and brag about it 😎"),on=b(),sn=u("p"),rn=m("Whether this is achieveable at my current level, that's a different story.\nBut "),ln=u("strong"),cn=m("one has nothing to lose to try and fail"),pn=m("."),hn=b(),fn=u("section"),un=u("h2"),dn=u("a"),mn=m("Flow"),bn=b(),gn=u("p"),wn=m("I've read a bit of Flow source code previously, mainly to "),vn=u("a"),kn=m("fix a bad developer experience I had with flowconfig previously"),En=m(". I had to learn "),yn=u("a"),In=m("OCaml"),An=m(", which was a fad a while ago because of "),xn=u("a"),Tn=m("ReasonML"),Pn=m(", to understand Flow source code."),Cn=b(),On=u("p"),Ln=m("So, this time around, I am much more comfortable to dig the code to find out the information I want."),$n=b(),Sn=u("p"),Mn=m("I searched for the term "),jn=u("code"),Fn=m('"@flow"'),Dn=m(", which ended me up with "),Bn=u("a"),Rn=m("this function"),Nn=m(", "),Hn=u("code"),_n=m("extract_docblock"),Gn=m(" which returns me the information of whether "),Un=u("code"),Xn=m("@flow"),qn=m(" is present in the file. And I dug further, I ended up with "),zn=u("a"),Wn=m("the annonymous function that "),Jn=u("code"),Yn=m("extract_docblck"),Kn=m(" returns"),Qn=m("."),Vn=b(),Zn=u("p"),eo=m("Allow me to loosely translate the logic into some pseudo JavaScript:"),ao=b(),to=u("pre"),no=b(),oo=u("p"),so=m("In human language:"),ro=b(),lo=u("p"),co=m("Flow will read "),io=u("code"),po=m("maxTokens"),ho=m(" number of tokens, look for comments that matches "),fo=u("code"),uo=m("@flow"),mo=m(", if it encounters any order tokens, it will bail out early, with the exception of string and semicolon."),bo=b(),go=u("p"),wo=m("So,"),vo=b(),ko=u("pre"),Eo=b(),yo=u("p"),Io=m("and"),Ao=b(),xo=u("pre"),To=b(),Po=u("p"),Co=m("is considered as a valid Flow file."),Oo=b(),Lo=u("p"),$o=m("But"),So=b(),Mo=u("pre"),jo=b(),Fo=u("p"),Do=m("or"),Bo=b(),Ro=u("pre"),No=b(),Ho=u("p"),_o=m("is not."),Go=b(),Uo=u("section"),Xo=u("h2"),qo=u("a"),zo=m("Babel"),Wo=b(),Jo=u("p"),Yo=m("At first, I thought that the logic would be in "),Ko=u("code"),Qo=m("@babel/transform-strip-flow-types"),Vo=m(", but apparently, its not."),Zo=b(),es=u("p"),as=m("I discovered that by realising that the "),ts=u("a"),ns=m("source code of @babel/transform-strip-flow-types"),os=m(" did not include anything about the "),ss=u("code"),rs=m("all"),ls=m(" options, and "),cs=u("a"),is=m("this plugin extends the @babel/plugin-syntax-flow"),ps=m(", which I knew fairly well that syntax plugins in babel does nothing but to enable syntax switch of the "),hs=u("code"),fs=m("@babel/parser"),us=m(". The bulk of the logic lies within the "),ds=u("a"),ms=u("code"),bs=m("@babel/parser"),gs=m("'s flow plugin"),ws=m("."),vs=b(),ks=u("p"),Es=m("That was all because "),ys=u("a"),Is=m("I contributed to "),As=u("code"),xs=m("@babel/parser"),Ts=m(" before"),Ps=m("."),Cs=b(),Os=u("p"),Ls=m("And here we are in babel-parser, and the line that caught my attention is "),$s=u("a"),Ss=m("this"),Ms=m(":"),js=b(),Fs=u("pre"),Ds=b(),Bs=u("p"),Rs=m("So, the babel's logic of getting a Flow pragma is that as soon as the first comment encountered, we parse the comment and we turn on the Flow syntax switch."),Ns=b(),Hs=u("p"),_s=m("This is the reason why if we have a comment before "),Gs=u("code"),Us=m("// @flow"),Xs=m(", we will not treat the file as a valid Flow file."),qs=b(),zs=u("p"),Ws=m("Interesting enough, this means that if we write"),Js=b(),Ys=u("pre"),Ks=b(),Qs=u("p"),Vs=m("the first half of the code before "),Zs=u("code"),er=m("// @flow"),ar=m(" was parsed as a normal JS code, and the second half after "),tr=u("code"),nr=m("// @flow"),or=m(" was parsed as a Flow code."),sr=b(),rr=u("p"),lr=m("You can see this clearly with "),ir=m("."),pr=b(),hr=u("p"),fr=u("em"),ur=m("(I built it with React + Hooks over a long weekend, which I will share about how did it in the future.)"),dr=m("."),mr=b(),br=u("p"),gr=m("You can see that the first expression is a "),wr=u("code"),vr=m("BinaryExpression"),kr=m(" but the second expression is a "),Er=u("code"),yr=m("CallExpression"),Ir=m(";"),Ar=b(),xr=u("section"),Tr=u("h2"),Pr=u("a"),Cr=m("Make changes to the babel code"),Or=b(),Lr=u("p"),$r=m("Now step 3, make changes to babel code. So I decided to open an issue and started fixing the code. Surprisingly, someone else "),Sr=u("a"),Mr=m("had reported the issue a few months ago"),jr=m(", and the issue was still opened."),Fr=b(),Dr=u("p"),Br=m("So "),Rr=u("a"),Nr=m("I explained what I had discovered"),Hr=m(", and tried to "),_r=u("a"),Gr=m("propose a solution"),Ur=m(". Well, after some struggle, I realised I am still a bit behind from being able to fix this code."),Xr=b(),qr=u("p"),zr=m("So how?"),Wr=b(),Jr=u("p"),Yr=m("I submitted a "),Kr=u("a"),Qr=m("PR"),Vr=m(" with a big "),Zr=u("strong"),el=m("WIP"),al=m(", because I didn't know how to look ahead "),tl=u("code"),nl=m("n"),ol=m(" tokens and determine the "),sl=u("code"),rl=m("flowPragma"),ll=m(" flag before "),cl=u("code"),il=m("babel"),pl=m(" starts parsing the code. I explored around the "),hl=u("code"),fl=m("babel-parser"),ul=m(" source code, uncover new concepts that I never knew before. It took me a day to contemplate and fiddle around, until something sparked me."),dl=b(),ml=u("p"),bl=m("I realised I do not have to follow exactly Flow's logic in order to achieve similar behaviour. That's when I submitted another "),gl=u("a"),wl=m("PR"),vl=m(" and closed the previous one. "),kl=u("em"),El=m("(You can check it out if you are curious about it)"),yl=m("."),Il=b(),Al=u("p"),xl=m("And finally, the fix has merged into "),Tl=u("a"),Pl=m("babel v7.4.4"),Cl=m("! 🎉🎉"),Ol=b(),Ll=u("p"),$l=m("And I can't wait to try all the edge cases that I have fixed in babel repl:"),Sl=b(),Ml=u("ul"),jl=u("li"),Fl=u("a"),Dl=u("code"),Bl=m("'use strict'"),Rl=m("; before "),Nl=u("code"),Hl=m("// @flow"),_l=b(),Gl=u("li"),Ul=u("a"),Xl=m("comments before "),ql=u("code"),zl=m("//@flow"),Wl=b(),Jl=u("li"),Yl=u("a"),Kl=m("first comment is "),Ql=u("code"),Vl=m("//@flow"),Zl=m(", but in the middle of the file"),ec=b(),ac=u("section"),tc=u("h2"),nc=u("a"),oc=m("Closing Remark"),sc=b(),rc=u("p"),lc=u("del"),cc=m("Well, I am sorry that I am going to stop here, because the issue is still opened, but I hoped you enjoy the detective journey along the way of hunting this bug."),ic=b(),pc=u("p"),hc=u("del"),fc=m("If you encountered similar issues, you can patch it first with the solution I mentioned earlier. And do follow the Github issue, I will do my best to fix this."),uc=b(),dc=u("p"),mc=m("If you encountered similar issues, please "),bc=u("a"),gc=m("upgrade babel to v7.4.4"),wc=m("."),vc=b(),kc=u("blockquote"),Ec=u("p"),yc=m("The best thing about open source is that the source code is open. As part of the JS community, we should not just reap the efforts of the community when we are building our next billion dollar idea, we should also contribute back so that the community as a whole can grow and improve together."),Ic=b(),Ac=u("p"),xc=m("As usual, here are the list of references for this article:"),Tc=b(),Pc=u("ul"),Cc=u("li"),Oc=u("a"),Lc=m("Blog: Errors encountered upgrading Flow v0.85"),$c=b(),Sc=u("li"),Mc=u("a"),jc=m("My eslint doesn’t work with for flow 0.85’s explicit type argument syntax"),Fc=b(),Dc=u("li"),Bc=u("a"),Rc=m("Docs: Upgrading Babel v7"),Nc=b(),Hc=u("li"),_c=u("a"),Gc=m("Docs: @babel/transform-plugin-flow-strip-types"),Uc=b(),Xc=u("li"),qc=u("a"),zc=m("Docs: ReasonML"),Wc=b(),Jc=u("li"),Yc=u("a"),Kc=m("Code: Flow Parsing Service"),Qc=b(),Vc=u("li"),Zc=u("a"),ei=m("Issue: Parsing error when calling generic functions with type arguments when flow pragma is not first comment"),this.h()},l(e){t=k(e,"SECTION",{});var a=v(t);n=k(a,"UL",{class:!0,id:!0,role:!0,"aria-label":!0});var i=v(n);o=k(i,"LI",{});var p=v(o);s=k(p,"A",{href:!0});var u=v(s);r=E(u,"Background"),u.forEach(h),p.forEach(h),l=k(i,"LI",{});var m=v(l);c=k(m,"A",{href:!0});var b=v(c);f=E(b,"ReferenceError: XType is not defined"),b.forEach(h),m.forEach(h),d=k(i,"LI",{});var w=v(d);g=k(w,"A",{href:!0});var x=v(g);I=E(x,"Game Plan"),x.forEach(h),w.forEach(h),A=k(i,"LI",{});var cr=v(A);T=k(cr,"A",{href:!0});var ai=v(T);P=E(ai,"Flow"),ai.forEach(h),cr.forEach(h),C=k(i,"LI",{});var ti=v(C);O=k(ti,"A",{href:!0});var ni=v(O);L=E(ni,"Babel"),ni.forEach(h),ti.forEach(h),$=k(i,"LI",{});var oi=v($);S=k(oi,"A",{href:!0});var si=v(S);M=E(si,"Make changes to the babel code"),si.forEach(h),oi.forEach(h),j=k(i,"LI",{});var ri=v(j);F=k(ri,"A",{href:!0});var li=v(F);D=E(li,"Closing Remark"),li.forEach(h),ri.forEach(h),i.forEach(h),a.forEach(h),B=y(e),R=k(e,"SECTION",{});var ci=v(R);N=k(ci,"H2",{});var ii=v(N);H=k(ii,"A",{href:!0,id:!0});var pi=v(H);_=E(pi,"Background"),pi.forEach(h),ii.forEach(h),G=y(ci),U=k(ci,"P",{});var hi=v(U);X=E(hi,"Mentioned in the "),q=k(hi,"A",{href:!0});var fi=v(q);z=E(fi,"previous post"),fi.forEach(h),W=E(hi,", we have "),J=k(hi,"A",{href:!0,rel:!0});var ui=v(J);Y=E(ui,"upgraded babel 7"),ui.forEach(h),K=E(hi," to support the new Flow syntax."),hi.forEach(h),Q=y(ci),V=k(ci,"P",{});var di=v(V);Z=k(di,"CODE",{});var mi=v(Z);ee=E(mi,"foobar<Type>(x)"),mi.forEach(h),ae=E(di," is now "),te=k(di,"EM",{});var bi=v(te);ne=E(bi,"call foobar with x, and type parameter "),oe=k(bi,"CODE",{});var gi=v(oe);se=E(gi,"Type"),gi.forEach(h),bi.forEach(h),re=E(di," rather than "),le=k(di,"CODE",{});var wi=v(le);ce=E(wi,"(foobar < Type) > x)"),wi.forEach(h),ie=y(di),pe=k(di,"EM",{});var vi=v(pe);he=E(vi,"is the result of foobar smaller than Type, greater than x?"),vi.forEach(h),fe=E(di,"."),di.forEach(h),ue=y(ci),de=k(ci,"BLOCKQUOTE",{});var ki=v(de);me=k(ki,"P",{});var Ei=v(me);be=E(Ei,"Everything is great, until a weird runtime error caught us off guard."),Ei.forEach(h),ki.forEach(h),ci.forEach(h),ge=y(e),we=k(e,"SECTION",{});var yi=v(we);ve=k(yi,"H2",{});var Ii=v(ve);ke=k(Ii,"A",{href:!0,id:!0});var Ai=v(ke);Ee=E(Ai,"ReferenceError: XType is not defined"),Ai.forEach(h),Ii.forEach(h),ye=y(yi),Ie=k(yi,"PRE",{class:!0}),v(Ie).forEach(h),Ae=y(yi),xe=k(yi,"P",{});var xi=v(xe);Te=E(xi,"The first time I saw this error, my first impression was that I forgot to import "),Pe=k(xi,"CODE",{});var Ti=v(Pe);Ce=E(Ti,"XType"),Ti.forEach(h),Oe=E(xi,", so I scrolled to the top of the document. But, alas, I "),Le=k(xi,"STRONG",{});var Pi=v(Le);$e=E(Pi,"did import"),Pi.forEach(h),Se=y(xi),Me=k(xi,"CODE",{});var Ci=v(Me);je=E(Ci,"XType"),Ci.forEach(h),Fe=E(xi,"."),xi.forEach(h),De=y(yi),Be=k(yi,"P",{});var Oi=v(Be);Re=E(Oi,"So what is going on? 🤷‍"),Oi.forEach(h),Ne=y(yi),He=k(yi,"P",{});var Li=v(He);_e=E(Li,"I clicked into the error,"),Li.forEach(h),Ge=y(yi),Ue=k(yi,"PRE",{class:!0}),v(Ue).forEach(h),Xe=y(yi),qe=k(yi,"P",{});var $i=v(qe);ze=E($i,"looked at me innocently. I knew something was wrong. "),We=k($i,"CODE",{});var Si=v(We);Je=E(Si,"XType"),Si.forEach(h),Ye=E($i," wasn't stripeed by babel!"),$i.forEach(h),Ke=y(yi),Qe=k(yi,"P",{});var Mi=v(Qe);Ve=E(Mi,"Shameless plug: If you read my "),Ze=k(Mi,"A",{href:!0});var ji=v(Ze);ea=E(ji,"eslint for flow syntax"),ji.forEach(h),aa=E(Mi,", you should be able to come to the same conclusion! 😅"),Mi.forEach(h),ta=y(yi),na=k(yi,"P",{});var Fi=v(na);oa=E(Fi,"So I checked the "),sa=k(Fi,"A",{href:!0,rel:!0});var Di=v(sa);ra=E(Di,"@babel/plugin strip-flow-types"),Di.forEach(h),la=E(Fi,", I realise there's a "),ca=k(Fi,"CODE",{});var Bi=v(ca);ia=E(Bi,"all"),Bi.forEach(h),pa=E(Fi," option that I had missed out, basically it says,"),Fi.forEach(h),ha=y(yi),fa=k(yi,"BLOCKQUOTE",{});var Ri=v(fa);ua=k(Ri,"P",{});var Ni=v(ua);da=k(Ni,"STRONG",{});var Hi=v(da);ma=E(Hi,"only parse"),Hi.forEach(h),ba=E(Ni," Flow-specific features if a "),ga=k(Ni,"CODE",{});var _i=v(ga);wa=E(_i,"@flow"),_i.forEach(h),va=E(Ni," pragma is "),ka=k(Ni,"STRONG",{});var Gi=v(ka);Ea=E(Gi,"present atop"),Gi.forEach(h),ya=E(Ni," the file"),Ni.forEach(h),Ri.forEach(h),Ia=y(yi),Aa=k(yi,"P",{});var Ui=v(Aa);xa=E(Ui,"It seems that in my file,"),Ui.forEach(h),Ta=y(yi),Pa=k(yi,"PRE",{class:!0}),v(Pa).forEach(h),Ca=y(yi),Oa=k(yi,"P",{});var Xi=v(Oa);La=E(Xi,"I had a innocent looking "),$a=k(Xi,"CODE",{});var qi=v($a);Sa=E(qi,"/** @module */"),qi.forEach(h),Ma=E(Xi," comment above "),ja=k(Xi,"CODE",{});var zi=v(ja);Fa=E(zi,"// @flow"),zi.forEach(h),Da=E(Xi," that breaks my babel plugin!"),Xi.forEach(h),Ba=y(yi),Ra=k(yi,"P",{});var Wi=v(Ra);Na=E(Wi,"So the quick fix is to either:"),Wi.forEach(h),Ha=y(yi),_a=k(yi,"UL",{});var Ji=v(_a);Ga=k(Ji,"LI",{});var Yi=v(Ga);Ua=E(Yi,"Move "),Xa=k(Yi,"CODE",{});var Ki=v(Xa);qa=E(Ki,"// @flow"),Ki.forEach(h),za=E(Yi," comment above "),Wa=k(Yi,"CODE",{});var Qi=v(Wa);Ja=E(Qi,"/** @module foobar */"),Qi.forEach(h),Ya=E(Yi,", or"),Yi.forEach(h),Ka=y(Ji),Qa=k(Ji,"LI",{});var Vi=v(Qa);Va=E(Vi,"Set "),Za=k(Vi,"CODE",{});var Zi=v(Za);et=E(Zi,"all: true"),Zi.forEach(h),at=E(Vi," in "),tt=k(Vi,"CODE",{});var ep=v(tt);nt=E(ep,"@babel/plugin-transform-flow-strip-types"),ep.forEach(h),ot=E(Vi,"."),Vi.forEach(h),Ji.forEach(h),st=y(yi),rt=k(yi,"P",{});var ap=v(rt);lt=E(ap,"Either way, it solves the issue."),ap.forEach(h),ct=y(yi),it=k(yi,"P",{});var tp=v(it);pt=E(tp,"However, one thing bothers me:"),tp.forEach(h),ht=y(yi),ft=k(yi,"BLOCKQUOTE",{});var np=v(ft);ut=k(np,"P",{});var op=v(ut);dt=E(op,"My Flow works perfectly fine with an extra comment on top "),mt=k(op,"CODE",{});var sp=v(mt);bt=E(sp,"// @flow"),sp.forEach(h),gt=E(op,", it still typechecks and provides auto-suggestions."),op.forEach(h),np.forEach(h),wt=y(yi),vt=k(yi,"P",{});var rp=v(vt);kt=E(rp,"So, the logic for "),Et=k(rp,"CODE",{});var lp=v(Et);yt=E(lp,"@babel/plugin-transform-flow-strip-types"),lp.forEach(h),It=E(rp," and Flow to determine whether a file is a Flow file or not "),At=k(rp,"STRONG",{});var cp=v(At);xt=E(cp,"is different"),cp.forEach(h),Tt=E(rp,"!"),rp.forEach(h),Pt=y(yi),Ct=k(yi,"P",{});var ip=v(Ct);Ot=E(ip,"And as a frequent user of Open Source libraries, this is something I think I "),Lt=k(ip,"DEL",{});var pp=v(Lt);$t=E(pp,"can"),pp.forEach(h),St=E(ip," should fix, for the betterment of the JavaScript Open Source world 😅. I always imagine there's another innocent front-end developer across the world like me stumbled upon a perplexing bug, if only me let the bug go with a workaround/patch."),ip.forEach(h),Mt=y(yi),jt=k(yi,"BLOCKQUOTE",{});var hp=v(jt);Ft=k(hp,"P",{});var fp=v(Ft);Dt=E(fp,"There's so much to achieve if we, not just consume the effort of others from the Open Source, but to also contribute into it."),fp.forEach(h),hp.forEach(h),yi.forEach(h),Bt=y(e),Rt=k(e,"SECTION",{});var up=v(Rt);Nt=k(up,"H2",{});var dp=v(Nt);Ht=k(dp,"A",{href:!0,id:!0});var mp=v(Ht);_t=E(mp,"Game Plan"),mp.forEach(h),dp.forEach(h),Gt=y(up),Ut=k(up,"P",{});var bp=v(Ut);Xt=E(bp,"So, to fix this bug, one simply has to:"),bp.forEach(h),qt=y(up),zt=k(up,"UL",{});var gp=v(zt);Wt=k(gp,"LI",{});var wp=v(Wt);Jt=E(wp,"Read Flow's source code and understand the logic"),wp.forEach(h),Yt=y(gp),Kt=k(gp,"LI",{});var vp=v(Kt);Qt=E(vp,"Read @babel/plugin-transform-strip-flow-type's source code and understand the logic"),vp.forEach(h),Vt=y(gp),Zt=k(gp,"LI",{});var kp=v(Zt);en=E(kp,"Make changes to babel code"),kp.forEach(h),an=y(gp),tn=k(gp,"LI",{});var Ep=v(tn);nn=E(Ep,"Send a MR and brag about it 😎"),Ep.forEach(h),gp.forEach(h),on=y(up),sn=k(up,"P",{});var yp=v(sn);rn=E(yp,"Whether this is achieveable at my current level, that's a different story.\nBut "),ln=k(yp,"STRONG",{});var Ip=v(ln);cn=E(Ip,"one has nothing to lose to try and fail"),Ip.forEach(h),pn=E(yp,"."),yp.forEach(h),up.forEach(h),hn=y(e),fn=k(e,"SECTION",{});var Ap=v(fn);un=k(Ap,"H2",{});var xp=v(un);dn=k(xp,"A",{href:!0,id:!0});var Tp=v(dn);mn=E(Tp,"Flow"),Tp.forEach(h),xp.forEach(h),bn=y(Ap),gn=k(Ap,"P",{});var Pp=v(gn);wn=E(Pp,"I've read a bit of Flow source code previously, mainly to "),vn=k(Pp,"A",{href:!0,rel:!0});var Cp=v(vn);kn=E(Cp,"fix a bad developer experience I had with flowconfig previously"),Cp.forEach(h),En=E(Pp,". I had to learn "),yn=k(Pp,"A",{href:!0,rel:!0});var Op=v(yn);In=E(Op,"OCaml"),Op.forEach(h),An=E(Pp,", which was a fad a while ago because of "),xn=k(Pp,"A",{href:!0,rel:!0});var Lp=v(xn);Tn=E(Lp,"ReasonML"),Lp.forEach(h),Pn=E(Pp,", to understand Flow source code."),Pp.forEach(h),Cn=y(Ap),On=k(Ap,"P",{});var $p=v(On);Ln=E($p,"So, this time around, I am much more comfortable to dig the code to find out the information I want."),$p.forEach(h),$n=y(Ap),Sn=k(Ap,"P",{});var Sp=v(Sn);Mn=E(Sp,"I searched for the term "),jn=k(Sp,"CODE",{});var Mp=v(jn);Fn=E(Mp,'"@flow"'),Mp.forEach(h),Dn=E(Sp,", which ended me up with "),Bn=k(Sp,"A",{href:!0,rel:!0});var jp=v(Bn);Rn=E(jp,"this function"),jp.forEach(h),Nn=E(Sp,", "),Hn=k(Sp,"CODE",{});var Fp=v(Hn);_n=E(Fp,"extract_docblock"),Fp.forEach(h),Gn=E(Sp," which returns me the information of whether "),Un=k(Sp,"CODE",{});var Dp=v(Un);Xn=E(Dp,"@flow"),Dp.forEach(h),qn=E(Sp," is present in the file. And I dug further, I ended up with "),zn=k(Sp,"A",{href:!0,rel:!0});var Bp=v(zn);Wn=E(Bp,"the annonymous function that "),Jn=k(Bp,"CODE",{});var Rp=v(Jn);Yn=E(Rp,"extract_docblck"),Rp.forEach(h),Kn=E(Bp," returns"),Bp.forEach(h),Qn=E(Sp,"."),Sp.forEach(h),Vn=y(Ap),Zn=k(Ap,"P",{});var Np=v(Zn);eo=E(Np,"Allow me to loosely translate the logic into some pseudo JavaScript:"),Np.forEach(h),ao=y(Ap),to=k(Ap,"PRE",{class:!0}),v(to).forEach(h),no=y(Ap),oo=k(Ap,"P",{});var Hp=v(oo);so=E(Hp,"In human language:"),Hp.forEach(h),ro=y(Ap),lo=k(Ap,"P",{});var _p=v(lo);co=E(_p,"Flow will read "),io=k(_p,"CODE",{});var Gp=v(io);po=E(Gp,"maxTokens"),Gp.forEach(h),ho=E(_p," number of tokens, look for comments that matches "),fo=k(_p,"CODE",{});var Up=v(fo);uo=E(Up,"@flow"),Up.forEach(h),mo=E(_p,", if it encounters any order tokens, it will bail out early, with the exception of string and semicolon."),_p.forEach(h),bo=y(Ap),go=k(Ap,"P",{});var Xp=v(go);wo=E(Xp,"So,"),Xp.forEach(h),vo=y(Ap),ko=k(Ap,"PRE",{class:!0}),v(ko).forEach(h),Eo=y(Ap),yo=k(Ap,"P",{});var qp=v(yo);Io=E(qp,"and"),qp.forEach(h),Ao=y(Ap),xo=k(Ap,"PRE",{class:!0}),v(xo).forEach(h),To=y(Ap),Po=k(Ap,"P",{});var zp=v(Po);Co=E(zp,"is considered as a valid Flow file."),zp.forEach(h),Oo=y(Ap),Lo=k(Ap,"P",{});var Wp=v(Lo);$o=E(Wp,"But"),Wp.forEach(h),So=y(Ap),Mo=k(Ap,"PRE",{class:!0}),v(Mo).forEach(h),jo=y(Ap),Fo=k(Ap,"P",{});var Jp=v(Fo);Do=E(Jp,"or"),Jp.forEach(h),Bo=y(Ap),Ro=k(Ap,"PRE",{class:!0}),v(Ro).forEach(h),No=y(Ap),Ho=k(Ap,"P",{});var Yp=v(Ho);_o=E(Yp,"is not."),Yp.forEach(h),Ap.forEach(h),Go=y(e),Uo=k(e,"SECTION",{});var Kp=v(Uo);Xo=k(Kp,"H2",{});var Qp=v(Xo);qo=k(Qp,"A",{href:!0,id:!0});var Vp=v(qo);zo=E(Vp,"Babel"),Vp.forEach(h),Qp.forEach(h),Wo=y(Kp),Jo=k(Kp,"P",{});var Zp=v(Jo);Yo=E(Zp,"At first, I thought that the logic would be in "),Ko=k(Zp,"CODE",{});var eh=v(Ko);Qo=E(eh,"@babel/transform-strip-flow-types"),eh.forEach(h),Vo=E(Zp,", but apparently, its not."),Zp.forEach(h),Zo=y(Kp),es=k(Kp,"P",{});var ah=v(es);as=E(ah,"I discovered that by realising that the "),ts=k(ah,"A",{href:!0,rel:!0});var th=v(ts);ns=E(th,"source code of @babel/transform-strip-flow-types"),th.forEach(h),os=E(ah," did not include anything about the "),ss=k(ah,"CODE",{});var nh=v(ss);rs=E(nh,"all"),nh.forEach(h),ls=E(ah," options, and "),cs=k(ah,"A",{href:!0,rel:!0});var oh=v(cs);is=E(oh,"this plugin extends the @babel/plugin-syntax-flow"),oh.forEach(h),ps=E(ah,", which I knew fairly well that syntax plugins in babel does nothing but to enable syntax switch of the "),hs=k(ah,"CODE",{});var sh=v(hs);fs=E(sh,"@babel/parser"),sh.forEach(h),us=E(ah,". The bulk of the logic lies within the "),ds=k(ah,"A",{href:!0,rel:!0});var rh=v(ds);ms=k(rh,"CODE",{});var lh=v(ms);bs=E(lh,"@babel/parser"),lh.forEach(h),gs=E(rh,"'s flow plugin"),rh.forEach(h),ws=E(ah,"."),ah.forEach(h),vs=y(Kp),ks=k(Kp,"P",{});var ch=v(ks);Es=E(ch,"That was all because "),ys=k(ch,"A",{href:!0,rel:!0});var ih=v(ys);Is=E(ih,"I contributed to "),As=k(ih,"CODE",{});var ph=v(As);xs=E(ph,"@babel/parser"),ph.forEach(h),Ts=E(ih," before"),ih.forEach(h),Ps=E(ch,"."),ch.forEach(h),Cs=y(Kp),Os=k(Kp,"P",{});var hh=v(Os);Ls=E(hh,"And here we are in babel-parser, and the line that caught my attention is "),$s=k(hh,"A",{href:!0,rel:!0});var fh=v($s);Ss=E(fh,"this"),fh.forEach(h),Ms=E(hh,":"),hh.forEach(h),js=y(Kp),Fs=k(Kp,"PRE",{class:!0}),v(Fs).forEach(h),Ds=y(Kp),Bs=k(Kp,"P",{});var uh=v(Bs);Rs=E(uh,"So, the babel's logic of getting a Flow pragma is that as soon as the first comment encountered, we parse the comment and we turn on the Flow syntax switch."),uh.forEach(h),Ns=y(Kp),Hs=k(Kp,"P",{});var dh=v(Hs);_s=E(dh,"This is the reason why if we have a comment before "),Gs=k(dh,"CODE",{});var mh=v(Gs);Us=E(mh,"// @flow"),mh.forEach(h),Xs=E(dh,", we will not treat the file as a valid Flow file."),dh.forEach(h),qs=y(Kp),zs=k(Kp,"P",{});var bh=v(zs);Ws=E(bh,"Interesting enough, this means that if we write"),bh.forEach(h),Js=y(Kp),Ys=k(Kp,"PRE",{class:!0}),v(Ys).forEach(h),Ks=y(Kp),Qs=k(Kp,"P",{});var gh=v(Qs);Vs=E(gh,"the first half of the code before "),Zs=k(gh,"CODE",{});var wh=v(Zs);er=E(wh,"// @flow"),wh.forEach(h),ar=E(gh," was parsed as a normal JS code, and the second half after "),tr=k(gh,"CODE",{});var vh=v(tr);nr=E(vh,"// @flow"),vh.forEach(h),or=E(gh," was parsed as a Flow code."),gh.forEach(h),sr=y(Kp),rr=k(Kp,"P",{});var kh=v(rr);lr=E(kh,"You can see this clearly with "),ir=E(kh,"."),kh.forEach(h),pr=y(Kp),hr=k(Kp,"P",{});var Eh=v(hr);fr=k(Eh,"EM",{});var yh=v(fr);ur=E(yh,"(I built it with React + Hooks over a long weekend, which I will share about how did it in the future.)"),yh.forEach(h),dr=E(Eh,"."),Eh.forEach(h),mr=y(Kp),br=k(Kp,"P",{});var Ih=v(br);gr=E(Ih,"You can see that the first expression is a "),wr=k(Ih,"CODE",{});var Ah=v(wr);vr=E(Ah,"BinaryExpression"),Ah.forEach(h),kr=E(Ih," but the second expression is a "),Er=k(Ih,"CODE",{});var xh=v(Er);yr=E(xh,"CallExpression"),xh.forEach(h),Ir=E(Ih,";"),Ih.forEach(h),Kp.forEach(h),Ar=y(e),xr=k(e,"SECTION",{});var Th=v(xr);Tr=k(Th,"H2",{});var Ph=v(Tr);Pr=k(Ph,"A",{href:!0,id:!0});var Ch=v(Pr);Cr=E(Ch,"Make changes to the babel code"),Ch.forEach(h),Ph.forEach(h),Or=y(Th),Lr=k(Th,"P",{});var Oh=v(Lr);$r=E(Oh,"Now step 3, make changes to babel code. So I decided to open an issue and started fixing the code. Surprisingly, someone else "),Sr=k(Oh,"A",{href:!0,rel:!0});var Lh=v(Sr);Mr=E(Lh,"had reported the issue a few months ago"),Lh.forEach(h),jr=E(Oh,", and the issue was still opened."),Oh.forEach(h),Fr=y(Th),Dr=k(Th,"P",{});var $h=v(Dr);Br=E($h,"So "),Rr=k($h,"A",{href:!0,rel:!0});var Sh=v(Rr);Nr=E(Sh,"I explained what I had discovered"),Sh.forEach(h),Hr=E($h,", and tried to "),_r=k($h,"A",{href:!0,rel:!0});var Mh=v(_r);Gr=E(Mh,"propose a solution"),Mh.forEach(h),Ur=E($h,". Well, after some struggle, I realised I am still a bit behind from being able to fix this code."),$h.forEach(h),Xr=y(Th),qr=k(Th,"P",{});var jh=v(qr);zr=E(jh,"So how?"),jh.forEach(h),Wr=y(Th),Jr=k(Th,"P",{});var Fh=v(Jr);Yr=E(Fh,"I submitted a "),Kr=k(Fh,"A",{href:!0,rel:!0});var Dh=v(Kr);Qr=E(Dh,"PR"),Dh.forEach(h),Vr=E(Fh," with a big "),Zr=k(Fh,"STRONG",{});var Bh=v(Zr);el=E(Bh,"WIP"),Bh.forEach(h),al=E(Fh,", because I didn't know how to look ahead "),tl=k(Fh,"CODE",{});var Rh=v(tl);nl=E(Rh,"n"),Rh.forEach(h),ol=E(Fh," tokens and determine the "),sl=k(Fh,"CODE",{});var Nh=v(sl);rl=E(Nh,"flowPragma"),Nh.forEach(h),ll=E(Fh," flag before "),cl=k(Fh,"CODE",{});var Hh=v(cl);il=E(Hh,"babel"),Hh.forEach(h),pl=E(Fh," starts parsing the code. I explored around the "),hl=k(Fh,"CODE",{});var _h=v(hl);fl=E(_h,"babel-parser"),_h.forEach(h),ul=E(Fh," source code, uncover new concepts that I never knew before. It took me a day to contemplate and fiddle around, until something sparked me."),Fh.forEach(h),dl=y(Th),ml=k(Th,"P",{});var Gh=v(ml);bl=E(Gh,"I realised I do not have to follow exactly Flow's logic in order to achieve similar behaviour. That's when I submitted another "),gl=k(Gh,"A",{href:!0,rel:!0});var Uh=v(gl);wl=E(Uh,"PR"),Uh.forEach(h),vl=E(Gh," and closed the previous one. "),kl=k(Gh,"EM",{});var Xh=v(kl);El=E(Xh,"(You can check it out if you are curious about it)"),Xh.forEach(h),yl=E(Gh,"."),Gh.forEach(h),Il=y(Th),Al=k(Th,"P",{});var qh=v(Al);xl=E(qh,"And finally, the fix has merged into "),Tl=k(qh,"A",{href:!0,rel:!0});var zh=v(Tl);Pl=E(zh,"babel v7.4.4"),zh.forEach(h),Cl=E(qh,"! 🎉🎉"),qh.forEach(h),Ol=y(Th),Ll=k(Th,"P",{});var Wh=v(Ll);$l=E(Wh,"And I can't wait to try all the edge cases that I have fixed in babel repl:"),Wh.forEach(h),Sl=y(Th),Ml=k(Th,"UL",{});var Jh=v(Ml);jl=k(Jh,"LI",{});var Yh=v(jl);Fl=k(Yh,"A",{href:!0,rel:!0});var Kh=v(Fl);Dl=k(Kh,"CODE",{});var Qh=v(Dl);Bl=E(Qh,"'use strict'"),Qh.forEach(h),Rl=E(Kh,"; before "),Nl=k(Kh,"CODE",{});var Vh=v(Nl);Hl=E(Vh,"// @flow"),Vh.forEach(h),Kh.forEach(h),Yh.forEach(h),_l=y(Jh),Gl=k(Jh,"LI",{});var Zh=v(Gl);Ul=k(Zh,"A",{href:!0,rel:!0});var ef=v(Ul);Xl=E(ef,"comments before "),ql=k(ef,"CODE",{});var af=v(ql);zl=E(af,"//@flow"),af.forEach(h),ef.forEach(h),Zh.forEach(h),Wl=y(Jh),Jl=k(Jh,"LI",{});var tf=v(Jl);Yl=k(tf,"A",{href:!0,rel:!0});var nf=v(Yl);Kl=E(nf,"first comment is "),Ql=k(nf,"CODE",{});var of=v(Ql);Vl=E(of,"//@flow"),of.forEach(h),Zl=E(nf,", but in the middle of the file"),nf.forEach(h),tf.forEach(h),Jh.forEach(h),Th.forEach(h),ec=y(e),ac=k(e,"SECTION",{});var sf=v(ac);tc=k(sf,"H2",{});var rf=v(tc);nc=k(rf,"A",{href:!0,id:!0});var lf=v(nc);oc=E(lf,"Closing Remark"),lf.forEach(h),rf.forEach(h),sc=y(sf),rc=k(sf,"P",{});var cf=v(rc);lc=k(cf,"DEL",{});var pf=v(lc);cc=E(pf,"Well, I am sorry that I am going to stop here, because the issue is still opened, but I hoped you enjoy the detective journey along the way of hunting this bug."),pf.forEach(h),cf.forEach(h),ic=y(sf),pc=k(sf,"P",{});var hf=v(pc);hc=k(hf,"DEL",{});var ff=v(hc);fc=E(ff,"If you encountered similar issues, you can patch it first with the solution I mentioned earlier. And do follow the Github issue, I will do my best to fix this."),ff.forEach(h),hf.forEach(h),uc=y(sf),dc=k(sf,"P",{});var uf=v(dc);mc=E(uf,"If you encountered similar issues, please "),bc=k(uf,"A",{href:!0,rel:!0});var df=v(bc);gc=E(df,"upgrade babel to v7.4.4"),df.forEach(h),wc=E(uf,"."),uf.forEach(h),vc=y(sf),kc=k(sf,"BLOCKQUOTE",{});var mf=v(kc);Ec=k(mf,"P",{});var bf=v(Ec);yc=E(bf,"The best thing about open source is that the source code is open. As part of the JS community, we should not just reap the efforts of the community when we are building our next billion dollar idea, we should also contribute back so that the community as a whole can grow and improve together."),bf.forEach(h),mf.forEach(h),Ic=y(sf),Ac=k(sf,"P",{});var gf=v(Ac);xc=E(gf,"As usual, here are the list of references for this article:"),gf.forEach(h),Tc=y(sf),Pc=k(sf,"UL",{});var wf=v(Pc);Cc=k(wf,"LI",{});var vf=v(Cc);Oc=k(vf,"A",{href:!0});var kf=v(Oc);Lc=E(kf,"Blog: Errors encountered upgrading Flow v0.85"),kf.forEach(h),vf.forEach(h),$c=y(wf),Sc=k(wf,"LI",{});var Ef=v(Sc);Mc=k(Ef,"A",{href:!0});var yf=v(Mc);jc=E(yf,"My eslint doesn’t work with for flow 0.85’s explicit type argument syntax"),yf.forEach(h),Ef.forEach(h),Fc=y(wf),Dc=k(wf,"LI",{});var If=v(Dc);Bc=k(If,"A",{href:!0,rel:!0});var Af=v(Bc);Rc=E(Af,"Docs: Upgrading Babel v7"),Af.forEach(h),If.forEach(h),Nc=y(wf),Hc=k(wf,"LI",{});var xf=v(Hc);_c=k(xf,"A",{href:!0,rel:!0});var Tf=v(_c);Gc=E(Tf,"Docs: @babel/transform-plugin-flow-strip-types"),Tf.forEach(h),xf.forEach(h),Uc=y(wf),Xc=k(wf,"LI",{});var Pf=v(Xc);qc=k(Pf,"A",{href:!0,rel:!0});var Cf=v(qc);zc=E(Cf,"Docs: ReasonML"),Cf.forEach(h),Pf.forEach(h),Wc=y(wf),Jc=k(wf,"LI",{});var Of=v(Jc);Yc=k(Of,"A",{href:!0,rel:!0});var Lf=v(Yc);Kc=E(Lf,"Code: Flow Parsing Service"),Lf.forEach(h),Of.forEach(h),Qc=y(wf),Vc=k(wf,"LI",{});var $f=v(Vc);Zc=k($f,"A",{href:!0,rel:!0});var Sf=v(Zc);ei=E(Sf,"Issue: Parsing error when calling generic functions with type arguments when flow pragma is not first comment"),Sf.forEach(h),$f.forEach(h),wf.forEach(h),sf.forEach(h),this.h()},h(){w(s,"href","#background"),w(c,"href","#referenceerror-xtype-is-not-defined"),w(g,"href","#game-plan"),w(T,"href","#flow"),w(O,"href","#babel"),w(S,"href","#make-changes-to-the-babel-code"),w(F,"href","#closing-remark"),w(n,"class","sitemap"),w(n,"id","sitemap"),w(n,"role","navigation"),w(n,"aria-label","Table of Contents"),w(H,"href","#background"),w(H,"id","background"),w(q,"href","/errors-encountered-upgrading-flow-0.85/"),w(J,"href","https://babeljs.io/docs/en/v7-migration"),w(J,"rel","nofollow"),w(ke,"href","#referenceerror-xtype-is-not-defined"),w(ke,"id","referenceerror-xtype-is-not-defined"),w(Ie,"class","language-js"),w(Ue,"class","language-js"),w(Ze,"href","/eslint-for-flow-explicit-type-argument-syntax/"),w(sa,"href","https://babeljs.io/docs/en/babel-plugin-transform-flow-strip-types"),w(sa,"rel","nofollow"),w(Pa,"class","language-js"),w(Ht,"href","#game-plan"),w(Ht,"id","game-plan"),w(dn,"href","#flow"),w(dn,"id","flow"),w(vn,"href","https://github.com/facebook/flow/pull/7083"),w(vn,"rel","nofollow"),w(yn,"href","https://ocaml.org/"),w(yn,"rel","nofollow"),w(xn,"href","https://reasonml.github.io/"),w(xn,"rel","nofollow"),w(Bn,"href","https://github.com/facebook/flow/blob/master/src/parsing/parsing_service_js.ml#L143"),w(Bn,"rel","nofollow"),w(zn,"href","https://github.com/facebook/flow/blob/master/src/parsing/parsing_service_js.ml#L275"),w(zn,"rel","nofollow"),w(to,"class","language-js"),w(ko,"class","language-js"),w(xo,"class","language-js"),w(Mo,"class","language-js"),w(Ro,"class","language-js"),w(qo,"href","#babel"),w(qo,"id","babel"),w(ts,"href","https://github.com/babel/babel/blob/master/packages/babel-plugin-transform-flow-strip-types/src/index.js"),w(ts,"rel","nofollow"),w(cs,"href","https://github.com/babel/babel/blob/master/packages/babel-plugin-transform-flow-strip-types/src/index.js#L14"),w(cs,"rel","nofollow"),w(ds,"href","https://github.com/babel/babel/blob/master/packages/babel-parser/src/plugins/flow.js"),w(ds,"rel","nofollow"),w(ys,"href","https://github.com/babel/babel/pulls?q=is%3Apr+is%3Aclosed+author%3Atanhauhau"),w(ys,"rel","nofollow"),w($s,"href","https://github.com/babel/babel/blob/master/packages/babel-parser/src/plugins/flow.js#L98"),w($s,"rel","nofollow"),w(Fs,"class","language-js"),w(Ys,"class","language-js"),cr=new x(ir),w(Pr,"href","#make-changes-to-the-babel-code"),w(Pr,"id","make-changes-to-the-babel-code"),w(Sr,"href","https://github.com/babel/babel/issues/9240"),w(Sr,"rel","nofollow"),w(Rr,"href","https://github.com/babel/babel/issues/9240#issuecomment-485370957"),w(Rr,"rel","nofollow"),w(_r,"href","https://github.com/babel/babel/pull/9885"),w(_r,"rel","nofollow"),w(Kr,"href","https://github.com/babel/babel/pull/9885"),w(Kr,"rel","nofollow"),w(gl,"href","https://github.com/babel/babel/pull/9891"),w(gl,"rel","nofollow"),w(Tl,"href","https://github.com/babel/babel/releases/tag/v7.4.4"),w(Tl,"rel","nofollow"),w(Fl,"href","https://babeljs.io/repl#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=OQVwzgpgBGAuBOBLAxrYBuAUAem1AAgGYA2A9gO6aGmkA8AggHwAUARgJRbV1NudA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=&prettier=false&targets=&version=7.4.4&externalPlugins=%40babel%2Fplugin-transform-flow-strip-types%407.4.4"),w(Fl,"rel","nofollow"),w(Ul,"href","https://babeljs.io/repl#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=PQKhAIAEFsHsBMCuAbApgZ3AM1rcJgAoYYKLZWAd0J1gB4BBAPgAoAjASgG4bdHXOXIA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=&prettier=false&targets=&version=7.4.4&externalPlugins=%40babel%2Fplugin-transform-flow-strip-types%407.4.4"),w(Ul,"rel","nofollow"),w(Yl,"href","https://babeljs.io/repl#?babili=false&browsers=&build=&builtIns=false&spec=false&loose=false&code_lz=GYexB4EED4AoCMCUBuAUAenQAgALADYgDuqoEMCKQA&debug=false&forceAllTransforms=false&shippedProposals=false&circleciRepo=&evaluate=false&fileSize=false&timeTravel=false&sourceType=module&lineWrap=false&presets=&prettier=false&targets=&version=7.4.4&externalPlugins=%40babel%2Fplugin-transform-flow-strip-types%407.4.4"),w(Yl,"rel","nofollow"),w(nc,"href","#closing-remark"),w(nc,"id","closing-remark"),w(bc,"href","https://github.com/babel/babel/releases/tag/v7.4.4"),w(bc,"rel","nofollow"),w(Oc,"href","/errors-encountered-upgrading-flow-0.85"),w(Mc,"href","/eslint-for-flow-explicit-type-argument-syntax/"),w(Bc,"href","https://babeljs.io/docs/en/v7-migration"),w(Bc,"rel","nofollow"),w(_c,"href","https://babeljs.io/docs/en/babel-plugin-transform-flow-strip-types"),w(_c,"rel","nofollow"),w(qc,"href","https://reasonml.github.io/"),w(qc,"rel","nofollow"),w(Yc,"href","https://github.com/facebook/flow/blob/master/src/parsing/parsing_service_js.ml"),w(Yc,"rel","nofollow"),w(Zc,"href","https://github.com/babel/babel/issues/9240"),w(Zc,"rel","nofollow")},m(e,a){p(e,t,a),i(t,n),i(n,o),i(o,s),i(s,r),i(n,l),i(l,c),i(c,f),i(n,d),i(d,g),i(g,I),i(n,A),i(A,T),i(T,P),i(n,C),i(C,O),i(O,L),i(n,$),i($,S),i(S,M),i(n,j),i(j,F),i(F,D),p(e,B,a),p(e,R,a),i(R,N),i(N,H),i(H,_),i(R,G),i(R,U),i(U,X),i(U,q),i(q,z),i(U,W),i(U,J),i(J,Y),i(U,K),i(R,Q),i(R,V),i(V,Z),i(Z,ee),i(V,ae),i(V,te),i(te,ne),i(te,oe),i(oe,se),i(V,re),i(V,le),i(le,ce),i(V,ie),i(V,pe),i(pe,he),i(V,fe),i(R,ue),i(R,de),i(de,me),i(me,be),p(e,ge,a),p(e,we,a),i(we,ve),i(ve,ke),i(ke,Ee),i(we,ye),i(we,Ie),Ie.innerHTML='<code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> foobar<span class="token operator">&lt;</span>XType<span class="token operator">></span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span>\n                       <span class="token operator">^</span> ReferenceError<span class="token punctuation">:</span> XType is not defined</code>',i(we,Ae),i(we,xe),i(xe,Te),i(xe,Pe),i(Pe,Ce),i(xe,Oe),i(xe,Le),i(Le,$e),i(xe,Se),i(xe,Me),i(Me,je),i(xe,Fe),i(we,De),i(we,Be),i(Be,Re),i(we,Ne),i(we,He),i(He,_e),i(we,Ge),i(we,Ue),Ue.innerHTML='<code class="language-js"><span class="token keyword">export</span> <span class="token keyword">function</span> foobar <span class="token operator">&lt;</span> XType <span class="token operator">></span> baz<span class="token punctuation">;</span></code>',i(we,Xe),i(we,qe),i(qe,ze),i(qe,We),i(We,Je),i(qe,Ye),i(we,Ke),i(we,Qe),i(Qe,Ve),i(Qe,Ze),i(Ze,ea),i(Qe,aa),i(we,ta),i(we,na),i(na,oa),i(na,sa),i(sa,ra),i(na,la),i(na,ca),i(ca,ia),i(na,pa),i(we,ha),i(we,fa),i(fa,ua),i(ua,da),i(da,ma),i(ua,ba),i(ua,ga),i(ga,wa),i(ua,va),i(ua,ka),i(ka,Ea),i(ua,ya),i(we,Ia),i(we,Aa),i(Aa,xa),i(we,Ta),i(we,Pa),Pa.innerHTML='<code class="language-js"><span class="token comment">/** @module foobar */</span>\n<span class="token comment">// @flow</span>\n<span class="token comment">// ...</span>\n<span class="token keyword">export</span> <span class="token keyword">function</span> foobar<span class="token operator">&lt;</span>XType<span class="token operator">></span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',i(we,Ca),i(we,Oa),i(Oa,La),i(Oa,$a),i($a,Sa),i(Oa,Ma),i(Oa,ja),i(ja,Fa),i(Oa,Da),i(we,Ba),i(we,Ra),i(Ra,Na),i(we,Ha),i(we,_a),i(_a,Ga),i(Ga,Ua),i(Ga,Xa),i(Xa,qa),i(Ga,za),i(Ga,Wa),i(Wa,Ja),i(Ga,Ya),i(_a,Ka),i(_a,Qa),i(Qa,Va),i(Qa,Za),i(Za,et),i(Qa,at),i(Qa,tt),i(tt,nt),i(Qa,ot),i(we,st),i(we,rt),i(rt,lt),i(we,ct),i(we,it),i(it,pt),i(we,ht),i(we,ft),i(ft,ut),i(ut,dt),i(ut,mt),i(mt,bt),i(ut,gt),i(we,wt),i(we,vt),i(vt,kt),i(vt,Et),i(Et,yt),i(vt,It),i(vt,At),i(At,xt),i(vt,Tt),i(we,Pt),i(we,Ct),i(Ct,Ot),i(Ct,Lt),i(Lt,$t),i(Ct,St),i(we,Mt),i(we,jt),i(jt,Ft),i(Ft,Dt),p(e,Bt,a),p(e,Rt,a),i(Rt,Nt),i(Nt,Ht),i(Ht,_t),i(Rt,Gt),i(Rt,Ut),i(Ut,Xt),i(Rt,qt),i(Rt,zt),i(zt,Wt),i(Wt,Jt),i(zt,Yt),i(zt,Kt),i(Kt,Qt),i(zt,Vt),i(zt,Zt),i(Zt,en),i(zt,an),i(zt,tn),i(tn,nn),i(Rt,on),i(Rt,sn),i(sn,rn),i(sn,ln),i(ln,cn),i(sn,pn),p(e,hn,a),p(e,fn,a),i(fn,un),i(un,dn),i(dn,mn),i(fn,bn),i(fn,gn),i(gn,wn),i(gn,vn),i(vn,kn),i(gn,En),i(gn,yn),i(yn,In),i(gn,An),i(gn,xn),i(xn,Tn),i(gn,Pn),i(fn,Cn),i(fn,On),i(On,Ln),i(fn,$n),i(fn,Sn),i(Sn,Mn),i(Sn,jn),i(jn,Fn),i(Sn,Dn),i(Sn,Bn),i(Bn,Rn),i(Sn,Nn),i(Sn,Hn),i(Hn,_n),i(Sn,Gn),i(Sn,Un),i(Un,Xn),i(Sn,qn),i(Sn,zn),i(zn,Wn),i(zn,Jn),i(Jn,Yn),i(zn,Kn),i(Sn,Qn),i(fn,Vn),i(fn,Zn),i(Zn,eo),i(fn,ao),i(fn,to),to.innerHTML='<code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">extract_docblock</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> maxTokens<span class="token punctuation">,</span> filename<span class="token punctuation">,</span> content <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token function">read</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> maxTokens<span class="token punctuation">;</span> i <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token keyword">const</span> token <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">switch</span> <span class="token punctuation">(</span>token<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">case</span> <span class="token string">\'string\'</span><span class="token punctuation">:</span>\n      <span class="token keyword">case</span> <span class="token string">\'semicolon\'</span><span class="token punctuation">:</span>\n        <span class="token keyword">continue</span><span class="token punctuation">;</span>\n      <span class="token keyword">case</span> <span class="token string">\'comment\'</span><span class="token punctuation">:</span>\n        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFlowComment</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n          <span class="token keyword">return</span> <span class="token function">flowPragmaType</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>\n        <span class="token punctuation">&#125;</span>\n        <span class="token keyword">break</span><span class="token punctuation">;</span>\n      <span class="token keyword">default</span><span class="token punctuation">:</span>\n        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n  <span class="token punctuation">&#125;</span>\n<span class="token punctuation">&#125;</span><span class="token punctuation">;</span></code>',i(fn,no),i(fn,oo),i(oo,so),i(fn,ro),i(fn,lo),i(lo,co),i(lo,io),i(io,po),i(lo,ho),i(lo,fo),i(fo,uo),i(lo,mo),i(fn,bo),i(fn,go),i(go,wo),i(fn,vo),i(fn,ko),ko.innerHTML='<code class="language-js"><span class="token string">\'use strict\'</span><span class="token punctuation">;</span>\n<span class="token comment">// @flow</span>\n<span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',i(fn,Eo),i(fn,yo),i(yo,Io),i(fn,Ao),i(fn,xo),xo.innerHTML='<code class="language-js"><span class="token comment">/** @module */</span>\n<span class="token comment">// @flow</span>\n<span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',i(fn,To),i(fn,Po),i(Po,Co),i(fn,Oo),i(fn,Lo),i(Lo,$o),i(fn,So),i(fn,Mo),Mo.innerHTML='<code class="language-js"><span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token comment">// @flow</span></code>',i(fn,jo),i(fn,Fo),i(Fo,Do),i(fn,Bo),i(fn,Ro),Ro.innerHTML='<code class="language-js"><span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',i(fn,No),i(fn,Ho),i(Ho,_o),p(e,Go,a),p(e,Uo,a),i(Uo,Xo),i(Xo,qo),i(qo,zo),i(Uo,Wo),i(Uo,Jo),i(Jo,Yo),i(Jo,Ko),i(Ko,Qo),i(Jo,Vo),i(Uo,Zo),i(Uo,es),i(es,as),i(es,ts),i(ts,ns),i(es,os),i(es,ss),i(ss,rs),i(es,ls),i(es,cs),i(cs,is),i(es,ps),i(es,hs),i(hs,fs),i(es,us),i(es,ds),i(ds,ms),i(ms,bs),i(ds,gs),i(es,ws),i(Uo,vs),i(Uo,ks),i(ks,Es),i(ks,ys),i(ys,Is),i(ys,As),i(As,xs),i(ys,Ts),i(ks,Ps),i(Uo,Cs),i(Uo,Os),i(Os,Ls),i(Os,$s),i($s,Ss),i(Os,Ms),i(Uo,js),i(Uo,Fs),Fs.innerHTML='<code class="language-js"><span class="token function">addComment</span><span class="token punctuation">(</span>comment<span class="token punctuation">:</span> <span class="token constant">N</span><span class="token punctuation">.</span>Comment<span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword">void</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>flowPragma <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    <span class="token comment">// Try to parse a flow pragma.</span>\n    <span class="token keyword">const</span> matches <span class="token operator">=</span> <span class="token constant">FLOW_PRAGMA_REGEX</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span>comment<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>matches<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>flowPragma <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"flow"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>flowPragma <span class="token operator">=</span> <span class="token string">"flow"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>matches<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">"noflow"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">this</span><span class="token punctuation">.</span>flowPragma <span class="token operator">=</span> <span class="token string">"noflow"</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"Unexpected flow pragma"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n  <span class="token punctuation">&#125;</span>\n  <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">addComment</span><span class="token punctuation">(</span>comment<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',i(Uo,Ds),i(Uo,Bs),i(Bs,Rs),i(Uo,Ns),i(Uo,Hs),i(Hs,_s),i(Hs,Gs),i(Gs,Us),i(Hs,Xs),i(Uo,qs),i(Uo,zs),i(zs,Ws),i(Uo,Js),i(Uo,Ys),Ys.innerHTML='<code class="language-js">foobar <span class="token operator">&lt;</span> XType <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token comment">// @flow</span>\nfoobar<span class="token operator">&lt;</span>XType<span class="token operator">></span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',i(Uo,Ks),i(Uo,Qs),i(Qs,Vs),i(Qs,Zs),i(Zs,er),i(Qs,ar),i(Qs,tr),i(tr,nr),i(Qs,or),i(Uo,sr),i(Uo,rr),i(rr,lr),cr.m('<a href="https://lihautan.com/babel-ast-explorer/#?%7B%22babel%22%3A%7B%22jsx%22%3Afalse%2C%22flow%22%3Atrue%2C%22typescript%22%3Afalse%2C%22objectRestSpread%22%3Afalse%2C%22pipelineOperator%22%3Afalse%2C%22throwExpressions%22%3Afalse%2C%22optionalChaining%22%3Afalse%2C%22nullishCoalescingOperator%22%3Afalse%2C%22exportDefaultFrom%22%3Afalse%2C%22dynamicImport%22%3Afalse%7D%2C%22code%22%3A%22foobar%3CXType%3E(1)%3B%5Cn%2F%2F%20%40flow%5Cnfoobar%3CXType%3E(1)%3B%22%7D">my recently build ASTExplorer clone for babel</a>',rr),i(rr,ir),i(Uo,pr),i(Uo,hr),i(hr,fr),i(fr,ur),i(hr,dr),i(Uo,mr),i(Uo,br),i(br,gr),i(br,wr),i(wr,vr),i(br,kr),i(br,Er),i(Er,yr),i(br,Ir),p(e,Ar,a),p(e,xr,a),i(xr,Tr),i(Tr,Pr),i(Pr,Cr),i(xr,Or),i(xr,Lr),i(Lr,$r),i(Lr,Sr),i(Sr,Mr),i(Lr,jr),i(xr,Fr),i(xr,Dr),i(Dr,Br),i(Dr,Rr),i(Rr,Nr),i(Dr,Hr),i(Dr,_r),i(_r,Gr),i(Dr,Ur),i(xr,Xr),i(xr,qr),i(qr,zr),i(xr,Wr),i(xr,Jr),i(Jr,Yr),i(Jr,Kr),i(Kr,Qr),i(Jr,Vr),i(Jr,Zr),i(Zr,el),i(Jr,al),i(Jr,tl),i(tl,nl),i(Jr,ol),i(Jr,sl),i(sl,rl),i(Jr,ll),i(Jr,cl),i(cl,il),i(Jr,pl),i(Jr,hl),i(hl,fl),i(Jr,ul),i(xr,dl),i(xr,ml),i(ml,bl),i(ml,gl),i(gl,wl),i(ml,vl),i(ml,kl),i(kl,El),i(ml,yl),i(xr,Il),i(xr,Al),i(Al,xl),i(Al,Tl),i(Tl,Pl),i(Al,Cl),i(xr,Ol),i(xr,Ll),i(Ll,$l),i(xr,Sl),i(xr,Ml),i(Ml,jl),i(jl,Fl),i(Fl,Dl),i(Dl,Bl),i(Fl,Rl),i(Fl,Nl),i(Nl,Hl),i(Ml,_l),i(Ml,Gl),i(Gl,Ul),i(Ul,Xl),i(Ul,ql),i(ql,zl),i(Ml,Wl),i(Ml,Jl),i(Jl,Yl),i(Yl,Kl),i(Yl,Ql),i(Ql,Vl),i(Yl,Zl),p(e,ec,a),p(e,ac,a),i(ac,tc),i(tc,nc),i(nc,oc),i(ac,sc),i(ac,rc),i(rc,lc),i(lc,cc),i(ac,ic),i(ac,pc),i(pc,hc),i(hc,fc),i(ac,uc),i(ac,dc),i(dc,mc),i(dc,bc),i(bc,gc),i(dc,wc),i(ac,vc),i(ac,kc),i(kc,Ec),i(Ec,yc),i(ac,Ic),i(ac,Ac),i(Ac,xc),i(ac,Tc),i(ac,Pc),i(Pc,Cc),i(Cc,Oc),i(Oc,Lc),i(Pc,$c),i(Pc,Sc),i(Sc,Mc),i(Mc,jc),i(Pc,Fc),i(Pc,Dc),i(Dc,Bc),i(Bc,Rc),i(Pc,Nc),i(Pc,Hc),i(Hc,_c),i(_c,Gc),i(Pc,Uc),i(Pc,Xc),i(Xc,qc),i(qc,zc),i(Pc,Wc),i(Pc,Jc),i(Jc,Yc),i(Yc,Kc),i(Pc,Qc),i(Pc,Vc),i(Vc,Zc),i(Zc,ei)},p:e,d(e){e&&h(t),e&&h(B),e&&h(R),e&&h(ge),e&&h(we),e&&h(Bt),e&&h(Rt),e&&h(hn),e&&h(fn),e&&h(Go),e&&h(Uo),e&&h(Ar),e&&h(xr),e&&h(ec),e&&h(ac)}}}function he(e){let t,n;const o=[fe];let s={$$slots:{default:[pe]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)s=a(s,o[e]);return t=new ie({props:s}),{c(){U(t.$$.fragment)},l(e){X(t.$$.fragment,e)},m(e,a){q(t,e,a),n=!0},p(e,[a]){const n=0&a?function(e,a){const t={},n={},o={$$scope:1};let s=e.length;for(;s--;){const r=e[s],l=a[s];if(l){for(const e in r)e in l||(n[e]=1);for(const e in l)o[e]||(t[e]=l[e],o[e]=1);e[s]=l}else for(const e in r)o[e]=1}for(const e in n)e in t||(t[e]=void 0);return t}(o,[(s=fe,"object"==typeof s&&null!==s?s:{})]):{};var s;1&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){n||(_(t.$$.fragment,e),n=!0)},o(e){G(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}const fe={title:"Parsing error when calling generic function with type arguments",date:"2019-04-23T08:00:00Z",lastUpdated:"2019-04-27T08:00:00Z",description:"😱",slug:"parsing-error-flow-type-parameter-instantiation",type:"blog"};class ue extends Y{constructor(e){super(),J(this,e,null,he,r,{})}}setTimeout(()=>{new ue({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const e=document.createElement("script");e.async=!0,e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",document.body.appendChild(e)}},3e3);
