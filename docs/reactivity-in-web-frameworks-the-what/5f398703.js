function t(){}function n(t,n){for(const a in n)t[a]=n[a];return t}function a(t){return t()}function e(){return Object.create(null)}function s(t){t.forEach(a)}function o(t){return"function"==typeof t}function c(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function r(t,a,e,s){return t[1]&&s?n(e.ctx.slice(),t[1](s(a))):e.ctx}function p(t,n,a,e,s,o,c){const p=function(t,n,a,e){if(t[2]&&e){const s=t[2](e(a));if(void 0===n.dirty)return s;if("object"==typeof s){const t=[],a=Math.max(n.dirty.length,s.length);for(let e=0;e<a;e+=1)t[e]=n.dirty[e]|s[e];return t}return n.dirty|s}return n.dirty}(n,e,s,o);if(p){const s=r(n,a,e,c);t.p(s,p)}}function i(t,n){t.appendChild(n)}function l(t,n,a){t.insertBefore(n,a||null)}function u(t){t.parentNode.removeChild(t)}function h(t,n){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(n)}function d(t){return document.createElement(t)}function f(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function k(){return m(" ")}function g(){return m("")}function w(t,n,a){null==a?t.removeAttribute(n):t.getAttribute(n)!==a&&t.setAttribute(n,a)}function v(t){return Array.from(t.childNodes)}function E(t,n,a,e){for(let e=0;e<t.length;e+=1){const s=t[e];if(s.nodeName===n){let n=0;const o=[];for(;n<s.attributes.length;){const t=s.attributes[n++];a[t.name]||o.push(t.name)}for(let t=0;t<o.length;t++)s.removeAttribute(o[t]);return t.splice(e,1)[0]}}return e?f(n):d(n)}function y(t,n){for(let a=0;a<t.length;a+=1){const e=t[a];if(3===e.nodeType)return e.data=""+n,t.splice(a,1)[0]}return m(n)}function b(t){return y(t," ")}function $(t,n){n=""+n,t.wholeText!==n&&(t.data=n)}function T(t,n){t.value=null==n?"":n}class A{constructor(t=null){this.a=t,this.e=this.n=null}m(t,n,a=null){this.e||(this.e=d(n.nodeName),this.t=n,this.h(t)),this.i(a)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let n=0;n<this.n.length;n+=1)l(this.t,this.n[n],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(u)}}let x;function I(t){x=t}function P(t){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(t)}const L=[],O=[],S=[],N=[],M=Promise.resolve();let C=!1;function H(t){S.push(t)}let U=!1;const R=new Set;function j(){if(!U){U=!0;do{for(let t=0;t<L.length;t+=1){const n=L[t];I(n),D(n.$$)}for(L.length=0;O.length;)O.pop()();for(let t=0;t<S.length;t+=1){const n=S[t];R.has(n)||(R.add(n),n())}S.length=0}while(L.length);for(;N.length;)N.pop()();C=!1,U=!1,R.clear()}}function D(t){if(null!==t.fragment){t.update(),s(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(H)}}const W=new Set;function F(t,n){t&&t.i&&(W.delete(t),t.i(n))}function _(t,n,a,e){if(t&&t.o){if(W.has(t))return;W.add(t),(void 0).c.push(()=>{W.delete(t),e&&(a&&t.d(1),e())}),t.o(n)}}function B(t){t&&t.c()}function q(t,n){t&&t.l(n)}function G(t,n,e){const{fragment:c,on_mount:r,on_destroy:p,after_update:i}=t.$$;c&&c.m(n,e),H(()=>{const n=r.map(a).filter(o);p?p.push(...n):s(n),t.$$.on_mount=[]}),i.forEach(H)}function z(t,n){const a=t.$$;null!==a.fragment&&(s(a.on_destroy),a.fragment&&a.fragment.d(n),a.on_destroy=a.fragment=null,a.ctx=[])}function J(t,n){-1===t.$$.dirty[0]&&(L.push(t),C||(C=!0,M.then(j)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function V(n,a,o,c,r,p,i=[-1]){const l=x;I(n);const h=a.props||{},d=n.$$={fragment:null,ctx:null,props:p,update:t,not_equal:r,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:e(),dirty:i};let f=!1;if(d.ctx=o?o(n,h,(t,a,...e)=>{const s=e.length?e[0]:a;return d.ctx&&r(d.ctx[t],d.ctx[t]=s)&&(d.bound[t]&&d.bound[t](s),f&&J(n,t)),a}):[],d.update(),f=!0,s(d.before_update),d.fragment=!!c&&c(d.ctx),a.target){if(a.hydrate){const t=v(a.target);d.fragment&&d.fragment.l(t),t.forEach(u)}else d.fragment&&d.fragment.c();a.intro&&F(n.$$.fragment),G(n,a.target,a.anchor),j()}I(l)}class Y{$destroy(){z(this,1),this.$destroy=t}$on(t,n){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(n),()=>{const t=a.indexOf(n);-1!==t&&a.splice(t,1)}}$set(){}}function K(n){let a,e,s,o,c,r,p,h,g,$,T,A,x,I,P,L,O,S,N,M,C,H,U,R,j,D,W,F,_,B,q,G,z,J,V;return{c(){a=d("header"),e=d("nav"),s=d("ul"),o=d("li"),c=d("a"),r=m("Tan Li Hau"),p=k(),h=d("li"),g=d("a"),$=m("About"),T=k(),A=d("li"),x=d("a"),I=m("Writings"),P=k(),L=d("li"),O=d("a"),S=m("Talks"),N=k(),M=d("li"),C=d("a"),H=m("Notes"),U=k(),R=d("li"),j=d("a"),D=m("Newsletter"),W=k(),F=d("li"),_=d("a"),B=f("svg"),q=f("path"),G=k(),z=d("a"),J=f("svg"),V=f("path"),this.h()},l(t){a=E(t,"HEADER",{class:!0});var n=v(a);e=E(n,"NAV",{});var i=v(e);s=E(i,"UL",{class:!0});var l=v(s);o=E(l,"LI",{class:!0});var d=v(o);c=E(d,"A",{href:!0,class:!0});var f=v(c);r=y(f,"Tan Li Hau"),f.forEach(u),d.forEach(u),p=b(l),h=E(l,"LI",{class:!0});var m=v(h);g=E(m,"A",{href:!0,class:!0});var k=v(g);$=y(k,"About"),k.forEach(u),m.forEach(u),T=b(l),A=E(l,"LI",{class:!0});var w=v(A);x=E(w,"A",{href:!0,class:!0});var Y=v(x);I=y(Y,"Writings"),Y.forEach(u),w.forEach(u),P=b(l),L=E(l,"LI",{class:!0});var K=v(L);O=E(K,"A",{href:!0,class:!0});var Z=v(O);S=y(Z,"Talks"),Z.forEach(u),K.forEach(u),N=b(l),M=E(l,"LI",{class:!0});var Q=v(M);C=E(Q,"A",{href:!0,class:!0});var X=v(C);H=y(X,"Notes"),X.forEach(u),Q.forEach(u),U=b(l),R=E(l,"LI",{class:!0});var tt=v(R);j=E(tt,"A",{href:!0,class:!0});var nt=v(j);D=y(nt,"Newsletter"),nt.forEach(u),tt.forEach(u),W=b(l),F=E(l,"LI",{class:!0});var at=v(F);_=E(at,"A",{"aria-label":!0,href:!0,class:!0});var et=v(_);B=E(et,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var st=v(B);q=E(st,"path",{d:!0},1),v(q).forEach(u),st.forEach(u),et.forEach(u),G=b(at),z=E(at,"A",{"aria-label":!0,href:!0,class:!0});var ot=v(z);J=E(ot,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var ct=v(J);V=E(ct,"path",{d:!0},1),v(V).forEach(u),ct.forEach(u),ot.forEach(u),at.forEach(u),l.forEach(u),i.forEach(u),n.forEach(u),this.h()},h(){w(c,"href","/"),w(c,"class","svelte-f3e4uo"),w(o,"class","svelte-f3e4uo"),w(g,"href","/about"),w(g,"class","svelte-f3e4uo"),w(h,"class","svelte-f3e4uo"),w(x,"href","/blogs"),w(x,"class","svelte-f3e4uo"),w(A,"class","svelte-f3e4uo"),w(O,"href","/talks"),w(O,"class","svelte-f3e4uo"),w(L,"class","svelte-f3e4uo"),w(C,"href","/notes"),w(C,"class","svelte-f3e4uo"),w(M,"class","svelte-f3e4uo"),w(j,"href","/newsletter"),w(j,"class","svelte-f3e4uo"),w(R,"class","svelte-f3e4uo"),w(q,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),w(B,"viewBox","0 0 24 24"),w(B,"width","1em"),w(B,"height","1em"),w(B,"class","svelte-f3e4uo"),w(_,"aria-label","Twitter account"),w(_,"href","https://twitter.com/lihautan"),w(_,"class","svelte-f3e4uo"),w(V,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),w(J,"viewBox","0 0 24 24"),w(J,"width","1em"),w(J,"height","1em"),w(J,"class","svelte-f3e4uo"),w(z,"aria-label","Github account"),w(z,"href","https://github.com/tanhauhau"),w(z,"class","svelte-f3e4uo"),w(F,"class","social svelte-f3e4uo"),w(s,"class","svelte-f3e4uo"),w(a,"class","svelte-f3e4uo")},m(t,n){l(t,a,n),i(a,e),i(e,s),i(s,o),i(o,c),i(c,r),i(s,p),i(s,h),i(h,g),i(g,$),i(s,T),i(s,A),i(A,x),i(x,I),i(s,P),i(s,L),i(L,O),i(O,S),i(s,N),i(s,M),i(M,C),i(C,H),i(s,U),i(s,R),i(R,j),i(j,D),i(s,W),i(s,F),i(F,_),i(_,B),i(B,q),i(F,G),i(F,z),i(z,J),i(J,V)},p:t,i:t,o:t,d(t){t&&u(a)}}}class Z extends Y{constructor(t){super(),V(this,t,null,K,c,{})}}function Q(n){let a,e,s,o,c,r,p,h,f,g,$,A,x,I,P,L,O,S,N,M;return{c(){a=d("div"),e=d("h1"),s=m("Subscribe to my newsletter"),o=k(),c=d("h2"),r=m("Get the latest blog posts and project updates delivered right to your inbox"),p=k(),h=d("form"),f=d("div"),g=d("input"),$=k(),A=d("input"),I=k(),P=d("input"),L=k(),O=d("p"),S=m("Powered by Buttondown."),this.h()},l(t){a=E(t,"DIV",{class:!0});var n=v(a);e=E(n,"H1",{});var i=v(e);s=y(i,"Subscribe to my newsletter"),i.forEach(u),o=b(n),c=E(n,"H2",{class:!0});var l=v(c);r=y(l,"Get the latest blog posts and project updates delivered right to your inbox"),l.forEach(u),p=b(n),h=E(n,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var d=v(h);f=E(d,"DIV",{class:!0});var m=v(f);g=E(m,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),$=b(m),A=E(m,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),m.forEach(u),I=b(d),P=E(d,"INPUT",{type:!0,value:!0,name:!0,class:!0}),L=b(d),O=E(d,"P",{class:!0});var k=v(O);S=y(k,"Powered by Buttondown."),k.forEach(u),d.forEach(u),n.forEach(u),this.h()},h(){w(c,"class","svelte-1k1s1co"),w(g,"type","email"),w(g,"name","email"),w(g,"id","bd-email"),w(g,"aria-label","email address"),w(g,"placeholder","youremail@example.com"),w(g,"class","svelte-1k1s1co"),w(A,"type","submit"),A.value="Subscribe",A.disabled=x=!n[0],w(A,"class","svelte-1k1s1co"),w(f,"class","form-item svelte-1k1s1co"),w(P,"type","hidden"),P.value="1",w(P,"name","embed"),w(P,"class","svelte-1k1s1co"),w(O,"class","svelte-1k1s1co"),w(h,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),w(h,"method","post"),w(h,"target","popupwindow"),w(h,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),w(h,"class","embeddable-buttondown-form"),w(a,"class","form svelte-1k1s1co")},m(t,u){var d,m,k,w;l(t,a,u),i(a,e),i(e,s),i(a,o),i(a,c),i(c,r),i(a,p),i(a,h),i(h,f),i(f,g),T(g,n[0]),i(f,$),i(f,A),i(h,I),i(h,P),i(h,L),i(h,O),i(O,S),N||(d=g,m="input",k=n[1],d.addEventListener(m,k,w),M=()=>d.removeEventListener(m,k,w),N=!0)},p(t,[n]){1&n&&g.value!==t[0]&&T(g,t[0]),1&n&&x!==(x=!t[0])&&(A.disabled=x)},i:t,o:t,d(t){t&&u(a),N=!1,M()}}}function X(t,n,a){let e;return[e,function(){e=this.value,a(0,e)}]}class tt extends Y{constructor(t){super(),V(this,t,X,Q,c,{})}}function nt(t){return P(()=>(setTimeout(()=>{if(window.innerWidth>1080){const t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",t.id="_carbonads_js",document.body.appendChild(t)}},5e3),()=>{try{const t=document.getElementById("carbonads");t.parentNode.removeChild(t)}catch(t){}})),[]}class at extends Y{constructor(t){super(),V(this,t,nt,null,c,{})}}function et(t,n,a){const e=t.slice();return e[6]=n[a],e}function st(t,n,a){const e=t.slice();return e[6]=n[a],e}function ot(t){let n,a;return{c(){n=d("meta"),this.h()},l(t){n=E(t,"META",{name:!0,content:!0}),this.h()},h(){w(n,"name","keywords"),w(n,"content",a=t[6])},m(t,a){l(t,n,a)},p(t,e){4&e&&a!==(a=t[6])&&w(n,"content",a)},d(t){t&&u(n)}}}function ct(t){let n,a,e=t[6]+"";return{c(){n=d("span"),a=m(e),this.h()},l(t){n=E(t,"SPAN",{class:!0});var s=v(n);a=y(s,e),s.forEach(u),this.h()},h(){w(n,"class","svelte-9tqnza")},m(t,e){l(t,n,e),i(n,a)},p(t,n){4&n&&e!==(e=t[6]+"")&&$(a,e)},d(t){t&&u(n)}}}function rt(t){let n,a,e,s,o,c,f,T,x,I,P,L,O,S,N,M,C,H,U,R,j,D,W,J,V,Y,K,Q,X,nt,rt,pt,it,lt,ut,ht,dt=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:t[3],copyrightHolder:t[3],copyrightYear:"2020",creator:t[3],publisher:t[3],description:t[1],headline:t[0],name:t[0],inLanguage:"en"})}<\/script>`,ft=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Freactivity-in-web-frameworks-the-what",name:t[0]},name:t[0],position:2}]})}<\/script>`;document.title=n=t[0]+" | Tan Li Hau";let mt=t[2],kt=[];for(let n=0;n<mt.length;n+=1)kt[n]=ot(st(t,mt,n));W=new Z({});let gt=t[2],wt=[];for(let n=0;n<gt.length;n+=1)wt[n]=ct(et(t,gt,n));const vt=t[5].default,Et=function(t,n,a,e){if(t){const s=r(t,n,a,e);return t[0](s)}}(vt,t,t[4],null);return it=new tt({}),ut=new at({}),{c(){a=d("meta"),e=d("meta"),s=d("meta"),o=d("meta"),c=d("meta"),f=d("meta"),T=d("meta"),x=d("meta"),I=d("meta"),P=d("meta"),L=d("meta");for(let t=0;t<kt.length;t+=1)kt[t].c();O=d("meta"),S=d("meta"),M=g(),H=g(),U=k(),R=d("a"),j=m("Skip to content"),D=k(),B(W.$$.fragment),J=k(),V=d("main"),Y=d("h1"),K=m(t[0]),Q=k();for(let t=0;t<wt.length;t+=1)wt[t].c();X=k(),nt=d("article"),Et&&Et.c(),rt=k(),pt=d("footer"),B(it.$$.fragment),lt=k(),B(ut.$$.fragment),this.h()},l(n){const r=function(t,n=document.body){return Array.from(n.querySelectorAll(t))}('[data-svelte="svelte-15e3uyc"]',document.head);a=E(r,"META",{name:!0,content:!0}),e=E(r,"META",{name:!0,content:!0}),s=E(r,"META",{name:!0,content:!0}),o=E(r,"META",{name:!0,content:!0}),c=E(r,"META",{name:!0,content:!0}),f=E(r,"META",{name:!0,content:!0}),T=E(r,"META",{name:!0,content:!0}),x=E(r,"META",{name:!0,content:!0}),I=E(r,"META",{name:!0,content:!0}),P=E(r,"META",{name:!0,content:!0}),L=E(r,"META",{name:!0,content:!0});for(let t=0;t<kt.length;t+=1)kt[t].l(r);O=E(r,"META",{itemprop:!0,content:!0}),S=E(r,"META",{itemprop:!0,content:!0}),M=g(),H=g(),r.forEach(u),U=b(n),R=E(n,"A",{href:!0,class:!0});var p=v(R);j=y(p,"Skip to content"),p.forEach(u),D=b(n),q(W.$$.fragment,n),J=b(n),V=E(n,"MAIN",{id:!0,class:!0});var i=v(V);Y=E(i,"H1",{});var l=v(Y);K=y(l,t[0]),l.forEach(u),Q=b(i);for(let t=0;t<wt.length;t+=1)wt[t].l(i);X=b(i),nt=E(i,"ARTICLE",{});var h=v(nt);Et&&Et.l(h),h.forEach(u),i.forEach(u),rt=b(n),pt=E(n,"FOOTER",{class:!0});var d=v(pt);q(it.$$.fragment,d),lt=b(d),q(ut.$$.fragment,d),d.forEach(u),this.h()},h(){w(a,"name","description"),w(a,"content",t[1]),w(e,"name","image"),w(e,"content",null),w(s,"name","og:image"),w(s,"content",null),w(o,"name","og:title"),w(o,"content",t[0]),w(c,"name","og:description"),w(c,"content",t[1]),w(f,"name","og:type"),w(f,"content","website"),w(T,"name","twitter:card"),w(T,"content","summary_large_image"),w(x,"name","twitter:creator"),w(x,"content","@lihautan"),w(I,"name","twitter:title"),w(I,"content",t[0]),w(P,"name","twitter:description"),w(P,"content",t[1]),w(L,"name","twitter:image"),w(L,"content",null),w(O,"itemprop","url"),w(O,"content","https%3A%2F%2Flihautan.com%2Freactivity-in-web-frameworks-the-what"),w(S,"itemprop","image"),w(S,"content",null),N=new A(M),C=new A(H),w(R,"href","#content"),w(R,"class","skip svelte-9tqnza"),w(V,"id","content"),w(V,"class","blog svelte-9tqnza"),w(pt,"class","svelte-9tqnza")},m(t,n){i(document.head,a),i(document.head,e),i(document.head,s),i(document.head,o),i(document.head,c),i(document.head,f),i(document.head,T),i(document.head,x),i(document.head,I),i(document.head,P),i(document.head,L);for(let t=0;t<kt.length;t+=1)kt[t].m(document.head,null);i(document.head,O),i(document.head,S),N.m(dt,document.head),i(document.head,M),C.m(ft,document.head),i(document.head,H),l(t,U,n),l(t,R,n),i(R,j),l(t,D,n),G(W,t,n),l(t,J,n),l(t,V,n),i(V,Y),i(Y,K),i(V,Q);for(let t=0;t<wt.length;t+=1)wt[t].m(V,null);i(V,X),i(V,nt),Et&&Et.m(nt,null),l(t,rt,n),l(t,pt,n),G(it,pt,null),i(pt,lt),G(ut,pt,null),ht=!0},p(t,[e]){if((!ht||1&e)&&n!==(n=t[0]+" | Tan Li Hau")&&(document.title=n),(!ht||2&e)&&w(a,"content",t[1]),(!ht||1&e)&&w(o,"content",t[0]),(!ht||2&e)&&w(c,"content",t[1]),(!ht||1&e)&&w(I,"content",t[0]),(!ht||2&e)&&w(P,"content",t[1]),4&e){let n;for(mt=t[2],n=0;n<mt.length;n+=1){const a=st(t,mt,n);kt[n]?kt[n].p(a,e):(kt[n]=ot(a),kt[n].c(),kt[n].m(O.parentNode,O))}for(;n<kt.length;n+=1)kt[n].d(1);kt.length=mt.length}if((!ht||3&e)&&dt!==(dt=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:t[3],copyrightHolder:t[3],copyrightYear:"2020",creator:t[3],publisher:t[3],description:t[1],headline:t[0],name:t[0],inLanguage:"en"})}<\/script>`)&&N.p(dt),(!ht||1&e)&&ft!==(ft=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Freactivity-in-web-frameworks-the-what",name:t[0]},name:t[0],position:2}]})}<\/script>`)&&C.p(ft),(!ht||1&e)&&$(K,t[0]),4&e){let n;for(gt=t[2],n=0;n<gt.length;n+=1){const a=et(t,gt,n);wt[n]?wt[n].p(a,e):(wt[n]=ct(a),wt[n].c(),wt[n].m(V,X))}for(;n<wt.length;n+=1)wt[n].d(1);wt.length=gt.length}Et&&Et.p&&16&e&&p(Et,vt,t,t[4],e,null,null)},i(t){ht||(F(W.$$.fragment,t),F(Et,t),F(it.$$.fragment,t),F(ut.$$.fragment,t),ht=!0)},o(t){_(W.$$.fragment,t),_(Et,t),_(it.$$.fragment,t),_(ut.$$.fragment,t),ht=!1},d(t){u(a),u(e),u(s),u(o),u(c),u(f),u(T),u(x),u(I),u(P),u(L),h(kt,t),u(O),u(S),u(M),t&&N.d(),u(H),t&&C.d(),t&&u(U),t&&u(R),t&&u(D),z(W,t),t&&u(J),t&&u(V),h(wt,t),Et&&Et.d(t),t&&u(rt),t&&u(pt),z(it),z(ut)}}}function pt(t,n,a){let{title:e=""}=n,{description:s=""}=n,{tags:o=[]}=n;const c={"@type":"Person",name:"Tan Li Hau"};let{$$slots:r={},$$scope:p}=n;return t.$set=t=>{"title"in t&&a(0,e=t.title),"description"in t&&a(1,s=t.description),"tags"in t&&a(2,o=t.tags),"$$scope"in t&&a(4,p=t.$$scope)},[e,s,o,c,p,r]}class it extends Y{constructor(t){super(),V(this,t,pt,rt,c,{title:0,description:1,tags:2})}}function lt(n){let a,e,s,o,c,r,p,h,f,g,$,T,A,x,I,P,L,O,S,N,M,C,H,U,R,j,D,W,F,_,B,q,G,z,J,V,Y,K,Z,Q,X,tt,nt,at,et,st,ot,ct,rt,pt,it,lt,ut,ht,dt,ft,mt,kt,gt,wt,vt,Et,yt,bt,$t,Tt,At,xt,It,Pt,Lt,Ot,St,Nt,Mt,Ct,Ht,Ut,Rt,jt,Dt,Wt,Ft,_t,Bt,qt,Gt,zt,Jt,Vt,Yt,Kt,Zt,Qt,Xt,tn,nn,an,en,sn,on,cn,rn,pn,ln,un,hn,dn,fn,mn,kn,gn,wn,vn,En,yn,bn,$n,Tn,An,xn,In,Pn,Ln,On,Sn,Nn,Mn,Cn,Hn,Un,Rn,jn,Dn,Wn,Fn,_n,Bn,qn,Gn,zn,Jn,Vn,Yn,Kn,Zn,Qn,Xn,ta,na,aa,ea,sa,oa,ca,ra,pa,ia,la,ua,ha,da,fa,ma,ka,ga,wa,va,Ea,ya,ba,$a,Ta,Aa,xa,Ia,Pa,La,Oa,Sa,Na,Ma,Ca,Ha,Ua,Ra,ja,Da,Wa,Fa,_a,Ba,qa,Ga,za,Ja,Va,Ya,Ka,Za,Qa,Xa,te,ne,ae,ee,se,oe,ce,re,pe,ie,le,ue,he,de,fe,me,ke,ge,we,ve,Ee,ye,be,$e,Te,Ae,xe,Ie,Pe,Le,Oe,Se,Ne,Me,Ce,He,Ue,Re,je,De,We,Fe,_e,Be,qe;return{c(){a=d("section"),e=d("ul"),s=d("li"),o=d("a"),c=m("What is Reactivity?"),r=d("ul"),p=d("ul"),h=d("li"),f=d("a"),g=m("- Losing element state"),$=d("li"),T=d("a"),A=m("- Cost of creating DOM elements"),x=d("li"),I=d("a"),P=m("Framework knows nothing about what has changed"),L=d("li"),O=d("a"),S=m("Framework knows exactly what has changed and what needs to be updated"),N=d("li"),M=d("a"),C=m("The Component Model"),H=k(),U=d("section"),R=d("h2"),j=d("a"),D=m("What is Reactivity?"),W=k(),F=d("p"),_=m("Reactivity is the ability of a web framework to update your view whenever the application state has changed."),B=k(),q=d("p"),G=m("It is the core of any modern web framework."),z=k(),J=d("p"),V=m("To achieve reactivity, the framework has to answer 2 questions"),Y=k(),K=d("ul"),Z=d("li"),Q=m("When does the application state change?"),X=k(),tt=d("li"),nt=m("What has the application state changed?"),at=k(),et=d("p"),st=m("In "),ot=d("a"),ct=m("Part 1"),rt=m(", I started with a counter app example."),pt=k(),it=d("pre"),lt=k(),ut=d("p"),ht=m("and I talked about different strategies framework used to know when does the application state change."),dt=k(),ft=d("p"),mt=d("strong"),kt=m("- "),gt=d("a"),wt=m("Mutation Tracking"),vt=k(),Et=d("p"),yt=m("Using "),bt=d("a"),$t=m("ES6 Proxy"),Tt=m(", or before that, Object getters and setters, to determine when the application state has changed."),At=k(),xt=d("p"),It=d("strong"),Pt=m("- "),Lt=d("a"),Ot=m("Just call "),St=d("code"),Nt=m("scheduleUpdate"),Mt=k(),Ct=d("p"),Ht=m("Provide APIs that indirectly calls "),Ut=d("code"),Rt=m("scheduleUpdate"),jt=k(),Dt=d("p"),Wt=d("strong"),Ft=m("- "),_t=d("a"),Bt=m("Static Analysis"),qt=k(),Gt=d("p"),zt=m("Analyse the code statically, and insert "),Jt=d("code"),Vt=m("scheduleUpdate"),Yt=m(" into the code right after assignments."),Kt=k(),Zt=d("p"),Qt=m("After knowing that the application state has change, the framework will then proceed to update the view."),Xt=k(),tn=d("p"),nn=m("But, how?"),an=k(),en=d("p"),sn=m("The framework needs to figure out "),on=d("strong"),cn=m("what needs to be updated"),rn=m(", so that the framework will only update the part of the view that needs to be changed."),pn=k(),ln=d("p"),un=m("Without knowing what needs to be updated, the quickest and dirtiest way of updating the view would be to destroy and recreate everything:"),hn=k(),dn=d("pre"),fn=k(),mn=d("p"),kn=m("The drawbacks of this method are"),gn=k(),wn=d("section"),vn=d("h4"),En=d("a"),yn=m("- Losing element state"),bn=k(),$n=d("p"),Tn=m("We will lose the state of the element, such as:"),An=k(),xn=d("ul"),In=d("li"),Pn=m("input focus"),Ln=k(),On=d("li"),Sn=m("text highlight"),Nn=k(),Mn=d("li"),Cn=m("active state"),Hn=k(),Un=d("li"),Rn=m("..."),jn=k(),Dn=d("p"),Wn=m("if we didnt preserve them before destroying them."),Fn=k(),_n=d("section"),Bn=d("h4"),qn=d("a"),Gn=m("- Cost of creating DOM elements"),zn=k(),Jn=d("p"),Vn=m("It is much costly to recreate all the DOM elements needed instead of reuse and update the existing DOM elements."),Yn=k(),Kn=d("p"),Zn=m("@@@@@@@@@@@@"),Qn=k(),Xn=d("p"),ta=m("Now let's"),na=k(),aa=d("p"),ea=m("framework needs to know "),sa=d("strong"),oa=m("what has changed"),ca=m(" and then based on that, figure out "),ra=d("strong"),pa=m("what needs to be updated"),ia=m("."),la=k(),ua=d("p"),ha=m("@@@@@@@@@@@@"),da=k(),fa=d("p"),ma=m("Different "),ka=d("strong"),ga=m('"templating" strategies'),wa=m(" and "),va=d("a"),Ea=m("WHEN strategies"),ya=m(" give the framework varying amount of information in terms of "),ba=d("strong"),$a=m("what has changed"),Ta=m(" and "),Aa=d("strong"),xa=m("what needs to be updated"),Ia=m("."),Pa=k(),La=d("p"),Oa=m("We can put that variance in the amount of information into a spectrum."),Sa=k(),Na=d("section"),Ma=d("h3"),Ca=d("a"),Ha=m("Framework knows nothing about what has changed"),Ua=k(),Ra=d("p"),ja=m("At one end, our framework "),Da=d("strong"),Wa=m("knows nothing about what has changed"),Fa=m(". To update the application without knowing what has change, the quickest and dirtiest mechanism would be to recreate everything."),_a=k(),Ba=d("p"),qa=m("However that would come with costs:"),Ga=k(),za=d("ul"),Ja=d("li"),Va=m("losing focus"),Ya=k(),Ka=d("li"),Za=m("cost of creating new elements, DOM manipulations"),Qa=k(),Xa=d("p"),te=m("So, a more well-thought mechanism is to create a intermediate representation of the UI. Instead of tearing down and recreate every DOM element everytime when there's an update, we compare the latest intermediate representation with the previous one, figure out the difference between the two representations and generate a list of operations needed to patch the DOM."),ne=k(),ae=d("pre"),ee=k(),se=d("p"),oe=m("By finding the differences between the new and old representations, framework figures out "),ce=d("strong"),re=m("what needs to be updated"),pe=m(" without knowing "),ie=d("strong"),le=m("what has changed"),ue=m("."),he=k(),de=d("p"),fe=m("The main advantage of this mechanism is that, the intermediate representation is way cheaper to create and manipulate."),me=k(),ke=d("section"),ge=d("h3"),we=d("a"),ve=m("Framework knows exactly what has changed and what needs to be updated"),Ee=k(),ye=d("p"),be=m("On the other extreme end of the spectrum, framework knows exactly what has changed and what needs to be updated."),$e=k(),Te=d("p"),Ae=m("This is the most efficient way of updating the UI, where everything needed by the framework has already been figured out. So the only thing the framework needs to do is to apply those updates to the DOM."),xe=k(),Ie=d("pre"),Pe=k(),Le=d("section"),Oe=d("h3"),Se=d("a"),Ne=m("The Component Model"),Me=k(),Ce=d("p"),He=m("TODO:"),Ue=k(),Re=d("p"),je=m("Components With component model, we can break the application up into is composed with components."),De=k(),We=d("p"),Fe=m("So, if the framework is able to figure out what needs to be updated early on, then , the more efficient it is (without having to figure out what needs to be updated later on)\ndecides whether the framework"),_e=k(),Be=d("p"),qe=m('Different "templating" strategies and [WHEN strategies'),this.h()},l(t){a=E(t,"SECTION",{});var n=v(a);e=E(n,"UL",{class:!0,id:!0,role:!0,"aria-label":!0});var i=v(e);s=E(i,"LI",{});var l=v(s);o=E(l,"A",{href:!0});var d=v(o);c=y(d,"What is Reactivity?"),d.forEach(u),l.forEach(u),r=E(i,"UL",{});var m=v(r);p=E(m,"UL",{});var k=v(p);h=E(k,"LI",{});var w=v(h);f=E(w,"A",{href:!0});var Ge=v(f);g=y(Ge,"- Losing element state"),Ge.forEach(u),w.forEach(u),$=E(k,"LI",{});var ze=v($);T=E(ze,"A",{href:!0});var Je=v(T);A=y(Je,"- Cost of creating DOM elements"),Je.forEach(u),ze.forEach(u),k.forEach(u),x=E(m,"LI",{});var Ve=v(x);I=E(Ve,"A",{href:!0});var Ye=v(I);P=y(Ye,"Framework knows nothing about what has changed"),Ye.forEach(u),Ve.forEach(u),L=E(m,"LI",{});var Ke=v(L);O=E(Ke,"A",{href:!0});var Ze=v(O);S=y(Ze,"Framework knows exactly what has changed and what needs to be updated"),Ze.forEach(u),Ke.forEach(u),N=E(m,"LI",{});var Qe=v(N);M=E(Qe,"A",{href:!0});var Xe=v(M);C=y(Xe,"The Component Model"),Xe.forEach(u),Qe.forEach(u),m.forEach(u),i.forEach(u),n.forEach(u),H=b(t),U=E(t,"SECTION",{});var ts=v(U);R=E(ts,"H2",{});var ns=v(R);j=E(ns,"A",{href:!0,id:!0});var as=v(j);D=y(as,"What is Reactivity?"),as.forEach(u),ns.forEach(u),W=b(ts),F=E(ts,"P",{});var es=v(F);_=y(es,"Reactivity is the ability of a web framework to update your view whenever the application state has changed."),es.forEach(u),B=b(ts),q=E(ts,"P",{});var ss=v(q);G=y(ss,"It is the core of any modern web framework."),ss.forEach(u),z=b(ts),J=E(ts,"P",{});var os=v(J);V=y(os,"To achieve reactivity, the framework has to answer 2 questions"),os.forEach(u),Y=b(ts),K=E(ts,"UL",{});var cs=v(K);Z=E(cs,"LI",{});var rs=v(Z);Q=y(rs,"When does the application state change?"),rs.forEach(u),X=b(cs),tt=E(cs,"LI",{});var ps=v(tt);nt=y(ps,"What has the application state changed?"),ps.forEach(u),cs.forEach(u),at=b(ts),et=E(ts,"P",{});var is=v(et);st=y(is,"In "),ot=E(is,"A",{href:!0});var ls=v(ot);ct=y(ls,"Part 1"),ls.forEach(u),rt=y(is,", I started with a counter app example."),is.forEach(u),pt=b(ts),it=E(ts,"PRE",{class:!0}),v(it).forEach(u),lt=b(ts),ut=E(ts,"P",{});var us=v(ut);ht=y(us,"and I talked about different strategies framework used to know when does the application state change."),us.forEach(u),dt=b(ts),ft=E(ts,"P",{});var hs=v(ft);mt=E(hs,"STRONG",{});var ds=v(mt);kt=y(ds,"- "),gt=E(ds,"A",{href:!0});var fs=v(gt);wt=y(fs,"Mutation Tracking"),fs.forEach(u),ds.forEach(u),hs.forEach(u),vt=b(ts),Et=E(ts,"P",{});var ms=v(Et);yt=y(ms,"Using "),bt=E(ms,"A",{href:!0,rel:!0});var ks=v(bt);$t=y(ks,"ES6 Proxy"),ks.forEach(u),Tt=y(ms,", or before that, Object getters and setters, to determine when the application state has changed."),ms.forEach(u),At=b(ts),xt=E(ts,"P",{});var gs=v(xt);It=E(gs,"STRONG",{});var ws=v(It);Pt=y(ws,"- "),Lt=E(ws,"A",{href:!0});var vs=v(Lt);Ot=y(vs,"Just call "),St=E(vs,"CODE",{});var Es=v(St);Nt=y(Es,"scheduleUpdate"),Es.forEach(u),vs.forEach(u),ws.forEach(u),gs.forEach(u),Mt=b(ts),Ct=E(ts,"P",{});var ys=v(Ct);Ht=y(ys,"Provide APIs that indirectly calls "),Ut=E(ys,"CODE",{});var bs=v(Ut);Rt=y(bs,"scheduleUpdate"),bs.forEach(u),ys.forEach(u),jt=b(ts),Dt=E(ts,"P",{});var $s=v(Dt);Wt=E($s,"STRONG",{});var Ts=v(Wt);Ft=y(Ts,"- "),_t=E(Ts,"A",{href:!0});var As=v(_t);Bt=y(As,"Static Analysis"),As.forEach(u),Ts.forEach(u),$s.forEach(u),qt=b(ts),Gt=E(ts,"P",{});var xs=v(Gt);zt=y(xs,"Analyse the code statically, and insert "),Jt=E(xs,"CODE",{});var Is=v(Jt);Vt=y(Is,"scheduleUpdate"),Is.forEach(u),Yt=y(xs," into the code right after assignments."),xs.forEach(u),Kt=b(ts),Zt=E(ts,"P",{});var Ps=v(Zt);Qt=y(Ps,"After knowing that the application state has change, the framework will then proceed to update the view."),Ps.forEach(u),Xt=b(ts),tn=E(ts,"P",{});var Ls=v(tn);nn=y(Ls,"But, how?"),Ls.forEach(u),an=b(ts),en=E(ts,"P",{});var Os=v(en);sn=y(Os,"The framework needs to figure out "),on=E(Os,"STRONG",{});var Ss=v(on);cn=y(Ss,"what needs to be updated"),Ss.forEach(u),rn=y(Os,", so that the framework will only update the part of the view that needs to be changed."),Os.forEach(u),pn=b(ts),ln=E(ts,"P",{});var Ns=v(ln);un=y(Ns,"Without knowing what needs to be updated, the quickest and dirtiest way of updating the view would be to destroy and recreate everything:"),Ns.forEach(u),hn=b(ts),dn=E(ts,"PRE",{class:!0}),v(dn).forEach(u),fn=b(ts),mn=E(ts,"P",{});var Ms=v(mn);kn=y(Ms,"The drawbacks of this method are"),Ms.forEach(u),ts.forEach(u),gn=b(t),wn=E(t,"SECTION",{});var Cs=v(wn);vn=E(Cs,"H4",{});var Hs=v(vn);En=E(Hs,"A",{href:!0,id:!0});var Us=v(En);yn=y(Us,"- Losing element state"),Us.forEach(u),Hs.forEach(u),bn=b(Cs),$n=E(Cs,"P",{});var Rs=v($n);Tn=y(Rs,"We will lose the state of the element, such as:"),Rs.forEach(u),An=b(Cs),xn=E(Cs,"UL",{});var js=v(xn);In=E(js,"LI",{});var Ds=v(In);Pn=y(Ds,"input focus"),Ds.forEach(u),Ln=b(js),On=E(js,"LI",{});var Ws=v(On);Sn=y(Ws,"text highlight"),Ws.forEach(u),Nn=b(js),Mn=E(js,"LI",{});var Fs=v(Mn);Cn=y(Fs,"active state"),Fs.forEach(u),Hn=b(js),Un=E(js,"LI",{});var _s=v(Un);Rn=y(_s,"..."),_s.forEach(u),js.forEach(u),jn=b(Cs),Dn=E(Cs,"P",{});var Bs=v(Dn);Wn=y(Bs,"if we didnt preserve them before destroying them."),Bs.forEach(u),Cs.forEach(u),Fn=b(t),_n=E(t,"SECTION",{});var qs=v(_n);Bn=E(qs,"H4",{});var Gs=v(Bn);qn=E(Gs,"A",{href:!0,id:!0});var zs=v(qn);Gn=y(zs,"- Cost of creating DOM elements"),zs.forEach(u),Gs.forEach(u),zn=b(qs),Jn=E(qs,"P",{});var Js=v(Jn);Vn=y(Js,"It is much costly to recreate all the DOM elements needed instead of reuse and update the existing DOM elements."),Js.forEach(u),Yn=b(qs),Kn=E(qs,"P",{});var Vs=v(Kn);Zn=y(Vs,"@@@@@@@@@@@@"),Vs.forEach(u),Qn=b(qs),Xn=E(qs,"P",{});var Ys=v(Xn);ta=y(Ys,"Now let's"),Ys.forEach(u),na=b(qs),aa=E(qs,"P",{});var Ks=v(aa);ea=y(Ks,"framework needs to know "),sa=E(Ks,"STRONG",{});var Zs=v(sa);oa=y(Zs,"what has changed"),Zs.forEach(u),ca=y(Ks," and then based on that, figure out "),ra=E(Ks,"STRONG",{});var Qs=v(ra);pa=y(Qs,"what needs to be updated"),Qs.forEach(u),ia=y(Ks,"."),Ks.forEach(u),la=b(qs),ua=E(qs,"P",{});var Xs=v(ua);ha=y(Xs,"@@@@@@@@@@@@"),Xs.forEach(u),da=b(qs),fa=E(qs,"P",{});var to=v(fa);ma=y(to,"Different "),ka=E(to,"STRONG",{});var no=v(ka);ga=y(no,'"templating" strategies'),no.forEach(u),wa=y(to," and "),va=E(to,"A",{href:!0});var ao=v(va);Ea=y(ao,"WHEN strategies"),ao.forEach(u),ya=y(to," give the framework varying amount of information in terms of "),ba=E(to,"STRONG",{});var eo=v(ba);$a=y(eo,"what has changed"),eo.forEach(u),Ta=y(to," and "),Aa=E(to,"STRONG",{});var so=v(Aa);xa=y(so,"what needs to be updated"),so.forEach(u),Ia=y(to,"."),to.forEach(u),Pa=b(qs),La=E(qs,"P",{});var oo=v(La);Oa=y(oo,"We can put that variance in the amount of information into a spectrum."),oo.forEach(u),qs.forEach(u),Sa=b(t),Na=E(t,"SECTION",{});var co=v(Na);Ma=E(co,"H3",{});var ro=v(Ma);Ca=E(ro,"A",{href:!0,id:!0});var po=v(Ca);Ha=y(po,"Framework knows nothing about what has changed"),po.forEach(u),ro.forEach(u),Ua=b(co),Ra=E(co,"P",{});var io=v(Ra);ja=y(io,"At one end, our framework "),Da=E(io,"STRONG",{});var lo=v(Da);Wa=y(lo,"knows nothing about what has changed"),lo.forEach(u),Fa=y(io,". To update the application without knowing what has change, the quickest and dirtiest mechanism would be to recreate everything."),io.forEach(u),_a=b(co),Ba=E(co,"P",{});var uo=v(Ba);qa=y(uo,"However that would come with costs:"),uo.forEach(u),Ga=b(co),za=E(co,"UL",{});var ho=v(za);Ja=E(ho,"LI",{});var fo=v(Ja);Va=y(fo,"losing focus"),fo.forEach(u),Ya=b(ho),Ka=E(ho,"LI",{});var mo=v(Ka);Za=y(mo,"cost of creating new elements, DOM manipulations"),mo.forEach(u),ho.forEach(u),Qa=b(co),Xa=E(co,"P",{});var ko=v(Xa);te=y(ko,"So, a more well-thought mechanism is to create a intermediate representation of the UI. Instead of tearing down and recreate every DOM element everytime when there's an update, we compare the latest intermediate representation with the previous one, figure out the difference between the two representations and generate a list of operations needed to patch the DOM."),ko.forEach(u),ne=b(co),ae=E(co,"PRE",{class:!0}),v(ae).forEach(u),ee=b(co),se=E(co,"P",{});var go=v(se);oe=y(go,"By finding the differences between the new and old representations, framework figures out "),ce=E(go,"STRONG",{});var wo=v(ce);re=y(wo,"what needs to be updated"),wo.forEach(u),pe=y(go," without knowing "),ie=E(go,"STRONG",{});var vo=v(ie);le=y(vo,"what has changed"),vo.forEach(u),ue=y(go,"."),go.forEach(u),he=b(co),de=E(co,"P",{});var Eo=v(de);fe=y(Eo,"The main advantage of this mechanism is that, the intermediate representation is way cheaper to create and manipulate."),Eo.forEach(u),co.forEach(u),me=b(t),ke=E(t,"SECTION",{});var yo=v(ke);ge=E(yo,"H3",{});var bo=v(ge);we=E(bo,"A",{href:!0,id:!0});var $o=v(we);ve=y($o,"Framework knows exactly what has changed and what needs to be updated"),$o.forEach(u),bo.forEach(u),Ee=b(yo),ye=E(yo,"P",{});var To=v(ye);be=y(To,"On the other extreme end of the spectrum, framework knows exactly what has changed and what needs to be updated."),To.forEach(u),$e=b(yo),Te=E(yo,"P",{});var Ao=v(Te);Ae=y(Ao,"This is the most efficient way of updating the UI, where everything needed by the framework has already been figured out. So the only thing the framework needs to do is to apply those updates to the DOM."),Ao.forEach(u),xe=b(yo),Ie=E(yo,"PRE",{class:!0}),v(Ie).forEach(u),yo.forEach(u),Pe=b(t),Le=E(t,"SECTION",{});var xo=v(Le);Oe=E(xo,"H3",{});var Io=v(Oe);Se=E(Io,"A",{href:!0,id:!0});var Po=v(Se);Ne=y(Po,"The Component Model"),Po.forEach(u),Io.forEach(u),Me=b(xo),Ce=E(xo,"P",{});var Lo=v(Ce);He=y(Lo,"TODO:"),Lo.forEach(u),Ue=b(xo),Re=E(xo,"P",{});var Oo=v(Re);je=y(Oo,"Components With component model, we can break the application up into is composed with components."),Oo.forEach(u),De=b(xo),We=E(xo,"P",{});var So=v(We);Fe=y(So,"So, if the framework is able to figure out what needs to be updated early on, then , the more efficient it is (without having to figure out what needs to be updated later on)\ndecides whether the framework"),So.forEach(u),_e=b(xo),Be=E(xo,"P",{});var No=v(Be);qe=y(No,'Different "templating" strategies and [WHEN strategies'),No.forEach(u),xo.forEach(u),this.h()},h(){w(o,"href","#what-is-reactivity"),w(f,"href","#losing-element-state"),w(T,"href","#cost-of-creating-dom-elements"),w(I,"href","#framework-knows-nothing-about-what-has-changed"),w(O,"href","#framework-knows-exactly-what-has-changed-and-what-needs-to-be-updated"),w(M,"href","#the-component-model"),w(e,"class","sitemap"),w(e,"id","sitemap"),w(e,"role","navigation"),w(e,"aria-label","Table of Contents"),w(j,"href","#what-is-reactivity"),w(j,"id","what-is-reactivity"),w(ot,"href","/reactivity-in-web-frameworks-the-when"),w(it,"class","language-js"),w(gt,"href","/reactivity-in-web-frameworks-the-when#mutation-tracking"),w(bt,"href","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"),w(bt,"rel","nofollow"),w(Lt,"href","/reactivity-in-web-frameworks-the-when#just-call-schedule-update"),w(_t,"href","/reactivity-in-web-frameworks-the-when#static-analysis"),w(dn,"class","language-js"),w(En,"href","#losing-element-state"),w(En,"id","losing-element-state"),w(qn,"href","#cost-of-creating-dom-elements"),w(qn,"id","cost-of-creating-dom-elements"),w(va,"href","/reactivity-in-web-frameworks-the-when#the-when"),w(Ca,"href","#framework-knows-nothing-about-what-has-changed"),w(Ca,"id","framework-knows-nothing-about-what-has-changed"),w(ae,"class","language-js"),w(we,"href","#framework-knows-exactly-what-has-changed-and-what-needs-to-be-updated"),w(we,"id","framework-knows-exactly-what-has-changed-and-what-needs-to-be-updated"),w(Ie,"class","language-js"),w(Se,"href","#the-component-model"),w(Se,"id","the-component-model")},m(t,n){l(t,a,n),i(a,e),i(e,s),i(s,o),i(o,c),i(e,r),i(r,p),i(p,h),i(h,f),i(f,g),i(p,$),i($,T),i(T,A),i(r,x),i(x,I),i(I,P),i(r,L),i(L,O),i(O,S),i(r,N),i(N,M),i(M,C),l(t,H,n),l(t,U,n),i(U,R),i(R,j),i(j,D),i(U,W),i(U,F),i(F,_),i(U,B),i(U,q),i(q,G),i(U,z),i(U,J),i(J,V),i(U,Y),i(U,K),i(K,Z),i(Z,Q),i(K,X),i(K,tt),i(tt,nt),i(U,at),i(U,et),i(et,st),i(et,ot),i(ot,ct),i(et,rt),i(U,pt),i(U,it),it.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">const</span> <span class="token punctuation">[</span>counter<span class="token punctuation">,</span> setCounter<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">(</span>\n    <span class="token operator">&lt;</span>div<span class="token operator">></span>\n      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCounter</span><span class="token punctuation">(</span><span class="token parameter">counter</span> <span class="token operator">=></span> counter <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">-</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n      <span class="token operator">&lt;</span>span<span class="token operator">></span><span class="token punctuation">&#123;</span>counter<span class="token punctuation">&#125;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">></span>\n      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">setCounter</span><span class="token punctuation">(</span><span class="token parameter">counter</span> <span class="token operator">=></span> counter <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token operator">></span><span class="token operator">+</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>\n    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>\n  <span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',i(U,lt),i(U,ut),i(ut,ht),i(U,dt),i(U,ft),i(ft,mt),i(mt,kt),i(mt,gt),i(gt,wt),i(U,vt),i(U,Et),i(Et,yt),i(Et,bt),i(bt,$t),i(Et,Tt),i(U,At),i(U,xt),i(xt,It),i(It,Pt),i(It,Lt),i(Lt,Ot),i(Lt,St),i(St,Nt),i(U,Mt),i(U,Ct),i(Ct,Ht),i(Ct,Ut),i(Ut,Rt),i(U,jt),i(U,Dt),i(Dt,Wt),i(Wt,Ft),i(Wt,_t),i(_t,Bt),i(U,qt),i(U,Gt),i(Gt,zt),i(Gt,Jt),i(Jt,Vt),i(Gt,Yt),i(U,Kt),i(U,Zt),i(Zt,Qt),i(U,Xt),i(U,tn),i(tn,nn),i(U,an),i(U,en),i(en,sn),i(en,on),i(on,cn),i(en,rn),i(U,pn),i(U,ln),i(ln,un),i(U,hn),i(U,dn),dn.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> applicationState</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token comment">// destroy everything</span>\n  root<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">\'\'</span><span class="token punctuation">;</span>\n  <span class="token comment">// ...and rebuild</span>\n  <span class="token keyword">const</span> newElement <span class="token operator">=</span> <span class="token function">buildUi</span><span class="token punctuation">(</span>applicationState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  root<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>newElement<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n\n<span class="token comment">// building the counter app</span>\n<span class="token keyword">function</span> <span class="token function">buildUi</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> counter <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'div\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> button1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'button\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  button1<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">\'-\'</span><span class="token punctuation">;</span>\n  div<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>button1<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'span\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  span<span class="token punctuation">.</span>textContent <span class="token operator">=</span> counter<span class="token punctuation">;</span>\n  div<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> button2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'button\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  button2<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">\'+\'</span><span class="token punctuation">;</span>\n  div<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>button2<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n  <span class="token keyword">return</span> div<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',i(U,fn),i(U,mn),i(mn,kn),l(t,gn,n),l(t,wn,n),i(wn,vn),i(vn,En),i(En,yn),i(wn,bn),i(wn,$n),i($n,Tn),i(wn,An),i(wn,xn),i(xn,In),i(In,Pn),i(xn,Ln),i(xn,On),i(On,Sn),i(xn,Nn),i(xn,Mn),i(Mn,Cn),i(xn,Hn),i(xn,Un),i(Un,Rn),i(wn,jn),i(wn,Dn),i(Dn,Wn),l(t,Fn,n),l(t,_n,n),i(_n,Bn),i(Bn,qn),i(qn,Gn),i(_n,zn),i(_n,Jn),i(Jn,Vn),i(_n,Yn),i(_n,Kn),i(Kn,Zn),i(_n,Qn),i(_n,Xn),i(Xn,ta),i(_n,na),i(_n,aa),i(aa,ea),i(aa,sa),i(sa,oa),i(aa,ca),i(aa,ra),i(ra,pa),i(aa,ia),i(_n,la),i(_n,ua),i(ua,ha),i(_n,da),i(_n,fa),i(fa,ma),i(fa,ka),i(ka,ga),i(fa,wa),i(fa,va),i(va,Ea),i(fa,ya),i(fa,ba),i(ba,$a),i(fa,Ta),i(fa,Aa),i(Aa,xa),i(fa,Ia),i(_n,Pa),i(_n,La),i(La,Oa),l(t,Sa,n),l(t,Na,n),i(Na,Ma),i(Ma,Ca),i(Ca,Ha),i(Na,Ua),i(Na,Ra),i(Ra,ja),i(Ra,Da),i(Da,Wa),i(Ra,Fa),i(Na,_a),i(Na,Ba),i(Ba,qa),i(Na,Ga),i(Na,za),i(za,Ja),i(Ja,Va),i(za,Ya),i(za,Ka),i(Ka,Za),i(Na,Qa),i(Na,Xa),i(Xa,te),i(Na,ne),i(Na,ae),ae.innerHTML='<code class="language-js"><span class="token keyword">let</span> previousUi <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>\n<span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> applicationState</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">const</span> newUi <span class="token operator">=</span> <span class="token function">buildIntermediateUi</span><span class="token punctuation">(</span>applicationState<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">const</span> operationsNeeded <span class="token operator">=</span> <span class="token function">diff</span><span class="token punctuation">(</span>newUi<span class="token punctuation">,</span> previousUi<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  operationsNeeded<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>runOperation<span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token comment">// keep for comparison in the next update</span>\n  previousUi <span class="token operator">=</span> newUi<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n\n<span class="token comment">// building the counter app</span>\n<span class="token keyword">function</span> <span class="token function">buildIntermediateUi</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> counter <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">return</span> <span class="token punctuation">&#123;</span>\n    element<span class="token punctuation">:</span> <span class="token string">\'div\'</span><span class="token punctuation">,</span>\n    children<span class="token punctuation">:</span> <span class="token punctuation">[</span>\n      <span class="token punctuation">&#123;</span>\n        element<span class="token punctuation">:</span> <span class="token string">\'button\'</span><span class="token punctuation">,</span>\n        text<span class="token punctuation">:</span> <span class="token string">\'-\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n      <span class="token punctuation">&#123;</span>\n        element<span class="token punctuation">:</span> <span class="token string">\'span\'</span><span class="token punctuation">,</span>\n        text<span class="token punctuation">:</span> counter<span class="token punctuation">,</span>\n      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n      <span class="token punctuation">&#123;</span>\n        element<span class="token punctuation">:</span> <span class="token string">\'button\'</span><span class="token punctuation">,</span>\n        text<span class="token punctuation">:</span> <span class="token string">\'+\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',i(Na,ee),i(Na,se),i(se,oe),i(se,ce),i(ce,re),i(se,pe),i(se,ie),i(ie,le),i(se,ue),i(Na,he),i(Na,de),i(de,fe),l(t,me,n),l(t,ke,n),i(ke,ge),i(ge,we),i(we,ve),i(ke,Ee),i(ke,ye),i(ye,be),i(ke,$e),i(ke,Te),i(Te,Ae),i(ke,xe),i(ke,Ie),Ie.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> changes</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token function">applyChanges</span><span class="token punctuation">(</span>root<span class="token punctuation">,</span> changes<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n\n<span class="token comment">// an example of apply changes for the counter app</span>\n<span class="token keyword">function</span> <span class="token function">applyChanges</span><span class="token punctuation">(</span><span class="token parameter">root<span class="token punctuation">,</span> changes</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token comment">// update span\'s text if &#96;counter&#96; changed</span>\n  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">\'counter\'</span> <span class="token keyword">in</span> changes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n    root<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">\'span\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>textContent <span class="token operator">=</span> changes<span class="token punctuation">.</span>counter<span class="token punctuation">;</span>\n  <span class="token punctuation">&#125;</span>\n<span class="token punctuation">&#125;</span></code>',l(t,Pe,n),l(t,Le,n),i(Le,Oe),i(Oe,Se),i(Se,Ne),i(Le,Me),i(Le,Ce),i(Ce,He),i(Le,Ue),i(Le,Re),i(Re,je),i(Le,De),i(Le,We),i(We,Fe),i(Le,_e),i(Le,Be),i(Be,qe)},p:t,d(t){t&&u(a),t&&u(H),t&&u(U),t&&u(gn),t&&u(wn),t&&u(Fn),t&&u(_n),t&&u(Sa),t&&u(Na),t&&u(me),t&&u(ke),t&&u(Pe),t&&u(Le)}}}function ut(t){let a,e;const s=[ht];let o={$$slots:{default:[lt]},$$scope:{ctx:t}};for(let t=0;t<s.length;t+=1)o=n(o,s[t]);return a=new it({props:o}),{c(){B(a.$$.fragment)},l(t){q(a.$$.fragment,t)},m(t,n){G(a,t,n),e=!0},p(t,[n]){const e=0&n?function(t,n){const a={},e={},s={$$scope:1};let o=t.length;for(;o--;){const c=t[o],r=n[o];if(r){for(const t in c)t in r||(e[t]=1);for(const t in r)s[t]||(a[t]=r[t],s[t]=1);t[o]=r}else for(const t in c)s[t]=1}for(const t in e)t in a||(a[t]=void 0);return a}(s,[(o=ht,"object"==typeof o&&null!==o?o:{})]):{};var o;1&n&&(e.$$scope={dirty:n,ctx:t}),a.$set(e)},i(t){e||(F(a.$$.fragment,t),e=!0)},o(t){_(a.$$.fragment,t),e=!1},d(t){z(a,t)}}}const ht={title:"Reactivity in Web Frameworks (Part 2)",date:"2020-03-05T08:00:00Z",description:"Reactivity is the ability of a web framework to update your view whenever the application state has changed. How do web frameworks achieve reactivity?",wip:!0,slug:"reactivity-in-web-frameworks-the-what",type:"blog"};class dt extends Y{constructor(t){super(),V(this,t,null,ut,c,{})}}setTimeout(()=>{new dt({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const t=document.createElement("script");t.async=!0,t.src="https://platform.twitter.com/widgets.js",t.charset="utf-8",document.body.appendChild(t)}if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach(t=>{t.src=t.dataset.src})}else{const t=document.createElement("script");t.src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js",document.body.appendChild(t)}},3e3);
