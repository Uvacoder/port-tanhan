<!DOCTYPE html>
<html lang="en">

<head>
  <meta charSet="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link rel="preconnect dns-prefetch" href="https://www.google-analytics.com" />
  <link rel="preconnect dns-prefetch" href="https://fonts.googleapis.com" />
  <link href="https://twitter.com/lihautan" rel="me" />
  <link rel="manifest" href="/manifest.webmanifest" />
  <meta name="theme-color" content="#bd93f9" />
  <link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="icon" href="/icons/icon-48x48.png?v=8d2ab22a78631a892833a1e109f6aba0" />
  <link rel="preload"
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300&display=swap" as="style"
    onload="this.rel='stylesheet'">
  <link rel="alternate" type="application/rss+xml" title="Tan Li Hau&#x27;s RSS Feed" href="/rss.xml"/>
  <link rel="sitemap" type="application/xml" href="/sitemap.xml"/>
  <link rel="webmention" href="https://webmention.io/lihautan.com/webmention" />
  <link rel="pingback" href="https://webmention.io/lihautan.com/xmlrpc" />
  <style>
    html {
      font-family: 'Lato', sans-serif;
      font-weight: 300;
      font-size: 19px;
      background: linear-gradient(0deg, transparent, #bd93f917, transparent);
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    :root {
      --prism-padding: 20px;
      --margin: 1.62em;
      --box-shadow-size: 6px;
      --box-shadow: var(--box-shadow-size) var(--box-shadow-size) var(--primary-color);
      --box-shadow-hover: 10px 10px var(--primary-color);
      --easing: 200ms ease-in-out;
      --primary-color: #bd93f9;
      --secondary-color: #9547b7;
      --dark-color: #282936;
    }
  </style>

  
  <title>Building a simplified webpack clone | Tan Li Hau</title><meta name="description" content="" data-svelte="svelte-15e3uyc"><meta name="image" data-svelte="svelte-15e3uyc"><meta name="og:image" data-svelte="svelte-15e3uyc"><meta name="og:title" content="Building a simplified webpack clone" data-svelte="svelte-15e3uyc"><meta name="og:description" content="" data-svelte="svelte-15e3uyc"><meta name="og:type" content="website" data-svelte="svelte-15e3uyc"><meta name="twitter:card" content="summary_large_image" data-svelte="svelte-15e3uyc"><meta name="twitter:creator" content="@lihautan" data-svelte="svelte-15e3uyc"><meta name="twitter:title" content="Building a simplified webpack clone" data-svelte="svelte-15e3uyc"><meta name="twitter:description" content="" data-svelte="svelte-15e3uyc"><meta name="twitter:image" data-svelte="svelte-15e3uyc"><meta name="keywords" content="JavaScript" data-svelte="svelte-15e3uyc"><meta name="keywords" content="webpack" data-svelte="svelte-15e3uyc"><meta itemprop="url" content="https%3A%2F%2Flihautan.com%2Fbuilding-a-simplified-webpack-clone" data-svelte="svelte-15e3uyc"><meta itemprop="image" data-svelte="svelte-15e3uyc"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","author":{"@type":"Person","name":"Tan Li Hau"},"copyrightHolder":{"@type":"Person","name":"Tan Li Hau"},"copyrightYear":"2020","creator":{"@type":"Person","name":"Tan Li Hau"},"publisher":{"@type":"Person","name":"Tan Li Hau"},"description":"","headline":"Building a simplified webpack clone","name":"Building a simplified webpack clone","inLanguage":"en"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","description":"Breadcrumbs list","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","item":{"@id":"https://lihautan.com","name":"Homepage"},"name":"Homepage","position":1},{"@type":"ListItem","item":{"@id":"https%3A%2F%2Flihautan.com%2Fbuilding-a-simplified-webpack-clone","name":"Building a simplified webpack clone"},"name":"Building a simplified webpack clone","position":2}]}</script><link as="script" rel="preload" href="./effc2ff0.js"><link as="style" rel="preload" href="./assets/blog-base-3554d53c.css"><link as="style" rel="preload" href="./effc2ff0.css"><link href="./assets/blog-base-3554d53c.css" rel="stylesheet"><link href="./effc2ff0.css" rel="stylesheet">
</head>

<body>
  <div id="app">

<a href="#content" class="skip svelte-9tqnza">Skip to content</a>
<header class="svelte-f3e4uo"><nav><ul class="svelte-f3e4uo"><li class="svelte-f3e4uo"><a href="/" class="svelte-f3e4uo">Tan Li Hau</a></li>
    <li class="svelte-f3e4uo"><a href="/about" class="svelte-f3e4uo">About</a></li>
    <li class="svelte-f3e4uo"><a href="/blogs" class="svelte-f3e4uo">Writings</a></li>
    <li class="svelte-f3e4uo"><a href="/talks" class="svelte-f3e4uo">Talks</a></li>
    <li class="svelte-f3e4uo"><a href="/notes" class="svelte-f3e4uo">Notes</a></li>
    <li class="svelte-f3e4uo"><a href="/newsletter" class="svelte-f3e4uo">Newsletter</a></li>
    <li class="social svelte-f3e4uo"><a aria-label="Twitter account" href="https://twitter.com/lihautan" class="svelte-f3e4uo"><svg viewBox="0 0 24 24" width="1em" height="1em" class="svelte-f3e4uo"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66
    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5
    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
      <a aria-label="Github account" href="https://github.com/tanhauhau" class="svelte-f3e4uo"><svg viewBox="0 0 24 24" width="1em" height="1em" class="svelte-f3e4uo"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0
    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07
    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65
    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42
    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></li></ul></nav>
</header>

<main id="content" class="blog svelte-9tqnza"><h1>Building a simplified webpack clone</h1>
  
  <span class="svelte-9tqnza">JavaScript</span><span class="svelte-9tqnza">webpack</span>

  <article><section><ul class="sitemap" id="sitemap" role="navigation" aria-label="Table of Contents"><li><a href="#background">Background</a></li><li><a href="#prior-art">Prior Art</a></li><li><a href="#week-resolving">Week 1 - Resolving</a></li><ul><li><a href="#why-module-bundler">Why module bundler?</a></li><li><a href="#we-start-from-an-entry-file">1. We start from an entry file.</a></li><li><a href="#we-read-the-file-and-determine-what-is-being-imported-into-this-file">2. We read the file and determine what is being imported into this file</a></li><li><a href="#now-knowing-what-are-the-names-you-are-importing-from-you-need-to-figure-out-their-actual-file-path">3. Now knowing what are the names you are importing from, you need to figure out their actual file path</a></li><li><a href="#after-you-figured-the-file-path-you-re-importing-from-for-each-of-the-file-repeat-step-until-no-more-new-files-to-be-found">4Ô∏è‚É£ After you figured the file path you&#39;re importing from, for each of the file, üîÅ repeat step 2Ô∏è‚É£ until no more new files to be found.</a></li><li><a href="#assignment">Assignment</a></li></ul><li><a href="#week-bundling">Week 2 - Bundling</a></li><ul><li><a href="#observation-bundle-using-webpack">üî≠ Observation: Bundle using webpack</a></li><ul><li><a href="#observation-bundle-using-rollup">üî≠ Observation: Bundle using rollup</a></li></ul><li><a href="#output-target-of-bundling">üì§ Output target of bundling</a></li><li><a href="#assignment">Assignment</a></li><li><a href="#manipulating-ast">üî® Manipulating AST</a></li></ul></ul></section>
<section><h2><a href="#background" id="background">Background</a></h2>
<p>We are trying out a new form of our weekly sharing, which is interest group-based.</p>
<p>I am hosting the <strong>&quot;Building a simplified webpack clone&quot;</strong> interest group, which lasted 8 weeks, and every week, we will cover 1 concept of webpack and an assignment to implement that concept ourselves.</p></section>
<section><h2><a href="#prior-art" id="prior-art">Prior Art</a></h2>
<ul><li>üì∫ <a href="https://twitter.com/wSokra" rel="nofollow">Tobias Koppers</a> - bundling live by hand - <a href="https://youtube.com/watch?v=UNMkLHzofQI" rel="nofollow">https://youtube.com/watch?v=UNMkLHzofQI</a></li>
<li>üì∫ <a href="https://twitter.com/ronenamiel" rel="nofollow">Ronen Amiel</a> - build your own webpack - <a href="https://youtube.com/watch?v=Gc9-7PBqOC8" rel="nofollow">https://youtube.com/watch?v=Gc9-7PBqOC8</a></li>
<li>üìñ adam kelly - <a href="https://freecodecamp.org/news/lets-learn-how-module-bundlers-work-and-then-write-one-ourselves-b2e3fe6c88ae/" rel="nofollow">https://freecodecamp.org/news/lets-learn-how-module-bundlers-work-and-then-write-one-ourselves-b2e3fe6c88ae/</a></li></ul></section>
<section><h2><a href="#week-resolving" id="week-resolving">Week 1 - Resolving</a></h2></section>
<section><h3><a href="#why-module-bundler" id="why-module-bundler">Why module bundler?</a></h3>
<p>We love writing small modular JS files, but that shouldn&#39;t impact the users.</p>
<p>Traditionally with limit on number of request connection, üêå slow internet speed, we want to combine all the code into 1 file -&gt; 1 network request</p>
<p><picture><source type="image/webp" srcset="0a1a991f55fd3342.webp"><source type="image/jpeg" srcset="0a1a991f55fd3342.png"><img title="null" alt="why bundling" data-src="0a1a991f55fd3342.png" loading="lazy"></picture></p>
<p>üï∞ Traditionally, we concatenate the source files into 1 big output file.</p>
<p>But that begs the question</p>
<ul><li>‚ùì what should be the order of concatenation (files may depend on each other) ?</li>
<li>‚ùì what if there&#39;s var naming conflict across files?</li>
<li>‚ùì what if there&#39;s unused file?</li></ul>
<p>üí° That&#39;s why we need a module system to define the relationship among the JS modules</p>
<p><picture><source type="image/webp" srcset="4a14502ad5c07ae1.webp"><source type="image/jpeg" srcset="4a14502ad5c07ae1.png"><img title="null" alt="relationship within a bundle" data-src="4a14502ad5c07ae1.png" loading="lazy"></picture></p>
<p>So now, let&#39;s take a look how we can start building a module dependency graph</p></section>
<section><h3><a href="#we-start-from-an-entry-file" id="we-start-from-an-entry-file">1. We start from an entry file.</a></h3>
<p>This is the starting point of the application</p></section>
<section><h3><a href="#we-read-the-file-and-determine-what-is-being-imported-into-this-file" id="we-read-the-file-and-determine-what-is-being-imported-into-this-file">2. We read the file and determine what is being imported into this file</a></h3>
<pre class="language-js"><code class="language-js"><span class="token keyword">import</span> calculate <span class="token keyword">from</span> <span class="token string">'./calculate'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> measure<span class="token punctuation">,</span> <span class="token constant">UNITS</span> <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'../measurements'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> formula <span class="token keyword">from</span> <span class="token string">'formulas'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> oneCm <span class="token operator">=</span> <span class="token function">measure</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token constant">UNITS</span><span class="token punctuation">.</span><span class="token constant">CM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">calculate</span><span class="token punctuation">(</span>formula<span class="token punctuation">,</span> oneCm<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>In the example above, the following is imported:</p>
<ul><li><code>&#39;./calculate&#39;</code></li>
<li><code>&#39;../measurements&#39;</code></li>
<li><code>&#39;formulas&#39;</code></li></ul>
<p>we can spot the import from our human eye üëÄ, but how can computer ü§ñ do that for us?</p>
<p>ü§ñ can parse the code in string into Abstract Syntax Tree (AST), something representing the code that ü§ñ can understand.</p>
<p>in AST, import statement is represented by a node with:</p>
<ul><li><code>type</code> = &quot;ImportDeclaration&quot;</li>
<li><code>source.value</code> = the filename it&#39;s trying to import</li></ul>
<p><picture><source type="image/webp" srcset="e6f3300cabbe4833.webp"><source type="image/jpeg" srcset="e6f3300cabbe4833.jpg"><img title="null" alt="ast explorer" data-src="e6f3300cabbe4833.jpg" loading="lazy"></picture></p>
<p>There are various JavaScript parser out there, here are some of them</p>
<ul><li>üîó <a href="https://babeljs.io/docs/en/babel-core" rel="nofollow">babel</a></li>
<li>üîó <a href="https://github.com/acornjs/acorn" rel="nofollow">acorn</a></li>
<li>üîó <a href="https://github.com/jquery/esprima" rel="nofollow">esprima</a></li>
<li>üîó <a href="https://github.com/guybedford/es-module-lexer" rel="nofollow">es-module-lexer</a></li></ul>
<pre class="language-js"><code class="language-js"><span class="token comment">// babel</span>
<span class="token keyword">const</span> babel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/core'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
babel<span class="token punctuation">.</span><span class="token function">parseSync</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// acorn</span>
<span class="token keyword">const</span> acorn <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'acorn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
acorn<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> ecmaVersion<span class="token punctuation">:</span> <span class="token number">2020</span><span class="token punctuation">,</span> sourceType<span class="token punctuation">:</span> <span class="token string">'module'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// esprima</span>
<span class="token keyword">const</span> esprima <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'esprima'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
esprima<span class="token punctuation">.</span><span class="token function">parseScript</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// if you just need the import &amp; export</span>
<span class="token comment">// es-module-lexer is blazing fast, it is written in c, and loaded through web-assembly</span>
<span class="token comment">// is what powers vite for parsing dependencies</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> init<span class="token punctuation">,</span> parse <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'es-module-lexer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">await</span> init<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>imports<span class="token punctuation">,</span> exports<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>...and if you forgot about your tree-traversal algorithm üò®, here are some libraries that can help you out</p>
<ul><li>üîó <a href="https://babeljs.io/docs/en/babel-traverse" rel="nofollow">babel-traverse</a></li>
<li>üîó <a href="https://github.com/acornjs/acorn/tree/master/acorn-walk" rel="nofollow">acorn-walk</a></li>
<li>üîó <a href="https://github.com/Rich-Harris/estree-walker" rel="nofollow">estree-walker</a></li></ul>
<pre class="language-js"><code class="language-js"><span class="token comment">// babel</span>
<span class="token keyword">const</span> traverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'@babel/traverse'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
<span class="token function">traverse</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// acorn</span>
walk<span class="token punctuation">.</span><span class="token function">simple</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// estree-walker</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> walk <span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'estree-walker'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">walk</span><span class="token punctuation">(</span>ast<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token function">enter</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function">leave</span><span class="token punctuation">(</span><span class="token parameter">node</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>Some other useful links</p>
<ul><li>Inspect your AST<ul><li><a href="https://astexplorer.net" rel="nofollow">https://astexplorer.net</a></li>
<li><a href="https://lihautan.com/babel-ast-explorer/" rel="nofollow">https://lihautan.com/babel-ast-explorer/</a></li></ul></li>
<li>The JS AST Specification<ul><li><a href="https://github.com/estree/estree" rel="nofollow">https://github.com/estree/estree</a></li></ul></li>
<li>Guide on parsing, traversing AST<ul><li><a href="https://lihautan.com/manipulating-ast-with-javascript" rel="nofollow">https://lihautan.com/manipulating-ast-with-javascript</a></li>
<li><a href="https://lihautan.com/json-parser-with-javascript" rel="nofollow">https://lihautan.com/json-parser-with-javascript</a></li></ul></li></ul></section>
<section><h3><a href="#now-knowing-what-are-the-names-you-are-importing-from-you-need-to-figure-out-their-actual-file-path" id="now-knowing-what-are-the-names-you-are-importing-from-you-need-to-figure-out-their-actual-file-path">3. Now knowing what are the names you are importing from, you need to figure out their actual file path</a></h3>
<p>that depends on</p>
<ul><li>the current file path</li>
<li>the name you are importing from</li></ul>
<pre class="language-js"><code class="language-js"><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'a/b/app.js'</span><span class="token punctuation">,</span> <span class="token string">'./calculate.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// a/b/calculate.js</span>
<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'a/b/app.js'</span><span class="token punctuation">,</span> <span class="token string">'../measurements.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// a/measurements.js</span>
<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'a/b/app.js'</span><span class="token punctuation">,</span> <span class="token string">'formulas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// node_modules/formulas/src/index.js</span></code></pre>
<p>That leads us to the <a href="https://nodejs.org/api/modules.html#modules_all_together" rel="nofollow">Node.js Module Resolution Algorithm</a></p>
<p>It describes the steps taken to resolve the file.</p>
<p>there are 3 scenarios in general:</p>
<ul><li>load as file</li>
<li>load as directory</li>
<li>load as node_modules</li></ul>
<p><picture><source type="image/webp" srcset="2a11a55ff329649a.webp"><source type="image/jpeg" srcset="2a11a55ff329649a.png"><img title="null" alt="node js module resolution algorithm" data-src="2a11a55ff329649a.png" loading="lazy"></picture></p>
<p>Some other module resolution:</p>
<ul><li>webpack uses <a href="https://github.com/webpack/enhanced-resolve" rel="nofollow"><code>enhanced-resolve</code></a> which is a highly configurable resolver</li>
<li>Typescript implements its own resolver, <a href="https://typescriptlang.org/docs/handbook/module-resolution.html" rel="nofollow">see how TS resolving works</a></li></ul></section>
<section><h3><a href="#after-you-figured-the-file-path-you-re-importing-from-for-each-of-the-file-repeat-step-until-no-more-new-files-to-be-found" id="after-you-figured-the-file-path-you-re-importing-from-for-each-of-the-file-repeat-step-until-no-more-new-files-to-be-found">4Ô∏è‚É£ After you figured the file path you&#39;re importing from, for each of the file, üîÅ repeat step 2Ô∏è‚É£ until no more new files to be found.</a></h3></section>
<section><h3><a href="#assignment" id="assignment">Assignment</a></h3>
<p><a href="https://github.com/tanhauhau/rk-webpack-clone" rel="nofollow">Test cases</a></p>
<p>For each test cases, we provide the entry file, and we expect</p>
<p>üìù Module</p>
<ul><li><code>filepath</code></li>
<li><code>dependencies</code> -&gt; list of Depedencies (see below üëá)</li>
<li><code>isEntryFile</code> -&gt; <code>true</code> if it is the entry file / <code>false</code> otherwise</li></ul>
<p>üìù Depedencies</p>
<ul><li><code>module</code> (see above ‚òùÔ∏è)</li>
<li><code>exports</code> -&gt; list of var names you are importing, eg &quot;default&quot;, &quot;measure&quot; ..</li></ul>
<p>üìù If 2 module are importing the same module, both should be referring to the same module instance</p>
<pre class="language-js"><code class="language-js">moduleCFromModuleA <span class="token operator">===</span> moduleCFromModuleB<span class="token punctuation">;</span></code></pre>
<p>üìù Be careful with circular dependency üôà</p></section>
<section><h2><a href="#week-bundling" id="week-bundling">Week 2 - Bundling</a></h2>
<p>ü§î How do you bundle modules into 1 file?</p>
<p>After studying the 2 most popular bundlers, webpack and rollup, i found that the way they bundle are very different.</p>
<p>Both of them come a long way, I believe both has its own pros and cons</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// circle.js</span>
<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.141</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token parameter">radius</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token constant">PI</span> <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// square.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token parameter">side</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> side <span class="token operator">*</span> side<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// app.js</span>
<span class="token keyword">import</span> squareArea <span class="token keyword">from</span> <span class="token string">'./square'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> circleArea <span class="token keyword">from</span> <span class="token string">'./circle'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Area of square: '</span><span class="token punctuation">,</span> <span class="token function">squareArea</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Area of circle'</span><span class="token punctuation">,</span> <span class="token function">circleArea</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section>
<section><h3><a href="#observation-bundle-using-webpack" id="observation-bundle-using-webpack">üî≠ Observation: Bundle using webpack</a></h3>
<ul><li>üìù each module wrap in a function</li>
<li>üìù a module map, module identifier as key</li>
<li>üìù a runtime glue code to piece modules together</li>
<li>üìù calling module function, with 2 parameters, 1 to assign the exports of the module, 1 to &quot;require&quot; other modules</li></ul>
<pre class="language-js"><code class="language-js"><span class="token comment">// webpack-bundle.js</span>
<span class="token keyword">const</span> modules <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token string">'circle.js'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">__exports<span class="token punctuation">,</span> __getModule</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.141</span><span class="token punctuation">;</span>
    __exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token parameter">radius</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token constant">PI</span> <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string">'square.js'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">__exports<span class="token punctuation">,</span> __getModule</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    __exports<span class="token punctuation">.</span><span class="token function-variable function">default</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">area</span><span class="token punctuation">(</span><span class="token parameter">side</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> side <span class="token operator">*</span> side<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string">'app.js'</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">__exports<span class="token punctuation">,</span> __getModule</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> squareArea <span class="token operator">=</span> <span class="token function">__getModule</span><span class="token punctuation">(</span><span class="token string">'square.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
    <span class="token keyword">const</span> circleArea <span class="token operator">=</span> <span class="token function">__getModule</span><span class="token punctuation">(</span><span class="token string">'circle.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Area of square: '</span><span class="token punctuation">,</span> <span class="token function">squareArea</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Area of circle'</span><span class="token punctuation">,</span> <span class="token function">circleArea</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">webpackRuntime</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  modules<span class="token punctuation">,</span>
  entry<span class="token punctuation">:</span> <span class="token string">'app.js'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section>
<section><h4><a href="#observation-bundle-using-rollup" id="observation-bundle-using-rollup">üî≠ Observation: Bundle using rollup</a></h4>
<ul><li>üìù much flatter bundle</li>
<li>üìù module are concatenated in topological order</li>
<li>üìù exports and imports are removed by renaming them to the same variable name</li>
<li>üìù any variable in module scope that may have naming conflict with other variables are renamed</li></ul>
<pre class="language-js"><code class="language-js"><span class="token comment">// rollup-bundle.js</span>
<span class="token keyword">const</span> <span class="token constant">PI</span> <span class="token operator">=</span> <span class="token number">3.141</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">circle$area</span><span class="token punctuation">(</span><span class="token parameter">radius</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token constant">PI</span> <span class="token operator">*</span> radius <span class="token operator">*</span> radius<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">square$area</span><span class="token punctuation">(</span><span class="token parameter">side</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> side <span class="token operator">*</span> side<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Area of square: '</span><span class="token punctuation">,</span> <span class="token function">square$area</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Area of circle'</span><span class="token punctuation">,</span> <span class="token function">circle$area</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></section>
<section><h3><a href="#output-target-of-bundling" id="output-target-of-bundling">üì§ Output target of bundling</a></h3>
<ul><li><p>IIFE (the most common target, we want to execute the script)</p></li>
<li><p>CJS, ESM, UMD, AMD, ... (we want to bundle a library, exports of entry file is exported in selected module format)</p></li>
<li><p>üîó <a href="https://webpack.js.org/configuration/output/#outputlibrarytarget" rel="nofollow">https://webpack.js.org/configuration/output/#outputlibrarytarget</a></p></li>
<li><p>üîó <a href="https://rollupjs.org/guide/en/#configuration-files" rel="nofollow">https://rollupjs.org/guide/en/#configuration-files</a></p></li></ul></section>
<section><h3><a href="#assignment" id="assignment">Assignment</a></h3>
<p><a href="https://github.com/tanhauhau/rk-webpack-clone" rel="nofollow">Test cases</a></p>
<p>Here are some of the the interesting test cases:</p>
<p>üß™ Able to handle re-export nicely</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// a.js</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">as</span> b <span class="token keyword">from</span> <span class="token string">'./b'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">'./c'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> d <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./d'</span><span class="token punctuation">;</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> a <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>üß™ Importing the same file twice, but are you able to make sure it&#39;s gonna be evaluated only once?</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token string">'./c'</span><span class="token punctuation">;</span>

<span class="token comment">// b.js</span>
<span class="token keyword">import</span> <span class="token string">'./c'</span><span class="token punctuation">;</span>

<span class="token comment">// c.js</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'c.js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./b'</span><span class="token punctuation">;</span></code></pre>
<p>üß™ The dreaded circular dependency, are you able to make sure to get the value of <code>a</code>, <code>b</code>, <code>c</code> in all the files?</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> b <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./b'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> c <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./c'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">a.js | b=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>b<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> | c=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>c<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// b.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> a <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> c <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./c'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">b.js | a=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>a<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> | c=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>c<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// c.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> a <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> b <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./b'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> c <span class="token operator">=</span> <span class="token string">'c'</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">c.js | a=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>a<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> | b=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>b<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> a <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> b <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./b'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> c <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./c'</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">main.js | a=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>a<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> | b=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>b<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string"> | c=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>c<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>üß™ Are you able to export a variable before it is declared? Does the order matter?</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// a.js</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">'a'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">&#123;</span> a<span class="token punctuation">,</span> b <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">'b'</span><span class="token punctuation">;</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> a<span class="token punctuation">,</span> b <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a = '</span> <span class="token operator">+</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'b = '</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>üß™ imported variables is not a normal variable, it&#39;s a live binding of the exported variable. Are you able to make sure that the value of <code>count</code> is always up to date?</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// data.js</span>
<span class="token keyword">export</span> <span class="token keyword">let</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  count<span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// a.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./data'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count = '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count = '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// b.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'./data'</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count = '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'count = '</span> <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// main.js</span>
<span class="token keyword">import</span> <span class="token string">'./a'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'./b'</span><span class="token punctuation">;</span></code></pre>
<p>üìù Be careful with circular dependency üôà</p></section>
<section><h3><a href="#manipulating-ast" id="manipulating-ast">üî® Manipulating AST</a></h3>
<p>üìñ  <a href="https://lihautan.com/manipulating-ast-with-javascript/" rel="nofollow">manipulating ast with javascript</a> (generic)
üìñ  <a href="https://github.com/jamiebuilds/babel-handbook/blob/master/translations/en/plugin-handbook.md" rel="nofollow">babel plugin handbook</a> (babel)</p></section></article></main>

<footer class="svelte-9tqnza"><div class="form svelte-1k1s1co"><h1>Subscribe to my newsletter</h1>
  <h2 class="svelte-1k1s1co">Get the latest blog posts and project updates delivered right to your inbox</h2>
  <form action="https://buttondown.email/api/emails/embed-subscribe/lihautan" method="post" target="popupwindow" onsubmit="window.open('https://buttondown.email/lihautan', 'popupwindow')" class="embeddable-buttondown-form"><div class="form-item svelte-1k1s1co"><input type="email" name="email" id="bd-email" aria-label="email address" placeholder="youremail@example.com" class="svelte-1k1s1co">
      <input type="submit" value="Subscribe" disabled class="svelte-1k1s1co"></div>
    <input type="hidden" value="1" name="embed" class="svelte-1k1s1co">
    <p class="svelte-1k1s1co">Powered by Buttondown.</p></form>
</div>
  
</footer><script src="./effc2ff0.js" async></script></div>
  

  <script>if ('serviceWorker' in navigator) { window.addEventListener('load', function () { navigator.serviceWorker.register('/sw.js'); }); }</script>
  <script>(function (i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () { (i[r].q = i[r].q || []).push(arguments) }, i[r].l = 1 * new Date(); a = s.createElement(o), m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m) })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga'); if (typeof ga === "function") { ga('create', 'UA-135921142-1', 'auto', {}); }</script>
  <script>if ('loading' in HTMLImageElement.prototype) { const images = document.querySelectorAll('img[loading="lazy"]'); images.forEach(img => { img.src = img.dataset.src; }); } else { const script = document.createElement('script'); script.src = 'https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js'; document.body.appendChild(script); }</script>
</body>

</html>