function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function a(){return Object.create(null)}function o(e){e.forEach(n)}function s(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function i(e,n,a,o){return e[1]&&o?t(a.ctx.slice(),e[1](o(n))):a.ctx}function c(e,t,n,a,o,s,r){const c=function(e,t,n,a){if(e[2]&&a){const o=e[2](a(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let a=0;a<n;a+=1)e[a]=t.dirty[a]|o[a];return e}return t.dirty|o}return t.dirty}(t,a,o,s);if(c){const o=i(t,n,a,r);e.p(o,c)}}function l(e,t){e.appendChild(t)}function h(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function u(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function d(e){return document.createElement(e)}function f(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function m(e){return document.createTextNode(e)}function g(){return m(" ")}function w(){return m("")}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e){return Array.from(e.childNodes)}function y(e,t,n,a){for(let a=0;a<e.length;a+=1){const o=e[a];if(o.nodeName===t){let t=0;const s=[];for(;t<o.attributes.length;){const e=o.attributes[t++];n[e.name]||s.push(e.name)}for(let e=0;e<s.length;e++)o.removeAttribute(s[e]);return e.splice(a,1)[0]}}return a?f(t):d(t)}function b(e,t){for(let n=0;n<e.length;n+=1){const a=e[n];if(3===a.nodeType)return a.data=""+t,e.splice(n,1)[0]}return m(t)}function E(e){return b(e," ")}function S(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function A(e,t){e.value=null==t?"":t}class C{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=d(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)h(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(p)}}let x;function P(e){x=e}function T(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}const $=[],I=[],L=[],M=[],B=Promise.resolve();let O=!1;function j(e){L.push(e)}let N=!1;const H=new Set;function W(){if(!N){N=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];P(t),G(t.$$)}for($.length=0;I.length;)I.pop()();for(let e=0;e<L.length;e+=1){const t=L[e];H.has(t)||(H.add(t),t())}L.length=0}while($.length);for(;M.length;)M.pop()();O=!1,N=!1,H.clear()}}function G(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const _=new Set;function R(e,t){e&&e.i&&(_.delete(e),e.i(t))}function Y(e,t,n,a){if(e&&e.o){if(_.has(e))return;_.add(e),(void 0).c.push(()=>{_.delete(e),a&&(n&&e.d(1),a())}),e.o(t)}}function F(e){e&&e.c()}function q(e,t){e&&e.l(t)}function z(e,t,a){const{fragment:r,on_mount:i,on_destroy:c,after_update:l}=e.$$;r&&r.m(t,a),j(()=>{const t=i.map(n).filter(s);c?c.push(...t):o(t),e.$$.on_mount=[]}),l.forEach(j)}function K(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function U(e,t){-1===e.$$.dirty[0]&&($.push(e),O||(O=!0,B.then(W)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function D(t,n,s,r,i,c,l=[-1]){const h=x;P(t);const u=n.props||{},d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:a(),dirty:l};let f=!1;if(d.ctx=s?s(t,u,(e,n,...a)=>{const o=a.length?a[0]:n;return d.ctx&&i(d.ctx[e],d.ctx[e]=o)&&(d.bound[e]&&d.bound[e](o),f&&U(t,e)),n}):[],d.update(),f=!0,o(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){const e=k(n.target);d.fragment&&d.fragment.l(e),e.forEach(p)}else d.fragment&&d.fragment.c();n.intro&&R(t.$$.fragment),z(t,n.target,n.anchor),W()}P(h)}class X{$destroy(){K(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}function J(t){let n,a,o,s,r,i,c,u,w,S,A,C,x,P,T,$,I,L,M,B,O,j,N,H,W,G,_,R,Y,F,q,z,K,U,D;return{c(){n=d("header"),a=d("nav"),o=d("ul"),s=d("li"),r=d("a"),i=m("Tan Li Hau"),c=g(),u=d("li"),w=d("a"),S=m("About"),A=g(),C=d("li"),x=d("a"),P=m("Writings"),T=g(),$=d("li"),I=d("a"),L=m("Talks"),M=g(),B=d("li"),O=d("a"),j=m("Notes"),N=g(),H=d("li"),W=d("a"),G=m("Newsletter"),_=g(),R=d("li"),Y=d("a"),F=f("svg"),q=f("path"),z=g(),K=d("a"),U=f("svg"),D=f("path"),this.h()},l(e){n=y(e,"HEADER",{class:!0});var t=k(n);a=y(t,"NAV",{});var l=k(a);o=y(l,"UL",{class:!0});var h=k(o);s=y(h,"LI",{class:!0});var d=k(s);r=y(d,"A",{href:!0,class:!0});var f=k(r);i=b(f,"Tan Li Hau"),f.forEach(p),d.forEach(p),c=E(h),u=y(h,"LI",{class:!0});var m=k(u);w=y(m,"A",{href:!0,class:!0});var g=k(w);S=b(g,"About"),g.forEach(p),m.forEach(p),A=E(h),C=y(h,"LI",{class:!0});var v=k(C);x=y(v,"A",{href:!0,class:!0});var X=k(x);P=b(X,"Writings"),X.forEach(p),v.forEach(p),T=E(h),$=y(h,"LI",{class:!0});var J=k($);I=y(J,"A",{href:!0,class:!0});var V=k(I);L=b(V,"Talks"),V.forEach(p),J.forEach(p),M=E(h),B=y(h,"LI",{class:!0});var Q=k(B);O=y(Q,"A",{href:!0,class:!0});var Z=k(O);j=b(Z,"Notes"),Z.forEach(p),Q.forEach(p),N=E(h),H=y(h,"LI",{class:!0});var ee=k(H);W=y(ee,"A",{href:!0,class:!0});var te=k(W);G=b(te,"Newsletter"),te.forEach(p),ee.forEach(p),_=E(h),R=y(h,"LI",{class:!0});var ne=k(R);Y=y(ne,"A",{"aria-label":!0,href:!0,class:!0});var ae=k(Y);F=y(ae,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var oe=k(F);q=y(oe,"path",{d:!0},1),k(q).forEach(p),oe.forEach(p),ae.forEach(p),z=E(ne),K=y(ne,"A",{"aria-label":!0,href:!0,class:!0});var se=k(K);U=y(se,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var re=k(U);D=y(re,"path",{d:!0},1),k(D).forEach(p),re.forEach(p),se.forEach(p),ne.forEach(p),h.forEach(p),l.forEach(p),t.forEach(p),this.h()},h(){v(r,"href","/"),v(r,"class","svelte-f3e4uo"),v(s,"class","svelte-f3e4uo"),v(w,"href","/about"),v(w,"class","svelte-f3e4uo"),v(u,"class","svelte-f3e4uo"),v(x,"href","/blogs"),v(x,"class","svelte-f3e4uo"),v(C,"class","svelte-f3e4uo"),v(I,"href","/talks"),v(I,"class","svelte-f3e4uo"),v($,"class","svelte-f3e4uo"),v(O,"href","/notes"),v(O,"class","svelte-f3e4uo"),v(B,"class","svelte-f3e4uo"),v(W,"href","/newsletter"),v(W,"class","svelte-f3e4uo"),v(H,"class","svelte-f3e4uo"),v(q,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),v(F,"viewBox","0 0 24 24"),v(F,"width","1em"),v(F,"height","1em"),v(F,"class","svelte-f3e4uo"),v(Y,"aria-label","Twitter account"),v(Y,"href","https://twitter.com/lihautan"),v(Y,"class","svelte-f3e4uo"),v(D,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),v(U,"viewBox","0 0 24 24"),v(U,"width","1em"),v(U,"height","1em"),v(U,"class","svelte-f3e4uo"),v(K,"aria-label","Github account"),v(K,"href","https://github.com/tanhauhau"),v(K,"class","svelte-f3e4uo"),v(R,"class","social svelte-f3e4uo"),v(o,"class","svelte-f3e4uo"),v(n,"class","svelte-f3e4uo")},m(e,t){h(e,n,t),l(n,a),l(a,o),l(o,s),l(s,r),l(r,i),l(o,c),l(o,u),l(u,w),l(w,S),l(o,A),l(o,C),l(C,x),l(x,P),l(o,T),l(o,$),l($,I),l(I,L),l(o,M),l(o,B),l(B,O),l(O,j),l(o,N),l(o,H),l(H,W),l(W,G),l(o,_),l(o,R),l(R,Y),l(Y,F),l(F,q),l(R,z),l(R,K),l(K,U),l(U,D)},p:e,i:e,o:e,d(e){e&&p(n)}}}class V extends X{constructor(e){super(),D(this,e,null,J,r,{})}}function Q(t){let n,a,o,s,r,i,c,u,f,w,S,C,x,P,T,$,I,L,M,B;return{c(){n=d("div"),a=d("h1"),o=m("Subscribe to my newsletter"),s=g(),r=d("h2"),i=m("Get the latest blog posts and project updates delivered right to your inbox"),c=g(),u=d("form"),f=d("div"),w=d("input"),S=g(),C=d("input"),P=g(),T=d("input"),$=g(),I=d("p"),L=m("Powered by Buttondown."),this.h()},l(e){n=y(e,"DIV",{class:!0});var t=k(n);a=y(t,"H1",{});var l=k(a);o=b(l,"Subscribe to my newsletter"),l.forEach(p),s=E(t),r=y(t,"H2",{class:!0});var h=k(r);i=b(h,"Get the latest blog posts and project updates delivered right to your inbox"),h.forEach(p),c=E(t),u=y(t,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var d=k(u);f=y(d,"DIV",{class:!0});var m=k(f);w=y(m,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),S=E(m),C=y(m,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),m.forEach(p),P=E(d),T=y(d,"INPUT",{type:!0,value:!0,name:!0,class:!0}),$=E(d),I=y(d,"P",{class:!0});var g=k(I);L=b(g,"Powered by Buttondown."),g.forEach(p),d.forEach(p),t.forEach(p),this.h()},h(){v(r,"class","svelte-1k1s1co"),v(w,"type","email"),v(w,"name","email"),v(w,"id","bd-email"),v(w,"aria-label","email address"),v(w,"placeholder","youremail@example.com"),v(w,"class","svelte-1k1s1co"),v(C,"type","submit"),C.value="Subscribe",C.disabled=x=!t[0],v(C,"class","svelte-1k1s1co"),v(f,"class","form-item svelte-1k1s1co"),v(T,"type","hidden"),T.value="1",v(T,"name","embed"),v(T,"class","svelte-1k1s1co"),v(I,"class","svelte-1k1s1co"),v(u,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),v(u,"method","post"),v(u,"target","popupwindow"),v(u,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),v(u,"class","embeddable-buttondown-form"),v(n,"class","form svelte-1k1s1co")},m(e,p){var d,m,g,v;h(e,n,p),l(n,a),l(a,o),l(n,s),l(n,r),l(r,i),l(n,c),l(n,u),l(u,f),l(f,w),A(w,t[0]),l(f,S),l(f,C),l(u,P),l(u,T),l(u,$),l(u,I),l(I,L),M||(d=w,m="input",g=t[1],d.addEventListener(m,g,v),B=()=>d.removeEventListener(m,g,v),M=!0)},p(e,[t]){1&t&&w.value!==e[0]&&A(w,e[0]),1&t&&x!==(x=!e[0])&&(C.disabled=x)},i:e,o:e,d(e){e&&p(n),M=!1,B()}}}function Z(e,t,n){let a;return[a,function(){a=this.value,n(0,a)}]}class ee extends X{constructor(e){super(),D(this,e,Z,Q,r,{})}}function te(e){return T(()=>(setTimeout(()=>{if(window.innerWidth>1080){const e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",e.id="_carbonads_js",document.body.appendChild(e)}},5e3),()=>{try{const e=document.getElementById("carbonads");e.parentNode.removeChild(e)}catch(e){}})),[]}class ne extends X{constructor(e){super(),D(this,e,te,null,r,{})}}function ae(e,t,n){const a=e.slice();return a[8]=t[n],a}function oe(e,t,n){const a=e.slice();return a[8]=t[n],a}function se(e){let t,n;return{c(){t=d("meta"),this.h()},l(e){t=y(e,"META",{name:!0,content:!0}),this.h()},h(){v(t,"name","keywords"),v(t,"content",n=e[8])},m(e,n){h(e,t,n)},p(e,a){4&a&&n!==(n=e[8])&&v(t,"content",n)},d(e){e&&p(t)}}}function re(e){let t,n,a=e[8]+"";return{c(){t=d("span"),n=m(a),this.h()},l(e){t=y(e,"SPAN",{class:!0});var o=k(t);n=b(o,a),o.forEach(p),this.h()},h(){v(t,"class","svelte-ud8h11")},m(e,a){h(e,t,a),l(t,n)},p(e,t){4&t&&a!==(a=e[8]+"")&&S(n,a)},d(e){e&&p(t)}}}function ie(e){let t,n,a,o;return{c(){t=d("div"),n=m("Talk given at: "),a=d("a"),o=m(e[3]),this.h()},l(s){t=y(s,"DIV",{class:!0});var r=k(t);n=b(r,"Talk given at: "),a=y(r,"A",{href:!0});var i=k(a);o=b(i,e[3]),i.forEach(p),r.forEach(p),this.h()},h(){v(a,"href",e[4]),v(t,"class","venue svelte-ud8h11")},m(e,s){h(e,t,s),l(t,n),l(t,a),l(a,o)},p(e,t){8&t&&S(o,e[3]),16&t&&v(a,"href",e[4])},d(e){e&&p(t)}}}function ce(e){let t,n,a,o,s,r,f,A,x,P,T,$,I,L,M,B,O,j,N,H,W,G,_,U,D,X,J,Q,Z,te,ce,le,he,pe,ue,de,fe,me=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[5],copyrightHolder:e[5],copyrightYear:"2020",creator:e[5],publisher:e[5],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`,ge=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fcss-code-splitting",name:e[0]},name:e[0],position:2}]})}<\/script>`;document.title=t=e[0]+" | Tan Li Hau";let we=e[2],ve=[];for(let t=0;t<we.length;t+=1)ve[t]=se(oe(e,we,t));_=new V({});let ke=e[2],ye=[];for(let t=0;t<ke.length;t+=1)ye[t]=re(ae(e,ke,t));let be=e[3]&&e[4]&&ie(e);const Ee=e[7].default,Se=function(e,t,n,a){if(e){const o=i(e,t,n,a);return e[0](o)}}(Ee,e,e[6],null);return pe=new ee({}),de=new ne({}),{c(){n=d("meta"),a=d("meta"),o=d("meta"),s=d("meta"),r=d("meta"),f=d("meta"),A=d("meta"),x=d("meta"),P=d("meta"),T=d("meta"),$=d("meta");for(let e=0;e<ve.length;e+=1)ve[e].c();I=d("meta"),L=d("meta"),B=w(),j=w(),N=g(),H=d("a"),W=m("Skip to content"),G=g(),F(_.$$.fragment),U=g(),D=d("main"),X=d("h1"),J=m(e[0]),Q=g();for(let e=0;e<ye.length;e+=1)ye[e].c();Z=g(),be&&be.c(),te=g(),ce=d("article"),Se&&Se.c(),le=g(),he=d("footer"),F(pe.$$.fragment),ue=g(),F(de.$$.fragment),this.h()},l(t){const i=function(e,t=document.body){return Array.from(t.querySelectorAll(e))}('[data-svelte="svelte-15e3uyc"]',document.head);n=y(i,"META",{name:!0,content:!0}),a=y(i,"META",{name:!0,content:!0}),o=y(i,"META",{name:!0,content:!0}),s=y(i,"META",{name:!0,content:!0}),r=y(i,"META",{name:!0,content:!0}),f=y(i,"META",{name:!0,content:!0}),A=y(i,"META",{name:!0,content:!0}),x=y(i,"META",{name:!0,content:!0}),P=y(i,"META",{name:!0,content:!0}),T=y(i,"META",{name:!0,content:!0}),$=y(i,"META",{name:!0,content:!0});for(let e=0;e<ve.length;e+=1)ve[e].l(i);I=y(i,"META",{itemprop:!0,content:!0}),L=y(i,"META",{itemprop:!0,content:!0}),B=w(),j=w(),i.forEach(p),N=E(t),H=y(t,"A",{href:!0,class:!0});var c=k(H);W=b(c,"Skip to content"),c.forEach(p),G=E(t),q(_.$$.fragment,t),U=E(t),D=y(t,"MAIN",{id:!0,class:!0});var l=k(D);X=y(l,"H1",{});var h=k(X);J=b(h,e[0]),h.forEach(p),Q=E(l);for(let e=0;e<ye.length;e+=1)ye[e].l(l);Z=E(l),be&&be.l(l),te=E(l),ce=y(l,"ARTICLE",{});var u=k(ce);Se&&Se.l(u),u.forEach(p),l.forEach(p),le=E(t),he=y(t,"FOOTER",{class:!0});var d=k(he);q(pe.$$.fragment,d),ue=E(d),q(de.$$.fragment,d),d.forEach(p),this.h()},h(){v(n,"name","description"),v(n,"content",e[1]),v(a,"name","image"),v(a,"content",null),v(o,"name","og:image"),v(o,"content",null),v(s,"name","og:title"),v(s,"content",e[0]),v(r,"name","og:description"),v(r,"content",e[1]),v(f,"name","og:type"),v(f,"content","website"),v(A,"name","twitter:card"),v(A,"content","summary_large_image"),v(x,"name","twitter:creator"),v(x,"content","@lihautan"),v(P,"name","twitter:title"),v(P,"content",e[0]),v(T,"name","twitter:description"),v(T,"content",e[1]),v($,"name","twitter:image"),v($,"content",null),v(I,"itemprop","url"),v(I,"content","https%3A%2F%2Flihautan.com%2Fcss-code-splitting"),v(L,"itemprop","image"),v(L,"content",null),M=new C(B),O=new C(j),v(H,"href","#content"),v(H,"class","skip svelte-ud8h11"),v(D,"id","content"),v(D,"class","blog svelte-ud8h11"),v(he,"class","svelte-ud8h11")},m(e,t){l(document.head,n),l(document.head,a),l(document.head,o),l(document.head,s),l(document.head,r),l(document.head,f),l(document.head,A),l(document.head,x),l(document.head,P),l(document.head,T),l(document.head,$);for(let e=0;e<ve.length;e+=1)ve[e].m(document.head,null);l(document.head,I),l(document.head,L),M.m(me,document.head),l(document.head,B),O.m(ge,document.head),l(document.head,j),h(e,N,t),h(e,H,t),l(H,W),h(e,G,t),z(_,e,t),h(e,U,t),h(e,D,t),l(D,X),l(X,J),l(D,Q);for(let e=0;e<ye.length;e+=1)ye[e].m(D,null);l(D,Z),be&&be.m(D,null),l(D,te),l(D,ce),Se&&Se.m(ce,null),h(e,le,t),h(e,he,t),z(pe,he,null),l(he,ue),z(de,he,null),fe=!0},p(e,[a]){if((!fe||1&a)&&t!==(t=e[0]+" | Tan Li Hau")&&(document.title=t),(!fe||2&a)&&v(n,"content",e[1]),(!fe||1&a)&&v(s,"content",e[0]),(!fe||2&a)&&v(r,"content",e[1]),(!fe||1&a)&&v(P,"content",e[0]),(!fe||2&a)&&v(T,"content",e[1]),4&a){let t;for(we=e[2],t=0;t<we.length;t+=1){const n=oe(e,we,t);ve[t]?ve[t].p(n,a):(ve[t]=se(n),ve[t].c(),ve[t].m(I.parentNode,I))}for(;t<ve.length;t+=1)ve[t].d(1);ve.length=we.length}if((!fe||3&a)&&me!==(me=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[5],copyrightHolder:e[5],copyrightYear:"2020",creator:e[5],publisher:e[5],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`)&&M.p(me),(!fe||1&a)&&ge!==(ge=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fcss-code-splitting",name:e[0]},name:e[0],position:2}]})}<\/script>`)&&O.p(ge),(!fe||1&a)&&S(J,e[0]),4&a){let t;for(ke=e[2],t=0;t<ke.length;t+=1){const n=ae(e,ke,t);ye[t]?ye[t].p(n,a):(ye[t]=re(n),ye[t].c(),ye[t].m(D,Z))}for(;t<ye.length;t+=1)ye[t].d(1);ye.length=ke.length}e[3]&&e[4]?be?be.p(e,a):(be=ie(e),be.c(),be.m(D,te)):be&&(be.d(1),be=null),Se&&Se.p&&64&a&&c(Se,Ee,e,e[6],a,null,null)},i(e){fe||(R(_.$$.fragment,e),R(Se,e),R(pe.$$.fragment,e),R(de.$$.fragment,e),fe=!0)},o(e){Y(_.$$.fragment,e),Y(Se,e),Y(pe.$$.fragment,e),Y(de.$$.fragment,e),fe=!1},d(e){p(n),p(a),p(o),p(s),p(r),p(f),p(A),p(x),p(P),p(T),p($),u(ve,e),p(I),p(L),p(B),e&&M.d(),p(j),e&&O.d(),e&&p(N),e&&p(H),e&&p(G),K(_,e),e&&p(U),e&&p(D),u(ye,e),be&&be.d(),Se&&Se.d(e),e&&p(le),e&&p(he),K(pe),K(de)}}}function le(e,t,n){let{title:a=""}=t,{description:o=""}=t,{tags:s=[]}=t,{occasion:r}=t,{occasionLink:i}=t;const c={"@type":"Person",name:"Tan Li Hau"};let{$$slots:l={},$$scope:h}=t;return e.$set=e=>{"title"in e&&n(0,a=e.title),"description"in e&&n(1,o=e.description),"tags"in e&&n(2,s=e.tags),"occasion"in e&&n(3,r=e.occasion),"occasionLink"in e&&n(4,i=e.occasionLink),"$$scope"in e&&n(6,h=e.$$scope)},[a,o,s,r,i,c,h,l]}class he extends X{constructor(e){super(),D(this,e,le,ce,r,{title:0,description:1,tags:2,occasion:3,occasionLink:4})}}function pe(t){let n,a,o,s,r,i,c,u,f,w,S,A,C,x,P,T,$,I,L,M,B,O,j,N,H,W,G,_,R,Y,F,q,z,K,U,D,X,J,V,Q,Z,ee,te,ne,ae,oe,se,re,ie,ce,le,he,pe,ue,de,fe,me,ge,we,ve,ke,ye,be,Ee,Se,Ae,Ce,xe,Pe,Te,$e,Ie,Le,Me,Be,Oe,je,Ne,He,We,Ge,_e,Re,Ye,Fe,qe,ze,Ke,Ue,De,Xe,Je,Ve,Qe,Ze,et,tt,nt,at,ot,st,rt,it,ct,lt,ht,pt,ut,dt,ft,mt,gt,wt,vt,kt,yt,bt,Et,St,At,Ct,xt,Pt,Tt,$t,It,Lt,Mt,Bt,Ot,jt,Nt,Ht,Wt,Gt,_t,Rt,Yt,Ft,qt,zt,Kt,Ut,Dt,Xt,Jt,Vt,Qt,Zt,en,tn,nn,an,on,sn,rn,cn,ln,hn,pn,un,dn,fn,mn,gn,wn,vn,kn,yn,bn,En,Sn,An,Cn,xn,Pn,Tn,$n,In,Ln,Mn,Bn,On,jn,Nn,Hn,Wn,Gn,_n,Rn,Yn,Fn,qn,zn,Kn,Un,Dn,Xn,Jn,Vn,Qn,Zn,ea,ta,na,aa,oa,sa,ra,ia,ca,la,ha,pa,ua,da,fa,ma,ga,wa,va,ka,ya,ba,Ea,Sa,Aa,Ca,xa,Pa,Ta,$a,Ia,La,Ma,Ba,Oa,ja,Na,Ha,Wa,Ga,_a,Ra,Ya,Fa,qa,za,Ka,Ua,Da,Xa,Ja,Va,Qa,Za,eo,to,no,ao,oo,so,ro,io,co,lo,ho,po,uo,fo,mo,go,wo,vo,ko,yo,bo,Eo,So,Ao,Co,xo,Po,To,$o,Io,Lo,Mo,Bo,Oo,jo,No,Ho,Wo,Go,_o,Ro,Yo,Fo,qo,zo,Ko,Uo,Do,Xo,Jo,Vo,Qo,Zo,es,ts,ns,as,os,ss,rs,is,cs,ls,hs,ps,us,ds,fs,ms,gs,ws,vs,ks,ys,bs,Es;return{c(){n=d("section"),a=d("ul"),o=d("li"),s=d("a"),r=m("Background"),i=d("li"),c=d("a"),u=m("So, how big is Shopee?"),f=d("ul"),w=d("li"),S=d("a"),A=m("But download time does not tell the full picture."),C=d("li"),x=d("a"),P=m("Solution"),T=d("li"),$=d("a"),I=m("The Problem"),L=g(),M=d("p"),B=m("In the talk, I shared about why and how "),O=d("a"),j=m("Shopee"),N=m(" does CSS Code Splitting and how we solve problems arised in the process."),H=g(),W=d("p"),G=m("For those who don't know about "),_=d("a"),R=m("Shopee"),Y=m(", we are an e-commerce platform based in "),F=d("a"),q=m("Greater Southeast Asia"),z=m(", headquartered in Singapore. As a frontend engineer in Shopee, we constantly striving to deliver performant user experience with high network latency and slow CPU devices."),K=g(),U=d("hr"),D=g(),X=d("section"),J=d("h2"),V=d("a"),Q=m("Background"),Z=g(),ee=d("p"),te=m("A little background on how we use CSS in Shopee before getting into how we code split our CSS:"),ne=g(),ae=d("blockquote"),oe=d("p"),se=m("We use SASS and CSS Modules, and we bundle all our stylesheets with webpack into 1 final CSS file."),re=g(),ie=d("p"),ce=m("For the benefit of those who might not know about "),le=d("a"),he=m("SASS"),pe=m(", SASS is a sassy extension of CSS that allow us to write functions and mixins, so we can easily reuse common css tricks and patterns."),ue=g(),de=d("p"),fe=d("a"),me=m("CSS Modules"),ge=m(" on the other hand, free us from racking our brain, coming up with a unique class name for every element. Even with "),we=d("a"),ve=m("BEM (Block Element Modifier) naming convention"),ke=m(", as our application grows complex, we can't keep up with names for our element. Names with BEM convention just get longer and longer. With CSS Modules, we just need to make sure that within a CSS file (we can call it a CSS module, like a js module) the class names are unique. Our build tool will transform the stylesheets and generate class names that is unique throughout the application."),ye=g(),be=d("p"),Ee=m("And lastly with "),Se=d("a"),Ae=m("webpack"),Ce=m(", we use "),xe=d("a"),Pe=m("extract-text-webpack-plugin"),Te=m(" to extract all the css code within the application into 1 CSS file."),$e=g(),Ie=d("hr"),Le=g(),Me=d("section"),Be=d("h2"),Oe=d("a"),je=m("So, how big is Shopee?"),Ne=g(),He=d("p"),We=m("If you ask the business team, they will give you the numbers on "),Ge=d("a"),_e=m("how well we are doing in the region"),Re=m("."),Ye=g(),Fe=d("p"),qe=m("But if you ask a frontend engineer, I can tell you is that to date (Mar 27 2019), we have more than a thousand of CSS files, and more than 67K lines of CSS code, and the numbers are growing..."),ze=g(),Ke=d("p"),Ue=m("And all this CSS code is bundled into one whoppingly 500KB CSS file! 😱"),De=g(),Xe=d("blockquote"),Je=d("h3"),Ve=m("How big is 500KB ?!"),Qe=g(),Ze=d("p"),et=d("a"),tt=m("500KB is"),nt=m(":"),at=g(),ot=d("ul"),st=d("li"),rt=m("1 minute of MP3 at 80 Kbps bitrate"),it=g(),ct=d("li"),lt=m("2 1280x960 JPEG image"),ht=g(),pt=d("li"),ut=m("1/10 second through 4G Network"),dt=g(),ft=d("li"),mt=m("2 seconds through 3G Network"),gt=g(),wt=d("p"),vt=m("Wait, who uses 3G nowadays? Isn't 5G is coming?"),kt=g(),yt=d("p"),bt=m("Turns out that most of the Southeast Asia is still on 3G if not slow 4G network, except major cities like Singapore, Jakarta, and etc."),Et=g(),St=d("p"),At=m("So file size is indeed a big concern, when it comes to network speed."),Ct=g(),xt=d("section"),Pt=d("h3"),Tt=d("a"),$t=m("But download time does not tell the full picture."),It=g(),Lt=d("p"),Mt=m("Because you need to look at it holistically in terms of the "),Bt=d("a"),Ot=m("critical rendering path"),jt=m(":"),Nt=g(),Ht=d("ol"),Wt=d("li"),Gt=m("When the browser sees a "),_t=d("em"),Rt=m("link tag"),Yt=m(" that links to a CSS file, the browser will go and fetch the CSS file."),Ft=g(),qt=d("li"),zt=m("As soon as the CSS is downloaded into the memory, the browser will start to parse and generate a "),Kt=d("a"),Ut=m("CSSOM (CSS Object Model)"),Dt=g(),Xt=d("li"),Jt=m("When the DOM is ready for layout, the browser will refer to CSSOM to get the style properties for a particular element and starts to layout."),Vt=g(),Qt=d("p"),Zt=m("Which means if your CSS file is large, it will takes up a portion of time to download, and another portion of time to parse, and generate the CSSOM. All these can be traced with the "),en=d("a"),tn=m("Chrome's timeline tool"),nn=m("."),an=g(),on=d("p"),sn=m("And what makes the matter worse is that, if we open up the "),rn=d("a"),cn=m("Chrome's Coverage tool"),ln=m(", you will see that more than 90% of the CSS code is not being used to style the current page."),hn=g(),pn=d("p"),un=d("strong"),dn=m("After all the trouble, only 10% of it is being useful"),fn=m(" 😢."),mn=g(),gn=d("p"),wn=m("So, we have to do what we need to do."),vn=g(),kn=d("section"),yn=d("h2"),bn=d("a"),En=m("Solution"),Sn=g(),An=d("p"),Cn=m("Big code file, that take long to download and parse, slows down the browser is not a new problem in frontend development. Indeed we've already solved this for JavaScript, we just need to apply the same technique for CSS this time."),xn=g(),Pn=d("p"),Tn=m("The answer to all of this is "),$n=d("strong"),In=m("Code Splitting"),Ln=m(" 👏👏"),Mn=g(),Bn=d("p"),On=m("The concept of Code Splitting is to split the code into seperate bundles, and dynamically load then only when you need it."),jn=g(),Nn=d("p"),Hn=m("There's a few ways you can look at code splitting, you can:"),Wn=g(),Gn=d("ol"),_n=d("li"),Rn=m("Split code based on url routes, you don't have to load the code for Page 2 in Page 1"),Yn=g(),Fn=d("li"),qn=m("Split code based on sections, you dont need code that is off the screen to be loaded now. Only load them when you need it."),zn=g(),Kn=d("p"),Un=m("So just as we were "),Dn=d("a"),Xn=m("upgrading Webpack to Webpack 4"),Jn=m(", our extract-text-webpack-plugin announced that we should be using "),Vn=d("a"),Qn=m("mini-css-extract-plugin"),Zn=m(" for CSS now."),ea=g(),ta=d("p"),na=m("We followed the guide of setting up the new plugin and it worked amazing! 😎"),aa=g(),oa=d("p"),sa=m("What's different between extract-text-webpack-plugin and mini-css-extract-plugin is that the latter will generate 1 css file per 1 js bundle instead of combining all css files into 1 css file per build."),ra=g(),ia=d("p"),ca=m("All is well until we got our first bug ticket 😫"),la=g(),ha=d("section"),pa=d("h2"),ua=d("a"),da=m("The Problem"),fa=g(),ma=d("blockquote"),ga=d("p"),wa=m("Styles broken when user goes from Page XXX to Page YYY"),va=g(),ka=d("p"),ya=m("But..."),ba=g(),Ea=d("p"),Sa=m("Stlyes working fine when user goes directly to Page YYY, it's only broken when user goes from Page XXX to Page YYY"),Aa=g(),Ca=d("p"),xa=m("Well after some investigation, it turns out that it is a special combination of how we write our style declaration and how mini-css-extract-plugin works under the hood."),Pa=g(),Ta=d("p"),$a=m("For the sake of simplicity, you can imagine this is how "),Ia=d("code"),La=m("mini-css-extract-plugin"),Ma=m(" works under the hood:"),Ba=g(),Oa=d("pre"),ja=g(),Na=d("p"),Ha=m("When you write:"),Wa=g(),Ga=d("pre"),_a=g(),Ra=d("p"),Ya=m("it gets transformed into something like:"),Fa=g(),qa=d("pre"),za=g(),Ka=d("p"),Ua=m("So when this get executed, it will tries to look for existing link tag, if there's an existing link tag with the same url, it will be the end of it. But, when it does not exist, the "),Da=d("code"),Xa=m("ensureCss"),Ja=m(" will create a new link tag and append it at the end of the "),Va=d("code"),Qa=m("<head>"),Za=m(" element."),eo=g(),to=d("p"),no=d("strong"),ao=m("The order of the link tag depends on the order of how you navigate around the application."),oo=g(),so=d("p"),ro=m("If you are overwriting the same element style in 2 different css files, and in both file if you are specifying the same specificity, the style eventually got applied will solely depend on how your user navigate around your application."),io=g(),co=d("p"),lo=m("The solution for this is to make your css declaration more specific when overwriting a particular style."),ho=g(),po=d("p"),uo=m("eg:"),fo=g(),mo=d("pre"),go=g(),wo=d("p"),vo=m("Another problem we encountered when we tried to be more specific with CSS declaration, is due to how we write our "),ko=d("a"),yo=m("React"),bo=m(" component with CSS Modules."),Eo=g(),So=d("pre"),Ao=g(),Co=d("p"),xo=m("We wrote a custom component that takes in class name so we can overwrite the default style provided by the component."),Po=g(),To=d("p"),$o=d("strong"),Io=m("The order of classes in the class attribute does not matter, only the order in declaration matters."),Lo=g(),Mo=d("p"),Bo=m("Unfortunately for us this time is that we are using CSS Modules, or else it would be much easier to overwrite it with"),Oo=g(),jo=d("pre"),No=g(),Ho=d("p"),Wo=m("However, because the "),Go=d("code"),_o=m(".classA"),Ro=m(" will get transformed to something like "),Yo=d("code"),Fo=m(".c8e4436e"),qo=m(" and we will never know the generated class name in build time, there's no way we can have a more specificity with the approach above."),zo=g(),Ko=d("p"),Uo=m("One hack we came across to solve this conundrum is to "),Do=d("a"),Xo=m("chain the selector with itself to increase its specifity"),Jo=m(", namely:"),Vo=g(),Qo=d("pre"),Zo=g(),es=d("p"),ts=m("The next problem, is a very specific one."),ns=g(),as=d("p"),os=m("In Shopee we does "),ss=d("a"),rs=m("Server Side Rendering"),is=m(", and the nature of "),cs=d("code"),ls=m("mini-css-extrac-plugin"),hs=m(" that uses browser API, like "),ps=d("code"),us=m("document.createElement"),ds=m(" just not working in a server context."),fs=g(),ms=d("p"),gs=m("We have our on in-house solution for it, which I am not allow to disclose any of it."),ws=g(),vs=d("p"),ks=m("But if you encounter similar issues, and are stucked somewhere, you can "),ys=d("a"),bs=m("find me on twitter"),Es=m(", I am more than willing to give out some personal pointers and advices on this matter."),this.h()},l(e){n=y(e,"SECTION",{});var t=k(n);a=y(t,"UL",{class:!0,id:!0,role:!0,"aria-label":!0});var l=k(a);o=y(l,"LI",{});var h=k(o);s=y(h,"A",{href:!0});var d=k(s);r=b(d,"Background"),d.forEach(p),h.forEach(p),i=y(l,"LI",{});var m=k(i);c=y(m,"A",{href:!0});var g=k(c);u=b(g,"So, how big is Shopee?"),g.forEach(p),m.forEach(p),f=y(l,"UL",{});var v=k(f);w=y(v,"LI",{});var Ss=k(w);S=y(Ss,"A",{href:!0});var As=k(S);A=b(As,"But download time does not tell the full picture."),As.forEach(p),Ss.forEach(p),v.forEach(p),C=y(l,"LI",{});var Cs=k(C);x=y(Cs,"A",{href:!0});var xs=k(x);P=b(xs,"Solution"),xs.forEach(p),Cs.forEach(p),T=y(l,"LI",{});var Ps=k(T);$=y(Ps,"A",{href:!0});var Ts=k($);I=b(Ts,"The Problem"),Ts.forEach(p),Ps.forEach(p),l.forEach(p),t.forEach(p),L=E(e),M=y(e,"P",{});var $s=k(M);B=b($s,"In the talk, I shared about why and how "),O=y($s,"A",{href:!0,rel:!0});var Is=k(O);j=b(Is,"Shopee"),Is.forEach(p),N=b($s," does CSS Code Splitting and how we solve problems arised in the process."),$s.forEach(p),H=E(e),W=y(e,"P",{});var Ls=k(W);G=b(Ls,"For those who don't know about "),_=y(Ls,"A",{href:!0,rel:!0});var Ms=k(_);R=b(Ms,"Shopee"),Ms.forEach(p),Y=b(Ls,", we are an e-commerce platform based in "),F=y(Ls,"A",{href:!0,rel:!0});var Bs=k(F);q=b(Bs,"Greater Southeast Asia"),Bs.forEach(p),z=b(Ls,", headquartered in Singapore. As a frontend engineer in Shopee, we constantly striving to deliver performant user experience with high network latency and slow CPU devices."),Ls.forEach(p),K=E(e),U=y(e,"HR",{}),D=E(e),X=y(e,"SECTION",{});var Os=k(X);J=y(Os,"H2",{});var js=k(J);V=y(js,"A",{href:!0,id:!0});var Ns=k(V);Q=b(Ns,"Background"),Ns.forEach(p),js.forEach(p),Z=E(Os),ee=y(Os,"P",{});var Hs=k(ee);te=b(Hs,"A little background on how we use CSS in Shopee before getting into how we code split our CSS:"),Hs.forEach(p),ne=E(Os),ae=y(Os,"BLOCKQUOTE",{});var Ws=k(ae);oe=y(Ws,"P",{});var Gs=k(oe);se=b(Gs,"We use SASS and CSS Modules, and we bundle all our stylesheets with webpack into 1 final CSS file."),Gs.forEach(p),Ws.forEach(p),re=E(Os),ie=y(Os,"P",{});var _s=k(ie);ce=b(_s,"For the benefit of those who might not know about "),le=y(_s,"A",{href:!0,rel:!0});var Rs=k(le);he=b(Rs,"SASS"),Rs.forEach(p),pe=b(_s,", SASS is a sassy extension of CSS that allow us to write functions and mixins, so we can easily reuse common css tricks and patterns."),_s.forEach(p),ue=E(Os),de=y(Os,"P",{});var Ys=k(de);fe=y(Ys,"A",{href:!0,rel:!0});var Fs=k(fe);me=b(Fs,"CSS Modules"),Fs.forEach(p),ge=b(Ys," on the other hand, free us from racking our brain, coming up with a unique class name for every element. Even with "),we=y(Ys,"A",{href:!0,rel:!0});var qs=k(we);ve=b(qs,"BEM (Block Element Modifier) naming convention"),qs.forEach(p),ke=b(Ys,", as our application grows complex, we can't keep up with names for our element. Names with BEM convention just get longer and longer. With CSS Modules, we just need to make sure that within a CSS file (we can call it a CSS module, like a js module) the class names are unique. Our build tool will transform the stylesheets and generate class names that is unique throughout the application."),Ys.forEach(p),ye=E(Os),be=y(Os,"P",{});var zs=k(be);Ee=b(zs,"And lastly with "),Se=y(zs,"A",{href:!0,rel:!0});var Ks=k(Se);Ae=b(Ks,"webpack"),Ks.forEach(p),Ce=b(zs,", we use "),xe=y(zs,"A",{href:!0,rel:!0});var Us=k(xe);Pe=b(Us,"extract-text-webpack-plugin"),Us.forEach(p),Te=b(zs," to extract all the css code within the application into 1 CSS file."),zs.forEach(p),$e=E(Os),Ie=y(Os,"HR",{}),Os.forEach(p),Le=E(e),Me=y(e,"SECTION",{});var Ds=k(Me);Be=y(Ds,"H2",{});var Xs=k(Be);Oe=y(Xs,"A",{href:!0,id:!0});var Js=k(Oe);je=b(Js,"So, how big is Shopee?"),Js.forEach(p),Xs.forEach(p),Ne=E(Ds),He=y(Ds,"P",{});var Vs=k(He);We=b(Vs,"If you ask the business team, they will give you the numbers on "),Ge=y(Vs,"A",{href:!0,rel:!0});var Qs=k(Ge);_e=b(Qs,"how well we are doing in the region"),Qs.forEach(p),Re=b(Vs,"."),Vs.forEach(p),Ye=E(Ds),Fe=y(Ds,"P",{});var Zs=k(Fe);qe=b(Zs,"But if you ask a frontend engineer, I can tell you is that to date (Mar 27 2019), we have more than a thousand of CSS files, and more than 67K lines of CSS code, and the numbers are growing..."),Zs.forEach(p),ze=E(Ds),Ke=y(Ds,"P",{});var er=k(Ke);Ue=b(er,"And all this CSS code is bundled into one whoppingly 500KB CSS file! 😱"),er.forEach(p),De=E(Ds),Xe=y(Ds,"BLOCKQUOTE",{});var tr=k(Xe);Je=y(tr,"H3",{});var nr=k(Je);Ve=b(nr,"How big is 500KB ?!"),nr.forEach(p),tr.forEach(p),Qe=E(Ds),Ze=y(Ds,"P",{});var ar=k(Ze);et=y(ar,"A",{href:!0,rel:!0});var or=k(et);tt=b(or,"500KB is"),or.forEach(p),nt=b(ar,":"),ar.forEach(p),at=E(Ds),ot=y(Ds,"UL",{});var sr=k(ot);st=y(sr,"LI",{});var rr=k(st);rt=b(rr,"1 minute of MP3 at 80 Kbps bitrate"),rr.forEach(p),it=E(sr),ct=y(sr,"LI",{});var ir=k(ct);lt=b(ir,"2 1280x960 JPEG image"),ir.forEach(p),ht=E(sr),pt=y(sr,"LI",{});var cr=k(pt);ut=b(cr,"1/10 second through 4G Network"),cr.forEach(p),dt=E(sr),ft=y(sr,"LI",{});var lr=k(ft);mt=b(lr,"2 seconds through 3G Network"),lr.forEach(p),sr.forEach(p),gt=E(Ds),wt=y(Ds,"P",{});var hr=k(wt);vt=b(hr,"Wait, who uses 3G nowadays? Isn't 5G is coming?"),hr.forEach(p),kt=E(Ds),yt=y(Ds,"P",{});var pr=k(yt);bt=b(pr,"Turns out that most of the Southeast Asia is still on 3G if not slow 4G network, except major cities like Singapore, Jakarta, and etc."),pr.forEach(p),Et=E(Ds),St=y(Ds,"P",{});var ur=k(St);At=b(ur,"So file size is indeed a big concern, when it comes to network speed."),ur.forEach(p),Ds.forEach(p),Ct=E(e),xt=y(e,"SECTION",{});var dr=k(xt);Pt=y(dr,"H3",{});var fr=k(Pt);Tt=y(fr,"A",{href:!0,id:!0});var mr=k(Tt);$t=b(mr,"But download time does not tell the full picture."),mr.forEach(p),fr.forEach(p),It=E(dr),Lt=y(dr,"P",{});var gr=k(Lt);Mt=b(gr,"Because you need to look at it holistically in terms of the "),Bt=y(gr,"A",{href:!0,rel:!0});var wr=k(Bt);Ot=b(wr,"critical rendering path"),wr.forEach(p),jt=b(gr,":"),gr.forEach(p),Nt=E(dr),Ht=y(dr,"OL",{});var vr=k(Ht);Wt=y(vr,"LI",{});var kr=k(Wt);Gt=b(kr,"When the browser sees a "),_t=y(kr,"EM",{});var yr=k(_t);Rt=b(yr,"link tag"),yr.forEach(p),Yt=b(kr," that links to a CSS file, the browser will go and fetch the CSS file."),kr.forEach(p),Ft=E(vr),qt=y(vr,"LI",{});var br=k(qt);zt=b(br,"As soon as the CSS is downloaded into the memory, the browser will start to parse and generate a "),Kt=y(br,"A",{href:!0,rel:!0});var Er=k(Kt);Ut=b(Er,"CSSOM (CSS Object Model)"),Er.forEach(p),br.forEach(p),Dt=E(vr),Xt=y(vr,"LI",{});var Sr=k(Xt);Jt=b(Sr,"When the DOM is ready for layout, the browser will refer to CSSOM to get the style properties for a particular element and starts to layout."),Sr.forEach(p),vr.forEach(p),Vt=E(dr),Qt=y(dr,"P",{});var Ar=k(Qt);Zt=b(Ar,"Which means if your CSS file is large, it will takes up a portion of time to download, and another portion of time to parse, and generate the CSSOM. All these can be traced with the "),en=y(Ar,"A",{href:!0,rel:!0});var Cr=k(en);tn=b(Cr,"Chrome's timeline tool"),Cr.forEach(p),nn=b(Ar,"."),Ar.forEach(p),an=E(dr),on=y(dr,"P",{});var xr=k(on);sn=b(xr,"And what makes the matter worse is that, if we open up the "),rn=y(xr,"A",{href:!0,rel:!0});var Pr=k(rn);cn=b(Pr,"Chrome's Coverage tool"),Pr.forEach(p),ln=b(xr,", you will see that more than 90% of the CSS code is not being used to style the current page."),xr.forEach(p),hn=E(dr),pn=y(dr,"P",{});var Tr=k(pn);un=y(Tr,"STRONG",{});var $r=k(un);dn=b($r,"After all the trouble, only 10% of it is being useful"),$r.forEach(p),fn=b(Tr," 😢."),Tr.forEach(p),mn=E(dr),gn=y(dr,"P",{});var Ir=k(gn);wn=b(Ir,"So, we have to do what we need to do."),Ir.forEach(p),dr.forEach(p),vn=E(e),kn=y(e,"SECTION",{});var Lr=k(kn);yn=y(Lr,"H2",{});var Mr=k(yn);bn=y(Mr,"A",{href:!0,id:!0});var Br=k(bn);En=b(Br,"Solution"),Br.forEach(p),Mr.forEach(p),Sn=E(Lr),An=y(Lr,"P",{});var Or=k(An);Cn=b(Or,"Big code file, that take long to download and parse, slows down the browser is not a new problem in frontend development. Indeed we've already solved this for JavaScript, we just need to apply the same technique for CSS this time."),Or.forEach(p),xn=E(Lr),Pn=y(Lr,"P",{});var jr=k(Pn);Tn=b(jr,"The answer to all of this is "),$n=y(jr,"STRONG",{});var Nr=k($n);In=b(Nr,"Code Splitting"),Nr.forEach(p),Ln=b(jr," 👏👏"),jr.forEach(p),Mn=E(Lr),Bn=y(Lr,"P",{});var Hr=k(Bn);On=b(Hr,"The concept of Code Splitting is to split the code into seperate bundles, and dynamically load then only when you need it."),Hr.forEach(p),jn=E(Lr),Nn=y(Lr,"P",{});var Wr=k(Nn);Hn=b(Wr,"There's a few ways you can look at code splitting, you can:"),Wr.forEach(p),Wn=E(Lr),Gn=y(Lr,"OL",{});var Gr=k(Gn);_n=y(Gr,"LI",{});var _r=k(_n);Rn=b(_r,"Split code based on url routes, you don't have to load the code for Page 2 in Page 1"),_r.forEach(p),Yn=E(Gr),Fn=y(Gr,"LI",{});var Rr=k(Fn);qn=b(Rr,"Split code based on sections, you dont need code that is off the screen to be loaded now. Only load them when you need it."),Rr.forEach(p),Gr.forEach(p),zn=E(Lr),Kn=y(Lr,"P",{});var Yr=k(Kn);Un=b(Yr,"So just as we were "),Dn=y(Yr,"A",{href:!0,rel:!0});var Fr=k(Dn);Xn=b(Fr,"upgrading Webpack to Webpack 4"),Fr.forEach(p),Jn=b(Yr,", our extract-text-webpack-plugin announced that we should be using "),Vn=y(Yr,"A",{href:!0,rel:!0});var qr=k(Vn);Qn=b(qr,"mini-css-extract-plugin"),qr.forEach(p),Zn=b(Yr," for CSS now."),Yr.forEach(p),ea=E(Lr),ta=y(Lr,"P",{});var zr=k(ta);na=b(zr,"We followed the guide of setting up the new plugin and it worked amazing! 😎"),zr.forEach(p),aa=E(Lr),oa=y(Lr,"P",{});var Kr=k(oa);sa=b(Kr,"What's different between extract-text-webpack-plugin and mini-css-extract-plugin is that the latter will generate 1 css file per 1 js bundle instead of combining all css files into 1 css file per build."),Kr.forEach(p),ra=E(Lr),ia=y(Lr,"P",{});var Ur=k(ia);ca=b(Ur,"All is well until we got our first bug ticket 😫"),Ur.forEach(p),Lr.forEach(p),la=E(e),ha=y(e,"SECTION",{});var Dr=k(ha);pa=y(Dr,"H2",{});var Xr=k(pa);ua=y(Xr,"A",{href:!0,id:!0});var Jr=k(ua);da=b(Jr,"The Problem"),Jr.forEach(p),Xr.forEach(p),fa=E(Dr),ma=y(Dr,"BLOCKQUOTE",{});var Vr=k(ma);ga=y(Vr,"P",{});var Qr=k(ga);wa=b(Qr,"Styles broken when user goes from Page XXX to Page YYY"),Qr.forEach(p),va=E(Vr),ka=y(Vr,"P",{});var Zr=k(ka);ya=b(Zr,"But..."),Zr.forEach(p),ba=E(Vr),Ea=y(Vr,"P",{});var ei=k(Ea);Sa=b(ei,"Stlyes working fine when user goes directly to Page YYY, it's only broken when user goes from Page XXX to Page YYY"),ei.forEach(p),Vr.forEach(p),Aa=E(Dr),Ca=y(Dr,"P",{});var ti=k(Ca);xa=b(ti,"Well after some investigation, it turns out that it is a special combination of how we write our style declaration and how mini-css-extract-plugin works under the hood."),ti.forEach(p),Pa=E(Dr),Ta=y(Dr,"P",{});var ni=k(Ta);$a=b(ni,"For the sake of simplicity, you can imagine this is how "),Ia=y(ni,"CODE",{});var ai=k(Ia);La=b(ai,"mini-css-extract-plugin"),ai.forEach(p),Ma=b(ni," works under the hood:"),ni.forEach(p),Ba=E(Dr),Oa=y(Dr,"PRE",{class:!0}),k(Oa).forEach(p),ja=E(Dr),Na=y(Dr,"P",{});var oi=k(Na);Ha=b(oi,"When you write:"),oi.forEach(p),Wa=E(Dr),Ga=y(Dr,"PRE",{class:!0}),k(Ga).forEach(p),_a=E(Dr),Ra=y(Dr,"P",{});var si=k(Ra);Ya=b(si,"it gets transformed into something like:"),si.forEach(p),Fa=E(Dr),qa=y(Dr,"PRE",{class:!0}),k(qa).forEach(p),za=E(Dr),Ka=y(Dr,"P",{});var ri=k(Ka);Ua=b(ri,"So when this get executed, it will tries to look for existing link tag, if there's an existing link tag with the same url, it will be the end of it. But, when it does not exist, the "),Da=y(ri,"CODE",{});var ii=k(Da);Xa=b(ii,"ensureCss"),ii.forEach(p),Ja=b(ri," will create a new link tag and append it at the end of the "),Va=y(ri,"CODE",{});var ci=k(Va);Qa=b(ci,"<head>"),ci.forEach(p),Za=b(ri," element."),ri.forEach(p),eo=E(Dr),to=y(Dr,"P",{});var li=k(to);no=y(li,"STRONG",{});var hi=k(no);ao=b(hi,"The order of the link tag depends on the order of how you navigate around the application."),hi.forEach(p),li.forEach(p),oo=E(Dr),so=y(Dr,"P",{});var pi=k(so);ro=b(pi,"If you are overwriting the same element style in 2 different css files, and in both file if you are specifying the same specificity, the style eventually got applied will solely depend on how your user navigate around your application."),pi.forEach(p),io=E(Dr),co=y(Dr,"P",{});var ui=k(co);lo=b(ui,"The solution for this is to make your css declaration more specific when overwriting a particular style."),ui.forEach(p),ho=E(Dr),po=y(Dr,"P",{});var di=k(po);uo=b(di,"eg:"),di.forEach(p),fo=E(Dr),mo=y(Dr,"PRE",{class:!0}),k(mo).forEach(p),go=E(Dr),wo=y(Dr,"P",{});var fi=k(wo);vo=b(fi,"Another problem we encountered when we tried to be more specific with CSS declaration, is due to how we write our "),ko=y(fi,"A",{href:!0,rel:!0});var mi=k(ko);yo=b(mi,"React"),mi.forEach(p),bo=b(fi," component with CSS Modules."),fi.forEach(p),Eo=E(Dr),So=y(Dr,"PRE",{class:!0}),k(So).forEach(p),Ao=E(Dr),Co=y(Dr,"P",{});var gi=k(Co);xo=b(gi,"We wrote a custom component that takes in class name so we can overwrite the default style provided by the component."),gi.forEach(p),Po=E(Dr),To=y(Dr,"P",{});var wi=k(To);$o=y(wi,"STRONG",{});var vi=k($o);Io=b(vi,"The order of classes in the class attribute does not matter, only the order in declaration matters."),vi.forEach(p),wi.forEach(p),Lo=E(Dr),Mo=y(Dr,"P",{});var ki=k(Mo);Bo=b(ki,"Unfortunately for us this time is that we are using CSS Modules, or else it would be much easier to overwrite it with"),ki.forEach(p),Oo=E(Dr),jo=y(Dr,"PRE",{class:!0}),k(jo).forEach(p),No=E(Dr),Ho=y(Dr,"P",{});var yi=k(Ho);Wo=b(yi,"However, because the "),Go=y(yi,"CODE",{});var bi=k(Go);_o=b(bi,".classA"),bi.forEach(p),Ro=b(yi," will get transformed to something like "),Yo=y(yi,"CODE",{});var Ei=k(Yo);Fo=b(Ei,".c8e4436e"),Ei.forEach(p),qo=b(yi," and we will never know the generated class name in build time, there's no way we can have a more specificity with the approach above."),yi.forEach(p),zo=E(Dr),Ko=y(Dr,"P",{});var Si=k(Ko);Uo=b(Si,"One hack we came across to solve this conundrum is to "),Do=y(Si,"A",{href:!0,rel:!0});var Ai=k(Do);Xo=b(Ai,"chain the selector with itself to increase its specifity"),Ai.forEach(p),Jo=b(Si,", namely:"),Si.forEach(p),Vo=E(Dr),Qo=y(Dr,"PRE",{class:!0}),k(Qo).forEach(p),Zo=E(Dr),es=y(Dr,"P",{});var Ci=k(es);ts=b(Ci,"The next problem, is a very specific one."),Ci.forEach(p),ns=E(Dr),as=y(Dr,"P",{});var xi=k(as);os=b(xi,"In Shopee we does "),ss=y(xi,"A",{href:!0,rel:!0});var Pi=k(ss);rs=b(Pi,"Server Side Rendering"),Pi.forEach(p),is=b(xi,", and the nature of "),cs=y(xi,"CODE",{});var Ti=k(cs);ls=b(Ti,"mini-css-extrac-plugin"),Ti.forEach(p),hs=b(xi," that uses browser API, like "),ps=y(xi,"CODE",{});var $i=k(ps);us=b($i,"document.createElement"),$i.forEach(p),ds=b(xi," just not working in a server context."),xi.forEach(p),fs=E(Dr),ms=y(Dr,"P",{});var Ii=k(ms);gs=b(Ii,"We have our on in-house solution for it, which I am not allow to disclose any of it."),Ii.forEach(p),ws=E(Dr),vs=y(Dr,"P",{});var Li=k(vs);ks=b(Li,"But if you encounter similar issues, and are stucked somewhere, you can "),ys=y(Li,"A",{href:!0,rel:!0});var Mi=k(ys);bs=b(Mi,"find me on twitter"),Mi.forEach(p),Es=b(Li,", I am more than willing to give out some personal pointers and advices on this matter."),Li.forEach(p),Dr.forEach(p),this.h()},h(){v(s,"href","#background"),v(c,"href","#so-how-big-is-shopee"),v(S,"href","#but-download-time-does-not-tell-the-full-picture"),v(x,"href","#solution"),v($,"href","#the-problem"),v(a,"class","sitemap"),v(a,"id","sitemap"),v(a,"role","navigation"),v(a,"aria-label","Table of Contents"),v(O,"href","http://careers.shopee.sg"),v(O,"rel","nofollow"),v(_,"href","http://careers.shopee.sg"),v(_,"rel","nofollow"),v(F,"href","https://www.seagroup.com/home"),v(F,"rel","nofollow"),v(V,"href","#background"),v(V,"id","background"),v(le,"href","https://sass-lang.com/"),v(le,"rel","nofollow"),v(fe,"href","https://github.com/css-modules/css-modules"),v(fe,"rel","nofollow"),v(we,"href","http://getbem.com/naming/"),v(we,"rel","nofollow"),v(Se,"href","https://webpack.js.org/"),v(Se,"rel","nofollow"),v(xe,"href","https://github.com/webpack-contrib/extract-text-webpack-plugin"),v(xe,"rel","nofollow"),v(Oe,"href","#so-how-big-is-shopee"),v(Oe,"id","so-how-big-is-shopee"),v(Ge,"href","https://www.techinasia.com/shopee-top-ecommerce-platform-sea"),v(Ge,"rel","nofollow"),v(et,"href","https://www.greennet.org.uk/support/understanding-file-sizes"),v(et,"rel","nofollow"),v(Tt,"href","#but-download-time-does-not-tell-the-full-picture"),v(Tt,"id","but-download-time-does-not-tell-the-full-picture"),v(Bt,"href","https://developers.google.com/web/fundamentals/performance/critical-rendering-path/"),v(Bt,"rel","nofollow"),v(Kt,"href","https://developer.mozilla.org/en-US/docs/Web/API/CSS_Object_Model"),v(Kt,"rel","nofollow"),v(en,"href","https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/timeline-tool"),v(en,"rel","nofollow"),v(rn,"href","https://developers.google.com/web/updates/2017/04/devtools-release-notes#coverage"),v(rn,"rel","nofollow"),v(bn,"href","#solution"),v(bn,"id","solution"),v(Dn,"href","https://engineering.seagroup.com/shopee-webpack4/"),v(Dn,"rel","nofollow"),v(Vn,"href","https://github.com/webpack-contrib/mini-css-extract-plugin"),v(Vn,"rel","nofollow"),v(ua,"href","#the-problem"),v(ua,"id","the-problem"),v(Oa,"class","language-js"),v(Ga,"class","language-js"),v(qa,"class","language-js"),v(mo,"class","language-css"),v(ko,"href","https://reactjs.org"),v(ko,"rel","nofollow"),v(So,"class","language-js"),v(jo,"class","language-css"),v(Do,"href","https://csswizardry.com/2014/07/hacks-for-dealing-with-specificity/"),v(Do,"rel","nofollow"),v(Qo,"class","language-css"),v(ss,"href","https://developers.google.com/web/updates/2019/02/rendering-on-the-web"),v(ss,"rel","nofollow"),v(ys,"href","https://twitter.com/lihautan"),v(ys,"rel","nofollow")},m(e,t){h(e,n,t),l(n,a),l(a,o),l(o,s),l(s,r),l(a,i),l(i,c),l(c,u),l(a,f),l(f,w),l(w,S),l(S,A),l(a,C),l(C,x),l(x,P),l(a,T),l(T,$),l($,I),h(e,L,t),h(e,M,t),l(M,B),l(M,O),l(O,j),l(M,N),h(e,H,t),h(e,W,t),l(W,G),l(W,_),l(_,R),l(W,Y),l(W,F),l(F,q),l(W,z),h(e,K,t),h(e,U,t),h(e,D,t),h(e,X,t),l(X,J),l(J,V),l(V,Q),l(X,Z),l(X,ee),l(ee,te),l(X,ne),l(X,ae),l(ae,oe),l(oe,se),l(X,re),l(X,ie),l(ie,ce),l(ie,le),l(le,he),l(ie,pe),l(X,ue),l(X,de),l(de,fe),l(fe,me),l(de,ge),l(de,we),l(we,ve),l(de,ke),l(X,ye),l(X,be),l(be,Ee),l(be,Se),l(Se,Ae),l(be,Ce),l(be,xe),l(xe,Pe),l(be,Te),l(X,$e),l(X,Ie),h(e,Le,t),h(e,Me,t),l(Me,Be),l(Be,Oe),l(Oe,je),l(Me,Ne),l(Me,He),l(He,We),l(He,Ge),l(Ge,_e),l(He,Re),l(Me,Ye),l(Me,Fe),l(Fe,qe),l(Me,ze),l(Me,Ke),l(Ke,Ue),l(Me,De),l(Me,Xe),l(Xe,Je),l(Je,Ve),l(Me,Qe),l(Me,Ze),l(Ze,et),l(et,tt),l(Ze,nt),l(Me,at),l(Me,ot),l(ot,st),l(st,rt),l(ot,it),l(ot,ct),l(ct,lt),l(ot,ht),l(ot,pt),l(pt,ut),l(ot,dt),l(ot,ft),l(ft,mt),l(Me,gt),l(Me,wt),l(wt,vt),l(Me,kt),l(Me,yt),l(yt,bt),l(Me,Et),l(Me,St),l(St,At),h(e,Ct,t),h(e,xt,t),l(xt,Pt),l(Pt,Tt),l(Tt,$t),l(xt,It),l(xt,Lt),l(Lt,Mt),l(Lt,Bt),l(Bt,Ot),l(Lt,jt),l(xt,Nt),l(xt,Ht),l(Ht,Wt),l(Wt,Gt),l(Wt,_t),l(_t,Rt),l(Wt,Yt),l(Ht,Ft),l(Ht,qt),l(qt,zt),l(qt,Kt),l(Kt,Ut),l(Ht,Dt),l(Ht,Xt),l(Xt,Jt),l(xt,Vt),l(xt,Qt),l(Qt,Zt),l(Qt,en),l(en,tn),l(Qt,nn),l(xt,an),l(xt,on),l(on,sn),l(on,rn),l(rn,cn),l(on,ln),l(xt,hn),l(xt,pn),l(pn,un),l(un,dn),l(pn,fn),l(xt,mn),l(xt,gn),l(gn,wn),h(e,vn,t),h(e,kn,t),l(kn,yn),l(yn,bn),l(bn,En),l(kn,Sn),l(kn,An),l(An,Cn),l(kn,xn),l(kn,Pn),l(Pn,Tn),l(Pn,$n),l($n,In),l(Pn,Ln),l(kn,Mn),l(kn,Bn),l(Bn,On),l(kn,jn),l(kn,Nn),l(Nn,Hn),l(kn,Wn),l(kn,Gn),l(Gn,_n),l(_n,Rn),l(Gn,Yn),l(Gn,Fn),l(Fn,qn),l(kn,zn),l(kn,Kn),l(Kn,Un),l(Kn,Dn),l(Dn,Xn),l(Kn,Jn),l(Kn,Vn),l(Vn,Qn),l(Kn,Zn),l(kn,ea),l(kn,ta),l(ta,na),l(kn,aa),l(kn,oa),l(oa,sa),l(kn,ra),l(kn,ia),l(ia,ca),h(e,la,t),h(e,ha,t),l(ha,pa),l(pa,ua),l(ua,da),l(ha,fa),l(ha,ma),l(ma,ga),l(ga,wa),l(ma,va),l(ma,ka),l(ka,ya),l(ma,ba),l(ma,Ea),l(Ea,Sa),l(ha,Aa),l(ha,Ca),l(Ca,xa),l(ha,Pa),l(ha,Ta),l(Ta,$a),l(Ta,Ia),l(Ia,La),l(Ta,Ma),l(ha,Ba),l(ha,Oa),Oa.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">ensureCss</span><span class="token punctuation">(</span><span class="token parameter">href</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">const</span> existingLinkTags <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"link"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> existingLinkTags<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>\n    <span class="token keyword">if</span> <span class="token punctuation">(</span>tag<span class="token punctuation">.</span>rel <span class="token operator">===</span> <span class="token string">\'stylesheet\'</span> <span class="token operator">&amp;&amp;</span> tag<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"href"</span><span class="token punctuation">)</span> <span class="token operator">===</span> href<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n      <span class="token keyword">return</span><span class="token punctuation">;</span>\n    <span class="token punctuation">&#125;</span>\n  <span class="token punctuation">&#125;</span>\n\n  <span class="token keyword">const</span> linkTag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">\'link\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  linkTag<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">"stylesheet"</span><span class="token punctuation">;</span>\n  linkTag<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">"text/css"</span><span class="token punctuation">;</span>\n  linkTag<span class="token punctuation">.</span>href <span class="token operator">=</span> href<span class="token punctuation">;</span>\n\n  <span class="token keyword">const</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">"head"</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n  head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkTag<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',l(ha,ja),l(ha,Na),l(Na,Ha),l(ha,Wa),l(ha,Ga),Ga.innerHTML='<code class="language-js"><span class="token comment">// somewhere in your application code</span>\n<span class="token comment">// when you write</span>\n<span class="token keyword">import</span> <span class="token string">\'./styles.scss\'</span><span class="token punctuation">;</span></code>',l(ha,_a),l(ha,Ra),l(Ra,Ya),l(ha,Fa),l(ha,qa),qa.innerHTML='<code class="language-js"><span class="token comment">// webpack\'s mini-css-extract-plugin transform it into</span>\n<span class="token function">ensureCss</span><span class="token punctuation">(</span><span class="token string">\'https://shopee.sg/page-1-style.css\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',l(ha,za),l(ha,Ka),l(Ka,Ua),l(Ka,Da),l(Da,Xa),l(Ka,Ja),l(Ka,Va),l(Va,Qa),l(Ka,Za),l(ha,eo),l(ha,to),l(to,no),l(no,ao),l(ha,oo),l(ha,so),l(so,ro),l(ha,io),l(ha,co),l(co,lo),l(ha,ho),l(ha,po),l(po,uo),l(ha,fo),l(ha,mo),mo.innerHTML='<code class="language-css"><span class="token comment">/* only overwrite .foo in page2 */</span>\n<span class="token selector">.page2 .foo</span> <span class="token punctuation">&#123;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',l(ha,go),l(ha,wo),l(wo,vo),l(wo,ko),l(ko,yo),l(wo,bo),l(ha,Eo),l(ha,So),So.innerHTML='<code class="language-js"><span class="token keyword">import</span> styles <span class="token keyword">from</span> <span class="token string">\'./styles.scss\'</span><span class="token punctuation">;</span>\n<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">&#123;</span> className <span class="token punctuation">&#125;</span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">&#123;</span>styles<span class="token punctuation">.</span>classA <span class="token operator">+</span> <span class="token string">\' \'</span> <span class="token operator">+</span> className<span class="token punctuation">&#125;</span><span class="token operator">></span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',l(ha,Ao),l(ha,Co),l(Co,xo),l(ha,Po),l(ha,To),l(To,$o),l($o,Io),l(ha,Lo),l(ha,Mo),l(Mo,Bo),l(ha,Oo),l(ha,jo),jo.innerHTML='<code class="language-css"><span class="token selector">.classA.classB</span> <span class="token punctuation">&#123;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> blue\n<span class="token punctuation">&#125;</span></code>',l(ha,No),l(ha,Ho),l(Ho,Wo),l(Ho,Go),l(Go,_o),l(Ho,Ro),l(Ho,Yo),l(Yo,Fo),l(Ho,qo),l(ha,zo),l(ha,Ko),l(Ko,Uo),l(Ko,Do),l(Do,Xo),l(Ko,Jo),l(ha,Vo),l(ha,Qo),Qo.innerHTML='<code class="language-css"><span class="token selector">.classB.classB</span> <span class="token punctuation">&#123;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n<span class="token comment">/* has higher specificity than */</span>\n<span class="token selector">.c8e4436e</span> <span class="token punctuation">&#123;</span>\n  <span class="token property">color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',l(ha,Zo),l(ha,es),l(es,ts),l(ha,ns),l(ha,as),l(as,os),l(as,ss),l(ss,rs),l(as,is),l(as,cs),l(cs,ls),l(as,hs),l(as,ps),l(ps,us),l(as,ds),l(ha,fs),l(ha,ms),l(ms,gs),l(ha,ws),l(ha,vs),l(vs,ks),l(vs,ys),l(ys,bs),l(vs,Es)},p:e,d(e){e&&p(n),e&&p(L),e&&p(M),e&&p(H),e&&p(W),e&&p(K),e&&p(U),e&&p(D),e&&p(X),e&&p(Le),e&&p(Me),e&&p(Ct),e&&p(xt),e&&p(vn),e&&p(kn),e&&p(la),e&&p(ha)}}}function ue(e){let n,a;const o=[de];let s={$$slots:{default:[pe]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)s=t(s,o[e]);return n=new he({props:s}),{c(){F(n.$$.fragment)},l(e){q(n.$$.fragment,e)},m(e,t){z(n,e,t),a=!0},p(e,[t]){const a=0&t?function(e,t){const n={},a={},o={$$scope:1};let s=e.length;for(;s--;){const r=e[s],i=t[s];if(i){for(const e in r)e in i||(a[e]=1);for(const e in i)o[e]||(n[e]=i[e],o[e]=1);e[s]=i}else for(const e in r)o[e]=1}for(const e in a)e in n||(n[e]=void 0);return n}(o,[(s=de,"object"==typeof s&&null!==s?s:{})]):{};var s;1&t&&(a.$$scope={dirty:t,ctx:e}),n.$set(a)},i(e){a||(R(n.$$.fragment,e),a=!0)},o(e){Y(n.$$.fragment,e),a=!1},d(e){K(n,e)}}}const de={title:"CSS Code Splitting",occasion:"talk.css meetup",occasionLink:"https://singaporecss.github.io/37/",venue:"Shopee SG",venueLink:"https://www.google.com/maps/place/Shopee+SG/@1.291278,103.7846628,15z/data=!4m2!3m1!1s0x0:0x7ddf2e854cf6e4e4?ved=2ahUKEwi5jbz6z_vgAhVBP48KHWSEAmMQ_BIwFXoECAEQCA",date:"2019-03-27",description:"The motivation of CSS splitting arises when we try to split our CSS styles and lazily load the styles only when we actually need them. CSS code splitting is one of our many efforts where we constantly improve the performance of the application.",slides:"https://slides.com/tanhauhau/css-code-splitting",video:"https://www.engineers.sg/video/css-code-splitting-talk-css--3273",layout:"talk",slug:"css-code-splitting",type:"talk"};class fe extends X{constructor(e){super(),D(this,e,null,ue,r,{})}}setTimeout(()=>{new fe({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const e=document.createElement("script");e.async=!0,e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",document.body.appendChild(e)}if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.src=e.dataset.src})}else{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js",document.body.appendChild(e)}},3e3);
