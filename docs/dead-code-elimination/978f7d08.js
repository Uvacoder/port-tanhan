function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function a(){return Object.create(null)}function o(t){t.forEach(n)}function s(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,n,a,o){return t[1]&&o?e(a.ctx.slice(),t[1](o(n))):a.ctx}function i(t,e,n,a,o,s,r){const i=function(t,e,n,a){if(t[2]&&a){const o=t[2](a(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let a=0;a<n;a+=1)t[a]=e.dirty[a]|o[a];return t}return e.dirty|o}return e.dirty}(e,a,o,s);if(i){const o=c(e,n,a,r);t.p(o,i)}}function l(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function p(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function h(t){return document.createElement(t)}function d(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function m(t){return document.createTextNode(t)}function g(){return m(" ")}function v(){return m("")}function b(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function E(t){return Array.from(t.childNodes)}function y(t,e,n,a){for(let a=0;a<t.length;a+=1){const o=t[a];if(o.nodeName===e){let e=0;const s=[];for(;e<o.attributes.length;){const t=o.attributes[e++];n[t.name]||s.push(t.name)}for(let t=0;t<s.length;t++)o.removeAttribute(s[t]);return t.splice(a,1)[0]}}return a?d(e):h(e)}function w(t,e){for(let n=0;n<t.length;n+=1){const a=t[n];if(3===a.nodeType)return a.data=""+e,t.splice(n,1)[0]}return m(e)}function k(t){return w(t," ")}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function A(t,e){t.value=null==e?"":e}class T{constructor(t=null){this.a=t,this.e=this.n=null}m(t,e,n=null){this.e||(this.e=h(e.nodeName),this.t=e,this.h(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)u(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(f)}}let _;function j(t){_=t}function x(t){(function(){if(!_)throw new Error("Function called outside component initialization");return _})().$$.on_mount.push(t)}const O=[],N=[],L=[],P=[],S=Promise.resolve();let C=!1;function H(t){L.push(t)}let M=!1;const R=new Set;function I(){if(!M){M=!0;do{for(let t=0;t<O.length;t+=1){const e=O[t];j(e),D(e.$$)}for(O.length=0;N.length;)N.pop()();for(let t=0;t<L.length;t+=1){const e=L[t];R.has(e)||(R.add(e),e())}L.length=0}while(O.length);for(;P.length;)P.pop()();C=!1,M=!1,R.clear()}}function D(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const B=new Set;function F(t,e){t&&t.i&&(B.delete(t),t.i(e))}function U(t,e,n,a){if(t&&t.o){if(B.has(t))return;B.add(t),(void 0).c.push(()=>{B.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}function q(t){t&&t.c()}function G(t,e){t&&t.l(e)}function z(t,e,a){const{fragment:r,on_mount:c,on_destroy:i,after_update:l}=t.$$;r&&r.m(e,a),H(()=>{const e=c.map(n).filter(s);i?i.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(H)}function W(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function J(t,e){-1===t.$$.dirty[0]&&(O.push(t),C||(C=!0,S.then(I)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function V(e,n,s,r,c,i,l=[-1]){const u=_;j(e);const p=n.props||{},h=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:c,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:a(),dirty:l};let d=!1;if(h.ctx=s?s(e,p,(t,n,...a)=>{const o=a.length?a[0]:n;return h.ctx&&c(h.ctx[t],h.ctx[t]=o)&&(h.bound[t]&&h.bound[t](o),d&&J(e,t)),n}):[],h.update(),d=!0,o(h.before_update),h.fragment=!!r&&r(h.ctx),n.target){if(n.hydrate){const t=E(n.target);h.fragment&&h.fragment.l(t),t.forEach(f)}else h.fragment&&h.fragment.c();n.intro&&F(e.$$.fragment),z(e,n.target,n.anchor),I()}j(u)}class Y{$destroy(){W(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function K(e){let n,a,o,s,r,c,i,p,v,$,A,T,_,j,x,O,N,L,P,S,C,H,M,R,I,D,B,F,U,q,G,z,W,J,V;return{c(){n=h("header"),a=h("nav"),o=h("ul"),s=h("li"),r=h("a"),c=m("Tan Li Hau"),i=g(),p=h("li"),v=h("a"),$=m("About"),A=g(),T=h("li"),_=h("a"),j=m("Writings"),x=g(),O=h("li"),N=h("a"),L=m("Talks"),P=g(),S=h("li"),C=h("a"),H=m("Notes"),M=g(),R=h("li"),I=h("a"),D=m("Newsletter"),B=g(),F=h("li"),U=h("a"),q=d("svg"),G=d("path"),z=g(),W=h("a"),J=d("svg"),V=d("path"),this.h()},l(t){n=y(t,"HEADER",{class:!0});var e=E(n);a=y(e,"NAV",{});var l=E(a);o=y(l,"UL",{class:!0});var u=E(o);s=y(u,"LI",{class:!0});var h=E(s);r=y(h,"A",{href:!0,class:!0});var d=E(r);c=w(d,"Tan Li Hau"),d.forEach(f),h.forEach(f),i=k(u),p=y(u,"LI",{class:!0});var m=E(p);v=y(m,"A",{href:!0,class:!0});var g=E(v);$=w(g,"About"),g.forEach(f),m.forEach(f),A=k(u),T=y(u,"LI",{class:!0});var b=E(T);_=y(b,"A",{href:!0,class:!0});var Y=E(_);j=w(Y,"Writings"),Y.forEach(f),b.forEach(f),x=k(u),O=y(u,"LI",{class:!0});var K=E(O);N=y(K,"A",{href:!0,class:!0});var Z=E(N);L=w(Z,"Talks"),Z.forEach(f),K.forEach(f),P=k(u),S=y(u,"LI",{class:!0});var Q=E(S);C=y(Q,"A",{href:!0,class:!0});var X=E(C);H=w(X,"Notes"),X.forEach(f),Q.forEach(f),M=k(u),R=y(u,"LI",{class:!0});var tt=E(R);I=y(tt,"A",{href:!0,class:!0});var et=E(I);D=w(et,"Newsletter"),et.forEach(f),tt.forEach(f),B=k(u),F=y(u,"LI",{class:!0});var nt=E(F);U=y(nt,"A",{"aria-label":!0,href:!0,class:!0});var at=E(U);q=y(at,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var ot=E(q);G=y(ot,"path",{d:!0},1),E(G).forEach(f),ot.forEach(f),at.forEach(f),z=k(nt),W=y(nt,"A",{"aria-label":!0,href:!0,class:!0});var st=E(W);J=y(st,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var rt=E(J);V=y(rt,"path",{d:!0},1),E(V).forEach(f),rt.forEach(f),st.forEach(f),nt.forEach(f),u.forEach(f),l.forEach(f),e.forEach(f),this.h()},h(){b(r,"href","/"),b(r,"class","svelte-f3e4uo"),b(s,"class","svelte-f3e4uo"),b(v,"href","/about"),b(v,"class","svelte-f3e4uo"),b(p,"class","svelte-f3e4uo"),b(_,"href","/blogs"),b(_,"class","svelte-f3e4uo"),b(T,"class","svelte-f3e4uo"),b(N,"href","/talks"),b(N,"class","svelte-f3e4uo"),b(O,"class","svelte-f3e4uo"),b(C,"href","/notes"),b(C,"class","svelte-f3e4uo"),b(S,"class","svelte-f3e4uo"),b(I,"href","/newsletter"),b(I,"class","svelte-f3e4uo"),b(R,"class","svelte-f3e4uo"),b(G,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),b(q,"viewBox","0 0 24 24"),b(q,"width","1em"),b(q,"height","1em"),b(q,"class","svelte-f3e4uo"),b(U,"aria-label","Twitter account"),b(U,"href","https://twitter.com/lihautan"),b(U,"class","svelte-f3e4uo"),b(V,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),b(J,"viewBox","0 0 24 24"),b(J,"width","1em"),b(J,"height","1em"),b(J,"class","svelte-f3e4uo"),b(W,"aria-label","Github account"),b(W,"href","https://github.com/tanhauhau"),b(W,"class","svelte-f3e4uo"),b(F,"class","social svelte-f3e4uo"),b(o,"class","svelte-f3e4uo"),b(n,"class","svelte-f3e4uo")},m(t,e){u(t,n,e),l(n,a),l(a,o),l(o,s),l(s,r),l(r,c),l(o,i),l(o,p),l(p,v),l(v,$),l(o,A),l(o,T),l(T,_),l(_,j),l(o,x),l(o,O),l(O,N),l(N,L),l(o,P),l(o,S),l(S,C),l(C,H),l(o,M),l(o,R),l(R,I),l(I,D),l(o,B),l(o,F),l(F,U),l(U,q),l(q,G),l(F,z),l(F,W),l(W,J),l(J,V)},p:t,i:t,o:t,d(t){t&&f(n)}}}class Z extends Y{constructor(t){super(),V(this,t,null,K,r,{})}}function Q(e){let n,a,o,s,r,c,i,p,d,v,$,T,_,j,x,O,N,L,P,S;return{c(){n=h("div"),a=h("h1"),o=m("Subscribe to my newsletter"),s=g(),r=h("h2"),c=m("Get the latest blog posts and project updates delivered right to your inbox"),i=g(),p=h("form"),d=h("div"),v=h("input"),$=g(),T=h("input"),j=g(),x=h("input"),O=g(),N=h("p"),L=m("Powered by Buttondown."),this.h()},l(t){n=y(t,"DIV",{class:!0});var e=E(n);a=y(e,"H1",{});var l=E(a);o=w(l,"Subscribe to my newsletter"),l.forEach(f),s=k(e),r=y(e,"H2",{class:!0});var u=E(r);c=w(u,"Get the latest blog posts and project updates delivered right to your inbox"),u.forEach(f),i=k(e),p=y(e,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var h=E(p);d=y(h,"DIV",{class:!0});var m=E(d);v=y(m,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),$=k(m),T=y(m,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),m.forEach(f),j=k(h),x=y(h,"INPUT",{type:!0,value:!0,name:!0,class:!0}),O=k(h),N=y(h,"P",{class:!0});var g=E(N);L=w(g,"Powered by Buttondown."),g.forEach(f),h.forEach(f),e.forEach(f),this.h()},h(){b(r,"class","svelte-1k1s1co"),b(v,"type","email"),b(v,"name","email"),b(v,"id","bd-email"),b(v,"aria-label","email address"),b(v,"placeholder","youremail@example.com"),b(v,"class","svelte-1k1s1co"),b(T,"type","submit"),T.value="Subscribe",T.disabled=_=!e[0],b(T,"class","svelte-1k1s1co"),b(d,"class","form-item svelte-1k1s1co"),b(x,"type","hidden"),x.value="1",b(x,"name","embed"),b(x,"class","svelte-1k1s1co"),b(N,"class","svelte-1k1s1co"),b(p,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),b(p,"method","post"),b(p,"target","popupwindow"),b(p,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),b(p,"class","embeddable-buttondown-form"),b(n,"class","form svelte-1k1s1co")},m(t,f){var h,m,g,b;u(t,n,f),l(n,a),l(a,o),l(n,s),l(n,r),l(r,c),l(n,i),l(n,p),l(p,d),l(d,v),A(v,e[0]),l(d,$),l(d,T),l(p,j),l(p,x),l(p,O),l(p,N),l(N,L),P||(h=v,m="input",g=e[1],h.addEventListener(m,g,b),S=()=>h.removeEventListener(m,g,b),P=!0)},p(t,[e]){1&e&&v.value!==t[0]&&A(v,t[0]),1&e&&_!==(_=!t[0])&&(T.disabled=_)},i:t,o:t,d(t){t&&f(n),P=!1,S()}}}function X(t,e,n){let a;return[a,function(){a=this.value,n(0,a)}]}class tt extends Y{constructor(t){super(),V(this,t,X,Q,r,{})}}function et(t){return x(()=>(setTimeout(()=>{if(window.innerWidth>1080){const t=document.createElement("script");t.async=!0,t.type="text/javascript",t.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",t.id="_carbonads_js",document.body.appendChild(t)}},5e3),()=>{try{const t=document.getElementById("carbonads");t.parentNode.removeChild(t)}catch(t){}})),[]}class nt extends Y{constructor(t){super(),V(this,t,et,null,r,{})}}function at(t,e,n){const a=t.slice();return a[6]=e[n],a}function ot(t,e,n){const a=t.slice();return a[6]=e[n],a}function st(t){let e,n;return{c(){e=h("meta"),this.h()},l(t){e=y(t,"META",{name:!0,content:!0}),this.h()},h(){b(e,"name","keywords"),b(e,"content",n=t[6])},m(t,n){u(t,e,n)},p(t,a){4&a&&n!==(n=t[6])&&b(e,"content",n)},d(t){t&&f(e)}}}function rt(t){let e,n,a=t[6]+"";return{c(){e=h("span"),n=m(a),this.h()},l(t){e=y(t,"SPAN",{class:!0});var o=E(e);n=w(o,a),o.forEach(f),this.h()},h(){b(e,"class","svelte-9tqnza")},m(t,a){u(t,e,a),l(e,n)},p(t,e){4&e&&a!==(a=t[6]+"")&&$(n,a)},d(t){t&&f(e)}}}function ct(t){let e,n,a,o,s,r,d,A,_,j,x,O,N,L,P,S,C,H,M,R,I,D,B,J,V,Y,K,Q,X,et,ct,it,lt,ut,ft,pt,ht=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:t[3],copyrightHolder:t[3],copyrightYear:"2020",creator:t[3],publisher:t[3],description:t[1],headline:t[0],name:t[0],inLanguage:"en"})}<\/script>`,dt=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fdead-code-elimination",name:t[0]},position:2}]})}<\/script>`;document.title=e=t[0]+" | Tan Li Hau";let mt=t[2],gt=[];for(let e=0;e<mt.length;e+=1)gt[e]=st(ot(t,mt,e));B=new Z({});let vt=t[2],bt=[];for(let e=0;e<vt.length;e+=1)bt[e]=rt(at(t,vt,e));const Et=t[5].default,yt=function(t,e,n,a){if(t){const o=c(t,e,n,a);return t[0](o)}}(Et,t,t[4],null);return lt=new tt({}),ft=new nt({}),{c(){n=h("meta"),a=h("meta"),o=h("meta"),s=h("meta"),r=h("meta"),d=h("meta"),A=h("meta"),_=h("meta"),j=h("meta"),x=h("meta"),O=h("meta");for(let t=0;t<gt.length;t+=1)gt[t].c();N=h("meta"),L=h("meta"),S=v(),H=v(),M=g(),R=h("a"),I=m("Skip to content"),D=g(),q(B.$$.fragment),J=g(),V=h("main"),Y=h("h1"),K=m(t[0]),Q=g();for(let t=0;t<bt.length;t+=1)bt[t].c();X=g(),et=h("article"),yt&&yt.c(),ct=g(),it=h("footer"),q(lt.$$.fragment),ut=g(),q(ft.$$.fragment),this.h()},l(e){const c=function(t,e=document.body){return Array.from(e.querySelectorAll(t))}('[data-svelte="svelte-n0q11s"]',document.head);n=y(c,"META",{name:!0,content:!0}),a=y(c,"META",{name:!0,content:!0}),o=y(c,"META",{name:!0,content:!0}),s=y(c,"META",{name:!0,content:!0}),r=y(c,"META",{name:!0,content:!0}),d=y(c,"META",{name:!0,content:!0}),A=y(c,"META",{name:!0,content:!0}),_=y(c,"META",{name:!0,content:!0}),j=y(c,"META",{name:!0,content:!0}),x=y(c,"META",{name:!0,content:!0}),O=y(c,"META",{name:!0,content:!0});for(let t=0;t<gt.length;t+=1)gt[t].l(c);N=y(c,"META",{itemprop:!0,content:!0}),L=y(c,"META",{itemprop:!0,content:!0}),S=v(),H=v(),c.forEach(f),M=k(e),R=y(e,"A",{href:!0,class:!0});var i=E(R);I=w(i,"Skip to content"),i.forEach(f),D=k(e),G(B.$$.fragment,e),J=k(e),V=y(e,"MAIN",{id:!0,class:!0});var l=E(V);Y=y(l,"H1",{});var u=E(Y);K=w(u,t[0]),u.forEach(f),Q=k(l);for(let t=0;t<bt.length;t+=1)bt[t].l(l);X=k(l),et=y(l,"ARTICLE",{});var p=E(et);yt&&yt.l(p),p.forEach(f),l.forEach(f),ct=k(e),it=y(e,"FOOTER",{class:!0});var h=E(it);G(lt.$$.fragment,h),ut=k(h),G(ft.$$.fragment,h),h.forEach(f),this.h()},h(){b(n,"name","description"),b(n,"content",t[1]),b(a,"name","image"),b(a,"content",null),b(o,"name","og:image"),b(o,"content",null),b(s,"name","og:title"),b(s,"content",t[0]),b(r,"name","og:description"),b(r,"content",t[1]),b(d,"name","og:type"),b(d,"content","website"),b(A,"name","twitter:card"),b(A,"content","summary_large_image"),b(_,"name","twitter:creator"),b(_,"content","@lihautan"),b(j,"name","twitter:title"),b(j,"content",t[0]),b(x,"name","twitter:description"),b(x,"content",t[1]),b(O,"name","twitter:image"),b(O,"content",null),b(N,"itemprop","url"),b(N,"content","https%3A%2F%2Flihautan.com%2Fdead-code-elimination"),b(L,"itemprop","image"),b(L,"content",null),P=new T(S),C=new T(H),b(R,"href","#content"),b(R,"class","skip svelte-9tqnza"),b(V,"id","content"),b(V,"class","blog svelte-9tqnza"),b(it,"class","svelte-9tqnza")},m(t,e){l(document.head,n),l(document.head,a),l(document.head,o),l(document.head,s),l(document.head,r),l(document.head,d),l(document.head,A),l(document.head,_),l(document.head,j),l(document.head,x),l(document.head,O);for(let t=0;t<gt.length;t+=1)gt[t].m(document.head,null);l(document.head,N),l(document.head,L),P.m(ht,document.head),l(document.head,S),C.m(dt,document.head),l(document.head,H),u(t,M,e),u(t,R,e),l(R,I),u(t,D,e),z(B,t,e),u(t,J,e),u(t,V,e),l(V,Y),l(Y,K),l(V,Q);for(let t=0;t<bt.length;t+=1)bt[t].m(V,null);l(V,X),l(V,et),yt&&yt.m(et,null),u(t,ct,e),u(t,it,e),z(lt,it,null),l(it,ut),z(ft,it,null),pt=!0},p(t,[a]){if((!pt||1&a)&&e!==(e=t[0]+" | Tan Li Hau")&&(document.title=e),(!pt||2&a)&&b(n,"content",t[1]),(!pt||1&a)&&b(s,"content",t[0]),(!pt||2&a)&&b(r,"content",t[1]),(!pt||1&a)&&b(j,"content",t[0]),(!pt||2&a)&&b(x,"content",t[1]),4&a){let e;for(mt=t[2],e=0;e<mt.length;e+=1){const n=ot(t,mt,e);gt[e]?gt[e].p(n,a):(gt[e]=st(n),gt[e].c(),gt[e].m(N.parentNode,N))}for(;e<gt.length;e+=1)gt[e].d(1);gt.length=mt.length}if((!pt||3&a)&&ht!==(ht=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:t[3],copyrightHolder:t[3],copyrightYear:"2020",creator:t[3],publisher:t[3],description:t[1],headline:t[0],name:t[0],inLanguage:"en"})}<\/script>`)&&P.p(ht),(!pt||1&a)&&dt!==(dt=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fdead-code-elimination",name:t[0]},position:2}]})}<\/script>`)&&C.p(dt),(!pt||1&a)&&$(K,t[0]),4&a){let e;for(vt=t[2],e=0;e<vt.length;e+=1){const n=at(t,vt,e);bt[e]?bt[e].p(n,a):(bt[e]=rt(n),bt[e].c(),bt[e].m(V,X))}for(;e<bt.length;e+=1)bt[e].d(1);bt.length=vt.length}yt&&yt.p&&16&a&&i(yt,Et,t,t[4],a,null,null)},i(t){pt||(F(B.$$.fragment,t),F(yt,t),F(lt.$$.fragment,t),F(ft.$$.fragment,t),pt=!0)},o(t){U(B.$$.fragment,t),U(yt,t),U(lt.$$.fragment,t),U(ft.$$.fragment,t),pt=!1},d(t){f(n),f(a),f(o),f(s),f(r),f(d),f(A),f(_),f(j),f(x),f(O),p(gt,t),f(N),f(L),f(S),t&&P.d(),f(H),t&&C.d(),t&&f(M),t&&f(R),t&&f(D),W(B,t),t&&f(J),t&&f(V),p(bt,t),yt&&yt.d(t),t&&f(ct),t&&f(it),W(lt),W(ft)}}}function it(t,e,n){let{title:a=""}=e,{description:o=""}=e,{tags:s=[]}=e;const r={"@type":"Person",name:"Tan Li Hau"};let{$$slots:c={},$$scope:i}=e;return t.$set=t=>{"title"in t&&n(0,a=t.title),"description"in t&&n(1,o=t.description),"tags"in t&&n(2,s=t.tags),"$$scope"in t&&n(4,i=t.$$scope)},[a,o,s,r,i,c]}class lt extends Y{constructor(t){super(),V(this,t,it,ct,r,{title:0,description:1,tags:2})}}function ut(e){let n,a,o,s,r,c,i,p,d,v,$,A,T,_,j,x,O,N,L,P,S,C,H,M,R,I,D,B,F,U,q,G,z,W,J,V,Y,K,Z,Q,X,tt,et,nt,at,ot,st,rt,ct,it,lt,ut,ft,pt,ht,dt,mt,gt,vt,bt,Et,yt,wt,kt,$t,At,Tt,_t,jt,xt,Ot,Nt,Lt,Pt,St,Ct,Ht,Mt,Rt,It,Dt,Bt,Ft,Ut,qt,Gt,zt,Wt,Jt,Vt,Yt,Kt,Zt,Qt,Xt,te,ee,ne,ae,oe,se,re,ce,ie,le,ue,fe,pe,he,de,me,ge,ve,be,Ee,ye,we,ke;return{c(){n=h("p"),a=m("Imagine you have the code below:"),o=g(),s=h("pre"),r=g(),c=h("p"),i=m("after passing this code through "),p=h("a"),d=m("uglify-js"),v=m(", you will get the code below:"),$=g(),A=h("pre"),T=g(),_=h("p"),j=h("strong"),x=m("uglify-js"),O=m(" will do dead code removal, ie: it will remove code that will not affect the program results. Since we defined "),N=h("code"),L=m("a"),P=m(" and "),S=h("code"),C=m("b"),H=m(" in the function "),M=h("code"),R=m("foo"),I=m(" and we are not using "),D=h("code"),B=m("a"),F=m(" and "),U=h("code"),q=m("b"),G=m(" within the "),z=h("code"),W=m("foo"),J=m(", "),V=h("strong"),Y=m("uglify-js"),K=m(" safely removes it from the uglified code."),Z=g(),Q=h("p"),X=m("However, if you can see from the uglified code, "),tt=h("code"),et=m("foobar()"),nt=m(" is preserved. This is because calling "),at=h("code"),ot=m("foobar"),st=m(" may have side effects on the program, so "),rt=h("strong"),ct=m("uglify-js"),it=m(" preserves foobar(). But since we do not need the return value of "),lt=h("code"),ut=m("foobar()"),ft=m(", which is assigned to "),pt=h("code"),ht=m("a"),dt=m(", "),mt=h("code"),gt=m("a"),vt=m(" got removed by uglify-js."),bt=g(),Et=h("hr"),yt=g(),wt=h("p"),kt=m("What if we know that "),$t=h("code"),At=m("foobar()"),Tt=m(" will not caused any side effects?"),_t=g(),jt=h("p"),xt=m("How do we tell "),Ot=h("strong"),Nt=m("uglify-js"),Lt=m(" that if we are not using the return value from "),Pt=h("code"),St=m("foobar()"),Ct=m(", please remove it as well?"),Ht=g(),Mt=h("hr"),Rt=g(),It=h("p"),Dt=m("Turns out that "),Bt=h("strong"),Ft=m("uglify-js"),Ut=m(" will treat a function call as “pure” if there is a comment annotation "),qt=h("code"),Gt=m("/*@__PURE__*/"),zt=m(" or "),Wt=h("code"),Jt=m("/*#__PURE__*/"),Vt=m(" immediately precedes the call."),Yt=g(),Kt=h("p"),Zt=m("For example: "),Qt=h("code"),Xt=m("/* @__PURE__ */ foobar()"),te=m(" !"),ee=g(),ne=h("pre"),ae=g(),oe=h("p"),se=m("Note that now "),re=h("code"),ce=m("foobar()"),ie=m(" is being removed!"),le=g(),ue=h("hr"),fe=g(),pe=h("p"),he=m("So, how is this useful?"),de=g(),me=h("p"),ge=m("As a library author, you can write a babel plugin to mark your function to be pure, so that "),ve=h("strong"),be=m("uglify-js"),Ee=m(" can drop the function call if the return value is not being used in the code. (There is a "),ye=h("a"),we=m("util from babel"),ke=m(" to do just the job of marking function as pure 😎)"),this.h()},l(t){n=y(t,"P",{});var e=E(n);a=w(e,"Imagine you have the code below:"),e.forEach(f),o=k(t),s=y(t,"PRE",{class:!0}),E(s).forEach(f),r=k(t),c=y(t,"P",{});var l=E(c);i=w(l,"after passing this code through "),p=y(l,"A",{href:!0,rel:!0});var u=E(p);d=w(u,"uglify-js"),u.forEach(f),v=w(l,", you will get the code below:"),l.forEach(f),$=k(t),A=y(t,"PRE",{class:!0}),E(A).forEach(f),T=k(t),_=y(t,"P",{});var h=E(_);j=y(h,"STRONG",{});var m=E(j);x=w(m,"uglify-js"),m.forEach(f),O=w(h," will do dead code removal, ie: it will remove code that will not affect the program results. Since we defined "),N=y(h,"CODE",{});var g=E(N);L=w(g,"a"),g.forEach(f),P=w(h," and "),S=y(h,"CODE",{});var b=E(S);C=w(b,"b"),b.forEach(f),H=w(h," in the function "),M=y(h,"CODE",{});var $e=E(M);R=w($e,"foo"),$e.forEach(f),I=w(h," and we are not using "),D=y(h,"CODE",{});var Ae=E(D);B=w(Ae,"a"),Ae.forEach(f),F=w(h," and "),U=y(h,"CODE",{});var Te=E(U);q=w(Te,"b"),Te.forEach(f),G=w(h," within the "),z=y(h,"CODE",{});var _e=E(z);W=w(_e,"foo"),_e.forEach(f),J=w(h,", "),V=y(h,"STRONG",{});var je=E(V);Y=w(je,"uglify-js"),je.forEach(f),K=w(h," safely removes it from the uglified code."),h.forEach(f),Z=k(t),Q=y(t,"P",{});var xe=E(Q);X=w(xe,"However, if you can see from the uglified code, "),tt=y(xe,"CODE",{});var Oe=E(tt);et=w(Oe,"foobar()"),Oe.forEach(f),nt=w(xe," is preserved. This is because calling "),at=y(xe,"CODE",{});var Ne=E(at);ot=w(Ne,"foobar"),Ne.forEach(f),st=w(xe," may have side effects on the program, so "),rt=y(xe,"STRONG",{});var Le=E(rt);ct=w(Le,"uglify-js"),Le.forEach(f),it=w(xe," preserves foobar(). But since we do not need the return value of "),lt=y(xe,"CODE",{});var Pe=E(lt);ut=w(Pe,"foobar()"),Pe.forEach(f),ft=w(xe,", which is assigned to "),pt=y(xe,"CODE",{});var Se=E(pt);ht=w(Se,"a"),Se.forEach(f),dt=w(xe,", "),mt=y(xe,"CODE",{});var Ce=E(mt);gt=w(Ce,"a"),Ce.forEach(f),vt=w(xe," got removed by uglify-js."),xe.forEach(f),bt=k(t),Et=y(t,"HR",{}),yt=k(t),wt=y(t,"P",{});var He=E(wt);kt=w(He,"What if we know that "),$t=y(He,"CODE",{});var Me=E($t);At=w(Me,"foobar()"),Me.forEach(f),Tt=w(He," will not caused any side effects?"),He.forEach(f),_t=k(t),jt=y(t,"P",{});var Re=E(jt);xt=w(Re,"How do we tell "),Ot=y(Re,"STRONG",{});var Ie=E(Ot);Nt=w(Ie,"uglify-js"),Ie.forEach(f),Lt=w(Re," that if we are not using the return value from "),Pt=y(Re,"CODE",{});var De=E(Pt);St=w(De,"foobar()"),De.forEach(f),Ct=w(Re,", please remove it as well?"),Re.forEach(f),Ht=k(t),Mt=y(t,"HR",{}),Rt=k(t),It=y(t,"P",{});var Be=E(It);Dt=w(Be,"Turns out that "),Bt=y(Be,"STRONG",{});var Fe=E(Bt);Ft=w(Fe,"uglify-js"),Fe.forEach(f),Ut=w(Be," will treat a function call as “pure” if there is a comment annotation "),qt=y(Be,"CODE",{});var Ue=E(qt);Gt=w(Ue,"/*@__PURE__*/"),Ue.forEach(f),zt=w(Be," or "),Wt=y(Be,"CODE",{});var qe=E(Wt);Jt=w(qe,"/*#__PURE__*/"),qe.forEach(f),Vt=w(Be," immediately precedes the call."),Be.forEach(f),Yt=k(t),Kt=y(t,"P",{});var Ge=E(Kt);Zt=w(Ge,"For example: "),Qt=y(Ge,"CODE",{});var ze=E(Qt);Xt=w(ze,"/* @__PURE__ */ foobar()"),ze.forEach(f),te=w(Ge," !"),Ge.forEach(f),ee=k(t),ne=y(t,"PRE",{class:!0}),E(ne).forEach(f),ae=k(t),oe=y(t,"P",{});var We=E(oe);se=w(We,"Note that now "),re=y(We,"CODE",{});var Je=E(re);ce=w(Je,"foobar()"),Je.forEach(f),ie=w(We," is being removed!"),We.forEach(f),le=k(t),ue=y(t,"HR",{}),fe=k(t),pe=y(t,"P",{});var Ve=E(pe);he=w(Ve,"So, how is this useful?"),Ve.forEach(f),de=k(t),me=y(t,"P",{});var Ye=E(me);ge=w(Ye,"As a library author, you can write a babel plugin to mark your function to be pure, so that "),ve=y(Ye,"STRONG",{});var Ke=E(ve);be=w(Ke,"uglify-js"),Ke.forEach(f),Ee=w(Ye," can drop the function call if the return value is not being used in the code. (There is a "),ye=y(Ye,"A",{href:!0,rel:!0});var Ze=E(ye);we=w(Ze,"util from babel"),Ze.forEach(f),ke=w(Ye," to do just the job of marking function as pure 😎)"),Ye.forEach(f),this.h()},h(){b(s,"class","language-js"),b(p,"href","https://www.npmjs.com/package/uglify-js"),b(p,"rel","nofollow"),b(A,"class","language-js"),b(ne,"class","language-js"),b(ye,"href","https://babeljs.io/docs/en/next/babel-helper-annotate-as-pure.html"),b(ye,"rel","nofollow")},m(t,e){u(t,n,e),l(n,a),u(t,o,e),u(t,s,e),s.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n   <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n   <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>\n   <span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',u(t,r,e),u(t,c,e),l(c,i),l(c,p),l(p,d),l(c,v),u(t,$,e),u(t,A,e),A.innerHTML='<code class="language-js"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>\n  <span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span></code>',u(t,T,e),u(t,_,e),l(_,j),l(j,x),l(_,O),l(_,N),l(N,L),l(_,P),l(_,S),l(S,C),l(_,H),l(_,M),l(M,R),l(_,I),l(_,D),l(D,B),l(_,F),l(_,U),l(U,q),l(_,G),l(_,z),l(z,W),l(_,J),l(_,V),l(V,Y),l(_,K),u(t,Z,e),u(t,Q,e),l(Q,X),l(Q,tt),l(tt,et),l(Q,nt),l(Q,at),l(at,ot),l(Q,st),l(Q,rt),l(rt,ct),l(Q,it),l(Q,lt),l(lt,ut),l(Q,ft),l(Q,pt),l(pt,ht),l(Q,dt),l(Q,mt),l(mt,gt),l(Q,vt),u(t,bt,e),u(t,Et,e),u(t,yt,e),u(t,wt,e),l(wt,kt),l(wt,$t),l($t,At),l(wt,Tt),u(t,_t,e),u(t,jt,e),l(jt,xt),l(jt,Ot),l(Ot,Nt),l(jt,Lt),l(jt,Pt),l(Pt,St),l(jt,Ct),u(t,Ht,e),u(t,Mt,e),u(t,Rt,e),u(t,It,e),l(It,Dt),l(It,Bt),l(Bt,Ft),l(It,Ut),l(It,qt),l(qt,Gt),l(It,zt),l(It,Wt),l(Wt,Jt),l(It,Vt),u(t,Yt,e),u(t,Kt,e),l(Kt,Zt),l(Kt,Qt),l(Qt,Xt),l(Kt,te),u(t,ee,e),u(t,ne,e),ne.innerHTML='<code class="language-js"><span class="token comment">// before uglify</span>\n<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>\n  <span class="token comment">// highlight-next-line</span>\n  <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token comment">/*@__PURE__*/</span><span class="token function">foobar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>\n  <span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">;</span>\n<span class="token punctuation">&#125;</span>\n\n<span class="token comment">// after uglify</span>\n<span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token number">10</span><span class="token punctuation">&#125;</span></code>',u(t,ae,e),u(t,oe,e),l(oe,se),l(oe,re),l(re,ce),l(oe,ie),u(t,le,e),u(t,ue,e),u(t,fe,e),u(t,pe,e),l(pe,he),u(t,de,e),u(t,me,e),l(me,ge),l(me,ve),l(ve,be),l(me,Ee),l(me,ye),l(ye,we),l(me,ke)},p:t,d(t){t&&f(n),t&&f(o),t&&f(s),t&&f(r),t&&f(c),t&&f($),t&&f(A),t&&f(T),t&&f(_),t&&f(Z),t&&f(Q),t&&f(bt),t&&f(Et),t&&f(yt),t&&f(wt),t&&f(_t),t&&f(jt),t&&f(Ht),t&&f(Mt),t&&f(Rt),t&&f(It),t&&f(Yt),t&&f(Kt),t&&f(ee),t&&f(ne),t&&f(ae),t&&f(oe),t&&f(le),t&&f(ue),t&&f(fe),t&&f(pe),t&&f(de),t&&f(me)}}}function ft(t){let n,a;const o=[pt];let s={$$slots:{default:[ut]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)s=e(s,o[t]);return n=new lt({props:s}),{c(){q(n.$$.fragment)},l(t){G(n.$$.fragment,t)},m(t,e){z(n,t,e),a=!0},p(t,[e]){const a=0&e?function(t,e){const n={},a={},o={$$scope:1};let s=t.length;for(;s--;){const r=t[s],c=e[s];if(c){for(const t in r)t in c||(a[t]=1);for(const t in c)o[t]||(n[t]=c[t],o[t]=1);t[s]=c}else for(const t in r)o[t]=1}for(const t in a)t in n||(n[t]=void 0);return n}(o,[(s=pt,"object"==typeof s&&null!==s?s:{})]):{};var s;1&e&&(a.$$scope={dirty:e,ctx:t}),n.$set(a)},i(t){a||(F(n.$$.fragment,t),a=!0)},o(t){U(n.$$.fragment,t),a=!1},d(t){W(n,t)}}}const pt={title:"Dead-code elimination",date:"2018-10-24T08:00:00Z",description:"How to hint uglify-js that your function is pure",slug:"dead-code-elimination",type:"blog"};class ht extends Y{constructor(t){super(),V(this,t,null,ft,r,{})}}setTimeout(()=>{new ht({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const t=document.createElement("script");t.async=!0,t.src="https://platform.twitter.com/widgets.js",t.charset="utf-8",document.body.appendChild(t)}},3e3);
