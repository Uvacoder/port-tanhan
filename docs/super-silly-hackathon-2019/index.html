<!DOCTYPE html>
<html lang="en">

<head>
  <meta charSet="utf-8" />
  <meta http-equiv="x-ua-compatible" content="ie=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <link href="https://lihautan.com" rel="me">
  <link href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,300;0,400;0,700;1,300&display=swap"
    rel="stylesheet">
  <style>
    html {
      font-family: 'Lato', sans-serif;
      font-weight: 300;
      font-size: 19px;
      background: linear-gradient(0deg, transparent, #bd93f917, transparent);
    }

    html,
    body {
      margin: 0;
      padding: 0;
    }

    :root {
      --prism-padding: 20px;
      --margin: 1.62em;
      --box-shadow-size: 6px;
      --box-shadow: var(--box-shadow-size) var(--box-shadow-size) var(--primary-color);
      --box-shadow-hover: 10px 10px var(--primary-color);
      --easing: 200ms ease-in-out;
      --primary-color: #bd93f9;
      --secondary-color: #9547b7;
      --dark-color: #282936;
    }
  </style>

  
  <title>Super Silly Hackathon 2019 | Tan Li Hau</title><link href="http://127.0.0.1:8080/super-silly-hackathon-2019/assets/_blog-299aa480.css" rel="stylesheet" data-svelte="svelte-1k4ncsr"><meta name="description" content="A quick walkthrough on how I created my pet in the browser for the Super Silly Hackathon 2019." data-svelte="svelte-1k4ncsr"><meta name="image" data-svelte="svelte-1k4ncsr"><meta name="og:image" data-svelte="svelte-1k4ncsr"><meta name="og:title" content="Super Silly Hackathon 2019" data-svelte="svelte-1k4ncsr"><meta name="og:description" content="A quick walkthrough on how I created my pet in the browser for the Super Silly Hackathon 2019." data-svelte="svelte-1k4ncsr"><meta name="og:type" content="website" data-svelte="svelte-1k4ncsr"><meta name="twitter:card" content="summary_large_image" data-svelte="svelte-1k4ncsr"><meta name="twitter:creator" content="@lihautan" data-svelte="svelte-1k4ncsr"><meta name="twitter:title" content="Super Silly Hackathon 2019" data-svelte="svelte-1k4ncsr"><meta name="twitter:description" content="A quick walkthrough on how I created my pet in the browser for the Super Silly Hackathon 2019." data-svelte="svelte-1k4ncsr"><meta name="twitter:image" data-svelte="svelte-1k4ncsr"><meta name="keywords" content="JavaScript" data-svelte="svelte-1k4ncsr"><meta name="keywords" content="blog" data-svelte="svelte-1k4ncsr"><meta name="keywords" content="hackathon" data-svelte="svelte-1k4ncsr"><meta itemprop="url" content="http%3A%2F%2F127.0.0.1%3A8080%2Fsuper-silly-hackathon-2019" data-svelte="svelte-1k4ncsr"><meta itemprop="image" data-svelte="svelte-1k4ncsr"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","author":{"@type":"Person","name":"Tan Li Hau"},"copyrightHolder":{"@type":"Person","name":"Tan Li Hau"},"copyrightYear":"2020","creator":{"@type":"Person","name":"Tan Li Hau"},"publisher":{"@type":"Person","name":"Tan Li Hau"},"description":"A quick walkthrough on how I created my pet in the browser for the Super Silly Hackathon 2019.","headline":"Super Silly Hackathon 2019","name":"Super Silly Hackathon 2019","inLanguage":"en"}</script><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","description":"Breadcrumbs list","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","item":{"@id":"https://lihautan.com","name":"Homepage"},"position":1},{"@type":"ListItem","item":{"@id":"http%3A%2F%2F127.0.0.1%3A8080%2Fsuper-silly-hackathon-2019","name":"Super Silly Hackathon 2019"},"position":2}]}</script><link as="script" rel="preload" href="./0aff92ed.js"><link as="style" rel="preload" href="./assets%2F_blog-299aa480.css"><link as="style" rel="preload" href="./0aff92ed.css"><link href="./assets%2F_blog-299aa480.css" rel="stylesheet"><link href="./0aff92ed.css" rel="stylesheet">
</head>

<body>
  <div id="app">

<a href="#content" class="skip svelte-2w4dum">Skip to content</a>
<header class="svelte-f3e4uo"><nav><ul class="svelte-f3e4uo"><li class="svelte-f3e4uo"><a href="/" class="svelte-f3e4uo">Tan Li Hau</a></li>
    <li class="svelte-f3e4uo"><a href="/about" class="svelte-f3e4uo">About</a></li>
    <li class="svelte-f3e4uo"><a href="/blogs" class="svelte-f3e4uo">Writings</a></li>
    <li class="svelte-f3e4uo"><a href="/talks" class="svelte-f3e4uo">Talks</a></li>
    <li class="svelte-f3e4uo"><a href="/notes" class="svelte-f3e4uo">Notes</a></li>
    <li class="svelte-f3e4uo"><a href="/newsletter" class="svelte-f3e4uo">Newsletter</a></li>
    <li class="social svelte-f3e4uo"><a href="https://twitter.com/lihautan" class="svelte-f3e4uo"><svg viewBox="0 0 24 24" class="svelte-f3e4uo"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66
    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5
    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg></a>
      <a href="https://github.com/tanhauhau" class="svelte-f3e4uo"><svg viewBox="0 0 24 24" class="svelte-f3e4uo"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0
    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07
    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65
    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42
    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg></a></li></ul></nav>
</header>

<main id="content" class="blog svelte-2w4dum"><h1>Super Silly Hackathon 2019</h1>
  
  <span class="svelte-2w4dum">JavaScript</span><span class="svelte-2w4dum">blog</span><span class="svelte-2w4dum">hackathon</span>

  <article><section><ul class="sitemap" id="sitemap" role="navigation" aria-label="Table of Contents"><li><a href="#inspiration">Inspiration?</a></li><li><a href="#what-can-it-do">What can it do?</a></li><ul><ul><li><a href="#it-runs-away-from-mouse-cursor">1. It runs away from mouse cursor</a></li><li><a href="#it-eats-whatever-you-try-to-type-into-an-input">2. It eats whatever you try to type into an input</a></li><li><a href="#it-annihilates-the-buttons-you-hover-onto">3. It annihilates the buttons you hover onto</a></li></ul></ul><li><a href="#implementation">Implementation</a></li><ul><li><a href="#chrome-extension">Chrome Extension</a></li><ul><li><a href="#add-web-accessible-resources-into-the-manifest-json">1. Add  web_accessible_resources  into the  manifest.json</a></li><li><a href="#prepend-chrome-extension-msg-extension-id-for-the-url">2. Prepend  chrome-extension://__MSG_@@extension_id__/  for the URL</a></li></ul><li><a href="#make-it-look-alive">Make it look alive</a></li><li><a href="#avoid-the-cursor">Avoid the cursor</a></li><li><a href="#eating-the-characters">Eating the characters</a></li><li><a href="#annihilate-the-buttons">Annihilate the buttons</a></li></ul><li><a href="#difficulties">Difficulties</a></li><ul><li><a href="#synchronising-interactions">Synchronising interactions</a></li><li><a href="#developing-locally">Developing locally</a></li><ul><li><a href="#postcss-script">PostCSS script</a></li></ul></ul><li><a href="#demo">Demo</a></li><li><a href="#summary">Summary</a></li></ul></section>
<p>I just came back from the <a href="https://supersillyhackathon.sg/" rel="nofollow">Super Silly Hackathon 2019</a>. It was my second time to participate in this Super Silly Hackathon.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">Hello everybody we are ready for this year, are you?? <a href="https://t.co/lem52qHO6Q">pic.twitter.com/lem52qHO6Q</a></p>— Super Silly Hackathon — 14 Dec 2019 (@supersillyhack) <a href="https://twitter.com/supersillyhack/status/1205671402432450563?ref_src=twsrc%5Etfw">December 14, 2019</a></blockquote>
<p>This year, my silly hackathon idea is to build <a href="https://github.com/tanhauhau/browser-pet" rel="nofollow">a little pet in the browser</a>!</p>
<p><img src="2f89d18a8952b14c.gif" alt="rest"></p>
<section><h2><a href="#inspiration" id="inspiration">Inspiration?</a></h2>
<p>I saw the <a href="https://github.com/graceavery/tamagotchiTemp" rel="nofollow">tamagotchi</a> on touchbar a while ago, I don&#39;t have a touchbar, but I have a browser. So why not create a pet in the browser through Chrome Extension?</p></section>
<section><h2><a href="#what-can-it-do" id="what-can-it-do">What can it do?</a></h2></section>
<section><h4><a href="#it-runs-away-from-mouse-cursor" id="it-runs-away-from-mouse-cursor">1. It runs away from mouse cursor</a></h4>
<p><img src="0176ecb69ec20d12.gif" alt="evade"></p></section>
<section><h4><a href="#it-eats-whatever-you-try-to-type-into-an-input" id="it-eats-whatever-you-try-to-type-into-an-input">2. It eats whatever you try to type into an input</a></h4>
<p><img src="e187d1f56cc116c3.gif" alt="eat"></p></section>
<section><h4><a href="#it-annihilates-the-buttons-you-hover-onto" id="it-annihilates-the-buttons-you-hover-onto">3. It annihilates the buttons you hover onto</a></h4>
<p><img src="3a6793d23b3282f2.gif" alt="annihilate"></p></section>
<section><h2><a href="#implementation" id="implementation">Implementation</a></h2></section>
<section><h3><a href="#chrome-extension" id="chrome-extension">Chrome Extension</a></h3>
<p>Firstly, it is a Chrome Extension. I used <a href="https://developer.chrome.com/extensions/content_scripts" rel="nofollow">Content Scripts</a>, so that I have access to the DOM of the pages I am visiting.</p>
<p>Here is my <code>manifest.json</code> for my extension:</p>
<pre class="language-json">
<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token property">"manifest_version"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Super Silly Hackathon"</span><span class="token punctuation">,</span>
  <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Super Silly Hackathon"</span><span class="token punctuation">,</span>
  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
  <span class="token property">"content_scripts"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">&#123;</span>
      <span class="token property">"matches"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"&lt;all_urls>"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"js"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"content.js"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"css"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"content-ext.css"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token property">"run_at"</span><span class="token operator">:</span> <span class="token string">"document_start"</span><span class="token punctuation">,</span>
      <span class="token property">"all_frames"</span><span class="token operator">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>To start, I added an <code>onload</code> event, to add my pet into the browser:</p>
<pre class="language-js">
<code class="language-js"><span class="token comment">// filename: content.js</span>
<span class="token keyword">function</span> <span class="token function">onload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> pet <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">updatePosition</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token string">'ssh-pet'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">appendChild</span><span class="token punctuation">(</span>pet<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> onload<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="language-css">
<code class="language-css"><span class="token comment">/* filename: content.css */</span>
<span class="token selector"><span class="token class">.ssh-pet</span></span> <span class="token punctuation">&#123;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">1000</span><span class="token punctuation">;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>'/images/rest.png'<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> <span class="token number">30</span><span class="token unit">px</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>The first problem I encountered, is that I couldn&#39;t access the <code>/images/rest.png</code>. After some googling, I need to:</p></section>
<section><h4><a href="#add-web-accessible-resources-into-the-manifest-json" id="add-web-accessible-resources-into-the-manifest-json">1. Add <code>web_accessible_resources</code> into the <code>manifest.json</code></a></h4>
<pre class="language-json">
<code class="language-json"><span class="token punctuation">&#123;</span>
  <span class="token comment">// ...</span>
  <span class="token property">"web_accessible_resources"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"images/*"</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span></code></pre></section>
<section><h4><a href="#prepend-chrome-extension-msg-extension-id-for-the-url" id="prepend-chrome-extension-msg-extension-id-for-the-url">2. Prepend <code>chrome-extension://__MSG_@@extension_id__/</code> for the URL</a></h4>
<pre class="language-css">
<code class="language-css"><span class="token selector"><span class="token class">.ssh-pet</span></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">/* ... */</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">'chrome-extension://__MSG_@@extension_id__/images/rest.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></section>
<section><h3><a href="#make-it-look-alive" id="make-it-look-alive">Make it look alive</a></h3>
<p>A static image will look fake.</p>
<p>As the quote says, <strong>&quot;eyes is the window to the soul&quot;</strong>, to make the pet look real, we need to make the eye blink.</p>
<p><em>(That&#39;s how you judge a person is dead or alive in movies right? Dead body will just stare blankly to nowhere)</em></p>
<p>To make the pet blink, I found some <a href="https://blog.teamtreehouse.com/css-sprite-sheet-animations-steps" rel="nofollow">useful tutorials</a> on how to create CSS sprite sheet animations.</p>
<p><img src="fe876ff9778d7618.png" alt="spritesheet for resting" title="Sprite Sheet for Resting"></p>
<pre class="language-css">
<code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> ssh-pet-rest</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background-position-x</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background-position-x</span><span class="token punctuation">:</span> <span class="token number">-90</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector"><span class="token class">.ssh-pet.rest</span></span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">url</span><span class="token punctuation">(</span><span class="token string">'chrome-extension://__MSG_@@extension_id__/images/rest-sprite.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">background-repeat</span><span class="token punctuation">:</span> repeat-x<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> <span class="token number">90</span><span class="token unit">px</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> ssh-pet-rest <span class="token number">0.2</span><span class="token unit">s</span> <span class="token function">steps</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>To animate it, I added the <code>rest</code> class to the pet, and removed it when it&#39;s done animating.</p>
<pre class="language-js">
<code class="language-js">pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token string">'rest'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// when the animation finished, remove the class</span>
<span class="token keyword">const</span> <span class="token function-variable function">onanimationend</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
  pet<span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'animationend'</span><span class="token punctuation">,</span> onanimationend<span class="token punctuation">)</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'rest'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
pet<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'animationend'</span><span class="token punctuation">,</span> onanimationend<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>At the beginning, I thought I would add more other micro expressions to the pet, so I wrote a scheduler, to schedule expressions randomly:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token parameter">random</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>random<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>
    <span class="token comment">// ...</span>
    <span class="token keyword module">default</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token function">animateRest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">scheduleSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> choices <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token comment">// cheat to do Math.floor</span>
    <span class="token keyword">const</span> random <span class="token operator">=</span> <span class="token operator">~</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> choices<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">doSomething</span><span class="token punctuation">(</span>random<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">scheduleSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">800</span> <span class="token operator">+</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// make animation promise based</span>
<span class="token keyword">function</span> <span class="token function">animateRest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token string">'rest'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token parameter">cls</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
    pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">onanimationend</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
      pet<span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'animationend'</span><span class="token punctuation">,</span> onanimationend<span class="token punctuation">)</span><span class="token punctuation">;</span>
      pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    pet<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'animationend'</span><span class="token punctuation">,</span> onanimationend<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>I used <code>await</code> to wait for animation to finish, before schedule the next action again, so that it will not have 2 actions running in parallel.</p></section>
<section><h3><a href="#avoid-the-cursor" id="avoid-the-cursor">Avoid the cursor</a></h3>
<p>I drew a sprite sheet that make the pet looks like it is squiggling away,</p>
<p><img src="8d653e6dd15ecdf5.gif" alt="shift"></p>
<p>while at the same time set the <code>transform: translateX()</code> to actually move it:</p>
<pre class="language-css">
<code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> ssh-pet-shift-left</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background-position-x</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">/* highlight-next-line */</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background-position-x</span><span class="token punctuation">:</span> <span class="token number">-240</span><span class="token unit">px</span><span class="token punctuation">;</span>
    <span class="token comment">/* highlight-next-line */</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">-30</span><span class="token unit">px</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector"><span class="token class">.ssh-pet.shift-left</span></span> <span class="token punctuation">&#123;</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>'/images/shift-left-sprite.png'<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
  <span class="token property">background-repeat</span><span class="token punctuation">:</span> repeat-x<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> <span class="token number">240</span><span class="token unit">px</span> <span class="token number">30</span><span class="token unit">px</span><span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> ssh-pet-shift-left <span class="token number">0.8</span><span class="token unit">s</span> <span class="token function">steps</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>In JavaScript, I tried to keep the position state inside an object:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token punctuation">&#123;</span> x<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> y<span class="token punctuation">;</span> <span class="token number">0</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">offsetPosition</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">updatePosition</span><span class="token punctuation">(</span>position<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">+</span> x<span class="token punctuation">,</span> position<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">updatePosition</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">left</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">=</span> x<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">top</span> <span class="token operator">=</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span><span class="token property-access">y</span> <span class="token operator">=</span> y<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'px'</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>So, to shift away from the cursor would be:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">animateShiftLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">await</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">&#96;</span><span class="token string">shift-left</span><span class="token template-punctuation string">&#96;</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">offsetPosition</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>So, when the animation ends, the <code>transform: translateX()</code> will go from <code>-30px</code> back to <code>0</code>, and at the same time, I moved the position of the pet <code>-30px</code> in x-axis.</p>
<p>To know when the cursor is on top of the pet, I used <code>mousemove</code> event:</p>
<pre class="language-js">
<code class="language-js">pet<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token parameter">event</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>animating<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    animating <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">shiftAway</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    animating <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// edge avoidance shifting</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">shiftAway</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">&lt;</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">await</span> <span class="token function">animateShiftRight</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>position<span class="token punctuation">.</span><span class="token property-access">x</span> <span class="token operator">></span> <span class="token dom variable">window</span><span class="token punctuation">.</span><span class="token property-access">innerWidth</span> <span class="token operator">-</span> <span class="token number">40</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">await</span> <span class="token function">animateShiftLeft</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">await</span> <span class="token function">animateShiftLeft</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">await</span> <span class="token function">animateShiftRight</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>To avoid reanimate while still animate, I added a <code>animating</code> flag, as an mutex.</p>
<p>Besides, it would be weird to see the pet shifting pass through the browser window, because that way, you would never be able to interact with it anymore 😢</p></section>
<section><h3><a href="#eating-the-characters" id="eating-the-characters">Eating the characters</a></h3>
<p>To know when someone is typing into any of the input box, I attach an <code>input</code> event listener on to the <code>document.body</code>:</p>
<pre class="language-js">
<code class="language-js"><span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token property-access">body</span><span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'input'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token parameter">event</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token function">debounceByElement</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">,</span> eatInputValue<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>There maybe multiple <code>&lt;input /&gt;</code> on the page, so I created a debounce function for each <code>&lt;input /&gt;</code>.</p>
<p>To make the eating simple, I will always eat from the left, consuming characters from left to right:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">function</span> <span class="token function">eatInputValue</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  elem<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">debounceByElement</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">,</span> eatInputValue<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>However naively eating the characters this way, will screw up your cursor position / selection.
So I googled and pasted the code snippet to improve it:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">function</span> <span class="token function">eatInputValue</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// highlight-start</span>
  <span class="token comment">// remember selection position</span>
  <span class="token keyword">const</span> start <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">selectionStart</span><span class="token punctuation">,</span>
    end <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">selectionEnd</span><span class="token punctuation">;</span>
  <span class="token comment">// highlight-end</span>
  elem<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// highlight-start</span>
  <span class="token comment">// restore selection position</span>
  elem<span class="token punctuation">.</span><span class="token method function property-access">setSelectionRange</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span>start <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span>end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// highlight-end</span>

  <span class="token function">debounceByElement</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">,</span> eatInputValue<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>After able to &quot;eat&quot; the characters, I need to animate the pet eating the characters</p>
<p><img src="434323b610ecc648.png" alt="spritesheet for eating" title="Sprite Sheet for Eating"></p>
<p>To align the eating with the removing of a character, I split the animation into 2 parts, <strong>the eating</strong> and <strong>the chewing</strong> <em>(I named it digesting during the hackathon)</em>.</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">function</span> <span class="token function">eatInputValue</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// highlight-next-line</span>
  <span class="token keyword">await</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token string">'eat'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> start <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">selectionStart</span><span class="token punctuation">,</span>
    end <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">selectionEnd</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">slice</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span><span class="token method function property-access">setSelectionRange</span><span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span>start <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">max</span><span class="token punctuation">(</span>end <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// highlight-next-line</span>
  <span class="token keyword">await</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token string">'digest'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">debounceByElement</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token property-access">target</span><span class="token punctuation">,</span> eatInputValue<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>To make it more realistic, I tried to make the pet tilt forward, while consuming the character:</p>
<pre class="language-css">
<code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> ssh-pet-eat-move</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">0%,
  30%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token unit">px</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>The pixel values had been tuned to make the movement subtle, yet natural.</p>
<p>Now, how do I place my pet to the left of the input?</p>
<p>Instead of squiggle to the right position, I made the pet <strong>teleport</strong>!</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">animateTeleport</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">await</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token string">'disappear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">opacity</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token function">updatePosition</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">opacity</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token string">'reappear'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>To calculate the teleport destination, I used <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect" rel="nofollow">getBoundingClientRect()</a>:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">function</span> <span class="token function">leftSideOf</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> height <span class="token punctuation">&#125;</span> <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token method function property-access">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> to_x <span class="token operator">=</span> x <span class="token operator">-</span> pet<span class="token punctuation">.</span><span class="token property-access">size</span><span class="token punctuation">.</span><span class="token property-access">width</span> <span class="token operator">+</span> <span class="token function">paddingLeft</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> to_y <span class="token operator">=</span> y <span class="token operator">+</span> height <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> pet<span class="token punctuation">.</span><span class="token property-access">size</span><span class="token punctuation">.</span><span class="token property-access">height</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">[</span>to_x<span class="token punctuation">,</span> to_y<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">paddingLeft</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token known-class-name class-name">Number</span><span class="token punctuation">(</span>
      <span class="token dom variable">window</span>
        <span class="token punctuation">.</span><span class="token method function property-access">getComputedStyle</span><span class="token punctuation">(</span>elem<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">'padding-left'</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/px|r?em/</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>The padding of the input is important. It brings the pet closer to the character it is going to eat. 🤤</p></section>
<section><h3><a href="#annihilate-the-buttons" id="annihilate-the-buttons">Annihilate the buttons</a></h3>
<p>Pet don&#39;t like buttons because buttons take away your concentration from your pet.</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMTgwMTE3NDA3MjA2ODExODA4M0VGM0VGRTJEMDgyMyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGOUUwRkQwMjE2NjIxMUVBQTE5M0Q5NjEyNUVERjBERSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGOUUwRkQwMTE2NjIxMUVBQTE5M0Q5NjEyNUVERjBERSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MEE4MDExNzQwNzIwNjgxMTgwODNFRjNFRkUyRDA4MjMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDE4MDExNzQwNzIwNjgxMTgwODNFRjNFRkUyRDA4MjMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4sCV/fAAADAFBMVEWLi4uioqIrFy/Vg+rV1dVoaGjEhtPtV2+6V9LXAADZZbq7u7uRkZH9+f7IAADXdtnKysq2Rlvjq/GpeLXzAAC4AADFctrz2/n14vp8fHyrq6vtyvbc3Nz57fyGTZPs7OyysrKAgIDbk+zk5OTsAAB3RIPEY9ynAADdmu6ecammpqbqw/SHAAD4+PiWAAC1Vc3zKCzjAADMUrDQeOZHAAC7j8b68PzOzs7lsvLsaI/OsNaGhoaZmZlpPXRWAAD8AABzc3PpvPPNeeJ1AAD+/P709PQYAADZjOvIc935AADceM2oYbp1andmAAA4AABaNGSXR6ukfq3CcNeUgJnFxcXsPUmdnZ3CwcKSVKLKbeGjXrTPdOXx8fHgc7m5asyKgYzNduOLUJqqna2lTbsoAACbWqv89v3QduYDAAEWCxXharO7fMvx1vhTKlzJetxjOGyeMUa1fMPhpe/CetRCJkmDbYmumrKyZsXSKzD8/Pw8IEKylrmBeoPAXdmTfJnOcuS9bdBubm6vc793OIfUf+nTeeb4FRbTfOhxQXyFgobZbcpKKlOgoKCloaaufbrYGBqEPpPcXqsMAABuKDVUMF3Wed+QU53jFhd6NkzMys3LdeCKbpHXiOu8ds2QLDTGetlsaW2uZMCsUcLReuaOgZHw0veXV6bPd+TNwNDPeuTCUW7Ab9QKBQrHaN+WFRfBYZ6cU67gdsPSg+WxFxjOfePvz/fobqPfoO+1aMUmEx7Pi+DMcOLGFhmcf6PTeOUiEyXReOM2FyH59frPmd3nt/NfDAwbDx17bH//BAR5dno/HzIzHTm2acnNdNSRbplSLU7Ad9NiL26HgYhqamp+SYssEBajo6NGDQ4NBw0QCRAGAwb//v/78/336PufXLCon6qfS7RvaXBwNH7UeeSDg4O3dcfEabLVydlhGBz9DA2OQ6C2Dx6OFhizKC3Mb8ZRGyHMYsdIIk9/DA0yDRCvWo7zBQWUS3mfmaHaTJOCgoK+WdfMzMz/AAAAAADSeej///98P3mfAAABAHRSTlP///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8AU/cHJQAAH7FJREFUeNrsnQt8U/W9wNNShEgbape0QHmWQEpbillqiwINkJASsEGe5S1orKcCMqGK1HF5WCgIossAXa1jpZTKCHdjE6syV/3IOrHOqSC2act81N1d7u7U7epuHyn3vP7P88/JSXlY72c/Xwjt6fme3/v3/59/dFf+n4juXyD/AuntIE6nMy4uzulsvuKMK2zhpTBO+K3CluzsbOHXzczvaha/zekM8cc3DMQpS1xL66C11adPn16blLQ2eVpCbWpq6oaJ09LTz/K/TEmtTZh2elB2nJP+buHbkqp5SRrUqvzjGwWC7v50cvrEhNqUPFEqSruZUlGbnjRM1pOgu8KWYUmneeQU/vtSUnjUZB61+caDOLOT0hNSK/qUlpaV8lLWrUH65KVuSDibnnw6OTl9moCOQ5fm1Z6tHhZ3g0HiWpM3VGi6eUpE6tI+vDDYS1Mmrs123kAQZ3Zyamn39ZDS1GmtcTcMxJmUcH0wRFdKSCq8QSCFp1O6r6P0qV1beENAWqb16b6uUppaXXj9QZytE6+HWdlsNiwgpKS3NF9fEOew5OtgVjtfT3y58uXE13ci80pIiruOINcjWO38bOCsFf/z7NuvvP3sL2bNOvgZUEre2QijVwQgcUkJ19o7Pjs466Xbb/lxUZCXwBcL+92+YtbBncC+kluuD0jLNbeqnQNP3d7v0UwPFxSFy/h618J+L50CKKUJrc5rD9Kcfa2DVdXBU7cvfMaSFQgCydJbrV/v6vfSLGBgKdUtmqti3bfFsXPgS/12mXJ9QSTefI8nN9Nwa78VUCkbTrcWOq8lyDXn+GzW7bcaHC4O4wiK/8d5HJaFLw3cCcuvaUmayi9tIIXJFdeao99TmR5cHTwC+K83968//9vrqGiZmNTivDYgzqSUa87xm3xSHUHOhX7p+8ePD22r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" alt="Eys full of hatred"></p>
<p>To get a list of buttons, I use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll" rel="nofollow">document.querySelectorAll()</a>:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">const</span> buttons <span class="token operator">=</span> <span class="token dom variable">document</span><span class="token punctuation">.</span><span class="token method function property-access">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button, input[type="submit"], [role="button"]'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
buttons<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">button</span> <span class="token arrow operator">=></span>
  button<span class="token punctuation">.</span><span class="token method function property-access">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mouseMove<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>To annihilate the buttons, I animated the pet with a pair of dead red eyes, and shake it for 400 milli-seconds, before annihilating the elements into vapor:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">removeTheElement</span><span class="token punctuation">(</span><span class="token parameter">elem</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>animating<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  animating <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">add</span><span class="token punctuation">(</span><span class="token string">'hate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> <span class="token function">timeout</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  elem<span class="token punctuation">.</span><span class="token method function property-access">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> mouseMove<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">await</span> <span class="token function">animateClass</span><span class="token punctuation">(</span><span class="token string">'item-disappearing'</span><span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
  elem<span class="token punctuation">.</span><span class="token property-access">style</span><span class="token punctuation">.</span><span class="token property-access">visibility</span> <span class="token operator">=</span> <span class="token string">'hidden'</span><span class="token punctuation">;</span>
  pet<span class="token punctuation">.</span><span class="token property-access">classList</span><span class="token punctuation">.</span><span class="token method function property-access">remove</span><span class="token punctuation">(</span><span class="token string">'hate'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  animating <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>I used <code>visibility: hidden</code>, so that I dont disrupt the DOM structure, yet making it disappear and unclickable, unlike <code>opacity: none</code>.</p>
<p>The pet with hatred is slightly bigger and agitated than the normal pet:</p>
<pre class="language-css">
<code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> hating</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">-2</span><span class="token unit">px</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">50%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token unit">px</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.1</span><span class="token punctuation">)</span> <span class="token function">translateX</span><span class="token punctuation">(</span><span class="token number">-2</span><span class="token unit">px</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>To turn the button annihilated into vapor, I used <code>filter: blur()</code>:</p>
<pre class="language-css">
<code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> item-disappearing</span> <span class="token punctuation">&#123;</span>
  <span class="token selector">0%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token unit">px</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">80%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token selector">100%</span> <span class="token punctuation">&#123;</span>
    <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token unit">px</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">1.5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></section>
<section><h2><a href="#difficulties" id="difficulties">Difficulties</a></h2></section>
<section><h3><a href="#synchronising-interactions" id="synchronising-interactions">Synchronising interactions</a></h3>
<p>A lot edge cases has been found and fixed by using the <code>animating</code>, or <code>eating</code> flag:</p>
<ul><li>where to avoid cursor, while eating the characters</li>
<li>to annihilate or to eat?
There&#39;s an heuristic to choose which one to do, when both get scheduled at the same time.</li></ul></section>
<section><h3><a href="#developing-locally" id="developing-locally">Developing locally</a></h3>
<p>Everytime when the content script is updated, I need to click refresh in the <code>chrome://extensions</code> page:</p>
<p><img src="a89d2417a7970cfd.png" alt="click refresh"></p>
<p>In order to developed faster, I created a simple HTML, and test it locally.</p>
<pre class="language-html">
<code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content.css<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>content.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span></code></pre></section>
<section><h4><a href="#postcss-script" id="postcss-script">PostCSS script</a></h4>
<p>Remember I mentioned that, for resource to be accessible from the Chrome Extension, I would have to prepend the url with <code>chrome-extension://__MSG_@@extension_id__/</code>?</p>
<p>But that does not work if I developed in standalone HTML, because I can&#39;t access the assets from <code>chrome-extension://</code> protocol in my localhost.</p>
<p>I would have to write <code>/images/rest.png</code>, and replaced it to <code>chrome-extension://__MSG_@@extension_id__/images/rest.png</code> when I test it on my extension.</p>
<p>So, I wrote a simple script with <a href="https://postcss.org/" rel="nofollow">PostCSS</a> to automatically do it:</p>
<pre class="language-js">
<code class="language-js"><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> postcss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'postcss'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> input <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../content.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> output <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../content-ext.css'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// watch when file change</span>
fs<span class="token punctuation">.</span><span class="token method function property-access">watchFile</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">const</span> css <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token method function property-access">readFileSync</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// NOTE: &#96;from: undefined&#96; to stop PostCSS complain about sourcemap</span>
  <span class="token function">postcss</span><span class="token punctuation">(</span><span class="token punctuation">[</span>replaceUrl<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">process</span><span class="token punctuation">(</span>css<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token keyword module">from</span><span class="token punctuation">:</span> <span class="token keyword nil">undefined</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
    fs<span class="token punctuation">.</span><span class="token method function property-access">writeFileSync</span><span class="token punctuation">(</span>output<span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token property-access">css</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">replaceUrl</span><span class="token punctuation">(</span><span class="token parameter">root</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  root<span class="token punctuation">.</span><span class="token method function property-access">walkDecls</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token parameter">decl</span> <span class="token arrow operator">=></span> <span class="token punctuation">&#123;</span>
    decl<span class="token punctuation">.</span><span class="token property-access">value</span> <span class="token operator">=</span> decl<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">.</span><span class="token method function property-access">replace</span><span class="token punctuation">(</span><span class="token regex">/url('(.*)')/</span><span class="token punctuation">,</span> <span class="token string">"url('chrome-extension://__MSG_@@extension_id__$1')"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre>
<p>I used <code>content.css</code> for my local development, and automatically built <code>content-ext.css</code> for the extension with all the URL replaced.</p></section>
<section><h2><a href="#demo" id="demo">Demo</a></h2>
<p>I did a super quick demo, which went quite well, <em>I think.</em> 🤔</p>
<p>For those who are curious, and want to try out, you can visit <a href="https://lihautan.com/browser-pet/" rel="nofollow">here for the demo</a>.</p>
<p>For those who are curious about the source code, can visit <a href="https://github.com/tanhauhau/browser-pet" rel="nofollow">the Github repo</a>.</p></section>
<section><h2><a href="#summary" id="summary">Summary</a></h2>
<p>It has been a fruitful event.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">And <a href="https://twitter.com/lihautan?ref_src=twsrc%5Etfw">@lihautan</a> wins a bag of tropical fruits <a href="https://t.co/CtQUBGOI7h">pic.twitter.com/CtQUBGOI7h</a></p>— Yishu See (@yishusee) <a href="https://twitter.com/yishusee/status/1205828141194727430?ref_src=twsrc%5Etfw">December 14, 2019</a></blockquote>
<p>Appreciate the organisers time and effort to make the Hackathon goes as smoothly as possible.</p>
<p>I managed to do something that I never really done before:</p>
<ul><li>CSS sprite sheet animation</li>
<li>Chrome Extension that interacts with the user and manipulates the DOM</li></ul>
<p>Hopefully I will partcipate the <a href="https://twitter.com/supersillyhack" rel="nofollow">Super Silly Hackathon</a> again next year.</p></section></article></main>

<footer class="svelte-2w4dum"><div class="form svelte-1k1s1co"><h1>Subscribe to my newsletter</h1>
  <h2 class="svelte-1k1s1co">Get the latest blog posts and project updates delivered right to your inbox</h2>
  <form action="https://buttondown.email/api/emails/embed-subscribe/lihautan" method="post" target="popupwindow" onsubmit="window.open('https://buttondown.email/lihautan', 'popupwindow')" class="embeddable-buttondown-form"><div class="form-item svelte-1k1s1co"><input type="email" name="email" id="bd-email" placeholder="youremail@example.com" class="svelte-1k1s1co">
      <input type="submit" value="Subscribe" disabled class="svelte-1k1s1co"></div>
    <input type="hidden" value="1" name="embed" class="svelte-1k1s1co">
    <p class="svelte-1k1s1co">Powered by Buttondown.</p></form>
</div></footer>

<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script><script src="./0aff92ed.js" async></script></div>
  
</body>

</html>