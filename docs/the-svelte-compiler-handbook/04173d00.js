function e(){}function a(e,a){for(const t in a)e[t]=a[t];return e}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function s(e,a){return e!=e?a==a:e!==a||e&&"object"==typeof e||"function"==typeof e}function c(e,t,n,r){return e[1]&&r?a(n.ctx.slice(),e[1](r(t))):n.ctx}function i(e,a,t,n,r,o,s){const i=function(e,a,t,n){if(e[2]&&n){const r=e[2](n(t));if(void 0===a.dirty)return r;if("object"==typeof r){const e=[],t=Math.max(a.dirty.length,r.length);for(let n=0;n<t;n+=1)e[n]=a.dirty[n]|r[n];return e}return a.dirty|r}return a.dirty}(a,n,r,o);if(i){const r=c(a,t,n,s);e.p(r,i)}}function l(e,a){e.appendChild(a)}function h(e,a,t){e.insertBefore(a,t||null)}function p(e){e.parentNode.removeChild(e)}function d(e,a){for(let t=0;t<e.length;t+=1)e[t]&&e[t].d(a)}function f(e){return document.createElement(e)}function u(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function v(e){return document.createTextNode(e)}function m(){return v(" ")}function E(){return v("")}function g(e,a,t){null==t?e.removeAttribute(a):e.getAttribute(a)!==t&&e.setAttribute(a,t)}function b(e){return Array.from(e.childNodes)}function k(e,a,t,n){for(let n=0;n<e.length;n+=1){const r=e[n];if(r.nodeName===a){let a=0;const o=[];for(;a<r.attributes.length;){const e=r.attributes[a++];t[e.name]||o.push(e.name)}for(let e=0;e<o.length;e++)r.removeAttribute(o[e]);return e.splice(n,1)[0]}}return n?u(a):f(a)}function w(e,a){for(let t=0;t<e.length;t+=1){const n=e[t];if(3===n.nodeType)return n.data=""+a,e.splice(t,1)[0]}return v(a)}function S(e){return w(e," ")}function y(e,a){a=""+a,e.wholeText!==a&&(e.data=a)}function A(e,a){e.value=null==a?"":a}class T{constructor(e=null){this.a=e,this.e=this.n=null}m(e,a,t=null){this.e||(this.e=f(a.nodeName),this.t=a,this.h(e)),this.i(t)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let a=0;a<this.n.length;a+=1)h(this.t,this.n[a],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(p)}}let C;function I(e){C=e}function L(e){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(e)}const O=[],R=[],$=[],x=[],j=Promise.resolve();let D=!1;function P(e){$.push(e)}let M=!1;const N=new Set;function _(){if(!M){M=!0;do{for(let e=0;e<O.length;e+=1){const a=O[e];I(a),H(a.$$)}for(O.length=0;R.length;)R.pop()();for(let e=0;e<$.length;e+=1){const a=$[e];N.has(a)||(N.add(a),a())}$.length=0}while(O.length);for(;x.length;)x.pop()();D=!1,M=!1,N.clear()}}function H(e){if(null!==e.fragment){e.update(),r(e.before_update);const a=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,a),e.after_update.forEach(P)}}const W=new Set;function U(e,a){e&&e.i&&(W.delete(e),e.i(a))}function B(e,a,t,n){if(e&&e.o){if(W.has(e))return;W.add(e),(void 0).c.push(()=>{W.delete(e),n&&(t&&e.d(1),n())}),e.o(a)}}function F(e){e&&e.c()}function J(e,a){e&&e.l(a)}function G(e,a,n){const{fragment:s,on_mount:c,on_destroy:i,after_update:l}=e.$$;s&&s.m(a,n),P(()=>{const a=c.map(t).filter(o);i?i.push(...a):r(a),e.$$.on_mount=[]}),l.forEach(P)}function z(e,a){const t=e.$$;null!==t.fragment&&(r(t.on_destroy),t.fragment&&t.fragment.d(a),t.on_destroy=t.fragment=null,t.ctx=[])}function q(e,a){-1===e.$$.dirty[0]&&(O.push(e),D||(D=!0,j.then(_)),e.$$.dirty.fill(0)),e.$$.dirty[a/31|0]|=1<<a%31}function Y(a,t,o,s,c,i,l=[-1]){const h=C;I(a);const d=t.props||{},f=a.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:l};let u=!1;if(f.ctx=o?o(a,d,(e,t,...n)=>{const r=n.length?n[0]:t;return f.ctx&&c(f.ctx[e],f.ctx[e]=r)&&(f.bound[e]&&f.bound[e](r),u&&q(a,e)),t}):[],f.update(),u=!0,r(f.before_update),f.fragment=!!s&&s(f.ctx),t.target){if(t.hydrate){const e=b(t.target);f.fragment&&f.fragment.l(e),e.forEach(p)}else f.fragment&&f.fragment.c();t.intro&&U(a.$$.fragment),G(a,t.target,t.anchor),_()}I(h)}class V{$destroy(){z(this,1),this.$destroy=e}$on(e,a){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(a),()=>{const e=t.indexOf(a);-1!==e&&t.splice(e,1)}}$set(){}}function K(a){let t,n,r,o,s,c,i,d,E,y,A,T,C,I,L,O,R,$,x,j,D,P,M,N,_,H,W,U,B,F,J,G,z,q,Y;return{c(){t=f("header"),n=f("nav"),r=f("ul"),o=f("li"),s=f("a"),c=v("Tan Li Hau"),i=m(),d=f("li"),E=f("a"),y=v("About"),A=m(),T=f("li"),C=f("a"),I=v("Writings"),L=m(),O=f("li"),R=f("a"),$=v("Talks"),x=m(),j=f("li"),D=f("a"),P=v("Notes"),M=m(),N=f("li"),_=f("a"),H=v("Newsletter"),W=m(),U=f("li"),B=f("a"),F=u("svg"),J=u("path"),G=m(),z=f("a"),q=u("svg"),Y=u("path"),this.h()},l(e){t=k(e,"HEADER",{class:!0});var a=b(t);n=k(a,"NAV",{});var l=b(n);r=k(l,"UL",{class:!0});var h=b(r);o=k(h,"LI",{class:!0});var f=b(o);s=k(f,"A",{href:!0,class:!0});var u=b(s);c=w(u,"Tan Li Hau"),u.forEach(p),f.forEach(p),i=S(h),d=k(h,"LI",{class:!0});var v=b(d);E=k(v,"A",{href:!0,class:!0});var m=b(E);y=w(m,"About"),m.forEach(p),v.forEach(p),A=S(h),T=k(h,"LI",{class:!0});var g=b(T);C=k(g,"A",{href:!0,class:!0});var V=b(C);I=w(V,"Writings"),V.forEach(p),g.forEach(p),L=S(h),O=k(h,"LI",{class:!0});var K=b(O);R=k(K,"A",{href:!0,class:!0});var Z=b(R);$=w(Z,"Talks"),Z.forEach(p),K.forEach(p),x=S(h),j=k(h,"LI",{class:!0});var Q=b(j);D=k(Q,"A",{href:!0,class:!0});var X=b(D);P=w(X,"Notes"),X.forEach(p),Q.forEach(p),M=S(h),N=k(h,"LI",{class:!0});var ee=b(N);_=k(ee,"A",{href:!0,class:!0});var ae=b(_);H=w(ae,"Newsletter"),ae.forEach(p),ee.forEach(p),W=S(h),U=k(h,"LI",{class:!0});var te=b(U);B=k(te,"A",{"aria-label":!0,href:!0,class:!0});var ne=b(B);F=k(ne,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var re=b(F);J=k(re,"path",{d:!0},1),b(J).forEach(p),re.forEach(p),ne.forEach(p),G=S(te),z=k(te,"A",{"aria-label":!0,href:!0,class:!0});var oe=b(z);q=k(oe,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var se=b(q);Y=k(se,"path",{d:!0},1),b(Y).forEach(p),se.forEach(p),oe.forEach(p),te.forEach(p),h.forEach(p),l.forEach(p),a.forEach(p),this.h()},h(){g(s,"href","/"),g(s,"class","svelte-f3e4uo"),g(o,"class","svelte-f3e4uo"),g(E,"href","/about"),g(E,"class","svelte-f3e4uo"),g(d,"class","svelte-f3e4uo"),g(C,"href","/blogs"),g(C,"class","svelte-f3e4uo"),g(T,"class","svelte-f3e4uo"),g(R,"href","/talks"),g(R,"class","svelte-f3e4uo"),g(O,"class","svelte-f3e4uo"),g(D,"href","/notes"),g(D,"class","svelte-f3e4uo"),g(j,"class","svelte-f3e4uo"),g(_,"href","/newsletter"),g(_,"class","svelte-f3e4uo"),g(N,"class","svelte-f3e4uo"),g(J,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),g(F,"viewBox","0 0 24 24"),g(F,"width","1em"),g(F,"height","1em"),g(F,"class","svelte-f3e4uo"),g(B,"aria-label","Twitter account"),g(B,"href","https://twitter.com/lihautan"),g(B,"class","svelte-f3e4uo"),g(Y,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),g(q,"viewBox","0 0 24 24"),g(q,"width","1em"),g(q,"height","1em"),g(q,"class","svelte-f3e4uo"),g(z,"aria-label","Github account"),g(z,"href","https://github.com/tanhauhau"),g(z,"class","svelte-f3e4uo"),g(U,"class","social svelte-f3e4uo"),g(r,"class","svelte-f3e4uo"),g(t,"class","svelte-f3e4uo")},m(e,a){h(e,t,a),l(t,n),l(n,r),l(r,o),l(o,s),l(s,c),l(r,i),l(r,d),l(d,E),l(E,y),l(r,A),l(r,T),l(T,C),l(C,I),l(r,L),l(r,O),l(O,R),l(R,$),l(r,x),l(r,j),l(j,D),l(D,P),l(r,M),l(r,N),l(N,_),l(_,H),l(r,W),l(r,U),l(U,B),l(B,F),l(F,J),l(U,G),l(U,z),l(z,q),l(q,Y)},p:e,i:e,o:e,d(e){e&&p(t)}}}class Z extends V{constructor(e){super(),Y(this,e,null,K,s,{})}}function Q(a){let t,n,r,o,s,c,i,d,u,E,y,T,C,I,L,O,R,$,x,j;return{c(){t=f("div"),n=f("h1"),r=v("Subscribe to my newsletter"),o=m(),s=f("h2"),c=v("Get the latest blog posts and project updates delivered right to your inbox"),i=m(),d=f("form"),u=f("div"),E=f("input"),y=m(),T=f("input"),I=m(),L=f("input"),O=m(),R=f("p"),$=v("Powered by Buttondown."),this.h()},l(e){t=k(e,"DIV",{class:!0});var a=b(t);n=k(a,"H1",{});var l=b(n);r=w(l,"Subscribe to my newsletter"),l.forEach(p),o=S(a),s=k(a,"H2",{class:!0});var h=b(s);c=w(h,"Get the latest blog posts and project updates delivered right to your inbox"),h.forEach(p),i=S(a),d=k(a,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var f=b(d);u=k(f,"DIV",{class:!0});var v=b(u);E=k(v,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),y=S(v),T=k(v,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),v.forEach(p),I=S(f),L=k(f,"INPUT",{type:!0,value:!0,name:!0,class:!0}),O=S(f),R=k(f,"P",{class:!0});var m=b(R);$=w(m,"Powered by Buttondown."),m.forEach(p),f.forEach(p),a.forEach(p),this.h()},h(){g(s,"class","svelte-1k1s1co"),g(E,"type","email"),g(E,"name","email"),g(E,"id","bd-email"),g(E,"aria-label","email address"),g(E,"placeholder","youremail@example.com"),g(E,"class","svelte-1k1s1co"),g(T,"type","submit"),T.value="Subscribe",T.disabled=C=!a[0],g(T,"class","svelte-1k1s1co"),g(u,"class","form-item svelte-1k1s1co"),g(L,"type","hidden"),L.value="1",g(L,"name","embed"),g(L,"class","svelte-1k1s1co"),g(R,"class","svelte-1k1s1co"),g(d,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),g(d,"method","post"),g(d,"target","popupwindow"),g(d,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),g(d,"class","embeddable-buttondown-form"),g(t,"class","form svelte-1k1s1co")},m(e,p){var f,v,m,g;h(e,t,p),l(t,n),l(n,r),l(t,o),l(t,s),l(s,c),l(t,i),l(t,d),l(d,u),l(u,E),A(E,a[0]),l(u,y),l(u,T),l(d,I),l(d,L),l(d,O),l(d,R),l(R,$),x||(f=E,v="input",m=a[1],f.addEventListener(v,m,g),j=()=>f.removeEventListener(v,m,g),x=!0)},p(e,[a]){1&a&&E.value!==e[0]&&A(E,e[0]),1&a&&C!==(C=!e[0])&&(T.disabled=C)},i:e,o:e,d(e){e&&p(t),x=!1,j()}}}function X(e,a,t){let n;return[n,function(){n=this.value,t(0,n)}]}class ee extends V{constructor(e){super(),Y(this,e,X,Q,s,{})}}function ae(e){return L(()=>(setTimeout(()=>{if(window.innerWidth>1080){const e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",e.id="_carbonads_js",document.body.appendChild(e)}},5e3),()=>{try{const e=document.getElementById("carbonads");e.parentNode.removeChild(e)}catch(e){}})),[]}class te extends V{constructor(e){super(),Y(this,e,ae,null,s,{})}}var ne="https://lihautan.com/the-svelte-compiler-handbook/assets/hero-twitter-abefba97.jpg";function re(e,a,t){const n=e.slice();return n[6]=a[t],n}function oe(e,a,t){const n=e.slice();return n[6]=a[t],n}function se(e){let a,t;return{c(){a=f("meta"),this.h()},l(e){a=k(e,"META",{name:!0,content:!0}),this.h()},h(){g(a,"name","keywords"),g(a,"content",t=e[6])},m(e,t){h(e,a,t)},p(e,n){4&n&&t!==(t=e[6])&&g(a,"content",t)},d(e){e&&p(a)}}}function ce(e){let a,t,n=e[6]+"";return{c(){a=f("span"),t=v(n),this.h()},l(e){a=k(e,"SPAN",{class:!0});var r=b(a);t=w(r,n),r.forEach(p),this.h()},h(){g(a,"class","svelte-9tqnza")},m(e,n){h(e,a,n),l(a,t)},p(e,a){4&a&&n!==(n=e[6]+"")&&y(t,n)},d(e){e&&p(a)}}}function ie(e){let a,t,n,r,o,s,u,A,C,I,L,O,R,$,x,j,D,P,M,N,_,H,W,q,Y,V,K,Q,X,ae,ie,le,he,pe,de,fe,ue=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`,ve=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fthe-svelte-compiler-handbook",name:e[0]},position:2}]})}<\/script>`;document.title=a=e[0]+" | Tan Li Hau";let me=e[2],Ee=[];for(let a=0;a<me.length;a+=1)Ee[a]=se(oe(e,me,a));W=new Z({});let ge=e[2],be=[];for(let a=0;a<ge.length;a+=1)be[a]=ce(re(e,ge,a));const ke=e[5].default,we=function(e,a,t,n){if(e){const r=c(e,a,t,n);return e[0](r)}}(ke,e,e[4],null);return he=new ee({}),de=new te({}),{c(){t=f("meta"),n=f("meta"),r=f("meta"),o=f("meta"),s=f("meta"),u=f("meta"),A=f("meta"),C=f("meta"),I=f("meta"),L=f("meta"),O=f("meta");for(let e=0;e<Ee.length;e+=1)Ee[e].c();R=f("meta"),$=f("meta"),j=E(),P=E(),M=m(),N=f("a"),_=v("Skip to content"),H=m(),F(W.$$.fragment),q=m(),Y=f("main"),V=f("h1"),K=v(e[0]),Q=m();for(let e=0;e<be.length;e+=1)be[e].c();X=m(),ae=f("article"),we&&we.c(),ie=m(),le=f("footer"),F(he.$$.fragment),pe=m(),F(de.$$.fragment),this.h()},l(a){const c=function(e,a=document.body){return Array.from(a.querySelectorAll(e))}('[data-svelte="svelte-n0q11s"]',document.head);t=k(c,"META",{name:!0,content:!0}),n=k(c,"META",{name:!0,content:!0}),r=k(c,"META",{name:!0,content:!0}),o=k(c,"META",{name:!0,content:!0}),s=k(c,"META",{name:!0,content:!0}),u=k(c,"META",{name:!0,content:!0}),A=k(c,"META",{name:!0,content:!0}),C=k(c,"META",{name:!0,content:!0}),I=k(c,"META",{name:!0,content:!0}),L=k(c,"META",{name:!0,content:!0}),O=k(c,"META",{name:!0,content:!0});for(let e=0;e<Ee.length;e+=1)Ee[e].l(c);R=k(c,"META",{itemprop:!0,content:!0}),$=k(c,"META",{itemprop:!0,content:!0}),j=E(),P=E(),c.forEach(p),M=S(a),N=k(a,"A",{href:!0,class:!0});var i=b(N);_=w(i,"Skip to content"),i.forEach(p),H=S(a),J(W.$$.fragment,a),q=S(a),Y=k(a,"MAIN",{id:!0,class:!0});var l=b(Y);V=k(l,"H1",{});var h=b(V);K=w(h,e[0]),h.forEach(p),Q=S(l);for(let e=0;e<be.length;e+=1)be[e].l(l);X=S(l),ae=k(l,"ARTICLE",{});var d=b(ae);we&&we.l(d),d.forEach(p),l.forEach(p),ie=S(a),le=k(a,"FOOTER",{class:!0});var f=b(le);J(he.$$.fragment,f),pe=S(f),J(de.$$.fragment,f),f.forEach(p),this.h()},h(){g(t,"name","description"),g(t,"content",e[1]),g(n,"name","image"),g(n,"content",ne),g(r,"name","og:image"),g(r,"content",ne),g(o,"name","og:title"),g(o,"content",e[0]),g(s,"name","og:description"),g(s,"content",e[1]),g(u,"name","og:type"),g(u,"content","website"),g(A,"name","twitter:card"),g(A,"content","summary_large_image"),g(C,"name","twitter:creator"),g(C,"content","@lihautan"),g(I,"name","twitter:title"),g(I,"content",e[0]),g(L,"name","twitter:description"),g(L,"content",e[1]),g(O,"name","twitter:image"),g(O,"content",ne),g(R,"itemprop","url"),g(R,"content","https%3A%2F%2Flihautan.com%2Fthe-svelte-compiler-handbook"),g($,"itemprop","image"),g($,"content",ne),x=new T(j),D=new T(P),g(N,"href","#content"),g(N,"class","skip svelte-9tqnza"),g(Y,"id","content"),g(Y,"class","blog svelte-9tqnza"),g(le,"class","svelte-9tqnza")},m(e,a){l(document.head,t),l(document.head,n),l(document.head,r),l(document.head,o),l(document.head,s),l(document.head,u),l(document.head,A),l(document.head,C),l(document.head,I),l(document.head,L),l(document.head,O);for(let e=0;e<Ee.length;e+=1)Ee[e].m(document.head,null);l(document.head,R),l(document.head,$),x.m(ue,document.head),l(document.head,j),D.m(ve,document.head),l(document.head,P),h(e,M,a),h(e,N,a),l(N,_),h(e,H,a),G(W,e,a),h(e,q,a),h(e,Y,a),l(Y,V),l(V,K),l(Y,Q);for(let e=0;e<be.length;e+=1)be[e].m(Y,null);l(Y,X),l(Y,ae),we&&we.m(ae,null),h(e,ie,a),h(e,le,a),G(he,le,null),l(le,pe),G(de,le,null),fe=!0},p(e,[n]){if((!fe||1&n)&&a!==(a=e[0]+" | Tan Li Hau")&&(document.title=a),(!fe||2&n)&&g(t,"content",e[1]),(!fe||1&n)&&g(o,"content",e[0]),(!fe||2&n)&&g(s,"content",e[1]),(!fe||1&n)&&g(I,"content",e[0]),(!fe||2&n)&&g(L,"content",e[1]),4&n){let a;for(me=e[2],a=0;a<me.length;a+=1){const t=oe(e,me,a);Ee[a]?Ee[a].p(t,n):(Ee[a]=se(t),Ee[a].c(),Ee[a].m(R.parentNode,R))}for(;a<Ee.length;a+=1)Ee[a].d(1);Ee.length=me.length}if((!fe||3&n)&&ue!==(ue=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`)&&x.p(ue),(!fe||1&n)&&ve!==(ve=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fthe-svelte-compiler-handbook",name:e[0]},position:2}]})}<\/script>`)&&D.p(ve),(!fe||1&n)&&y(K,e[0]),4&n){let a;for(ge=e[2],a=0;a<ge.length;a+=1){const t=re(e,ge,a);be[a]?be[a].p(t,n):(be[a]=ce(t),be[a].c(),be[a].m(Y,X))}for(;a<be.length;a+=1)be[a].d(1);be.length=ge.length}we&&we.p&&16&n&&i(we,ke,e,e[4],n,null,null)},i(e){fe||(U(W.$$.fragment,e),U(we,e),U(he.$$.fragment,e),U(de.$$.fragment,e),fe=!0)},o(e){B(W.$$.fragment,e),B(we,e),B(he.$$.fragment,e),B(de.$$.fragment,e),fe=!1},d(e){p(t),p(n),p(r),p(o),p(s),p(u),p(A),p(C),p(I),p(L),p(O),d(Ee,e),p(R),p($),p(j),e&&x.d(),p(P),e&&D.d(),e&&p(M),e&&p(N),e&&p(H),z(W,e),e&&p(q),e&&p(Y),d(be,e),we&&we.d(e),e&&p(ie),e&&p(le),z(he),z(de)}}}function le(e,a,t){let{title:n=""}=a,{description:r=""}=a,{tags:o=[]}=a;const s={"@type":"Person",name:"Tan Li Hau"};let{$$slots:c={},$$scope:i}=a;return e.$set=e=>{"title"in e&&t(0,n=e.title),"description"in e&&t(1,r=e.description),"tags"in e&&t(2,o=e.tags),"$$scope"in e&&t(4,i=e.$$scope)},[n,r,o,s,i,c]}class he extends V{constructor(e){super(),Y(this,e,le,ie,s,{title:0,description:1,tags:2})}}function pe(a){let t,n,r,o,s,c,i,d,u,E,y,A,T,C,I,L,O,R,$,x,j,D,P,M,N,_,H,W,U,B,F,J,G,z,q,Y,V,K,Z,Q,X,ee,ae,te,ne,re,oe,se,ce,ie,le,he,pe,de,fe,ue,ve,me,Ee,ge,be,ke,we,Se,ye,Ae,Te,Ce,Ie,Le,Oe,Re,$e,xe,je,De,Pe,Me,Ne,_e,He,We,Ue,Be,Fe,Je,Ge,ze,qe,Ye,Ve,Ke,Ze,Qe,Xe,ea,aa,ta,na,ra,oa,sa,ca,ia,la,ha,pa,da,fa,ua,va,ma,Ea,ga,ba,ka,wa,Sa,ya,Aa,Ta,Ca,Ia,La,Oa,Ra,$a,xa,ja,Da,Pa,Ma,Na,_a,Ha,Wa,Ua,Ba,Fa,Ja,Ga,za,qa,Ya,Va,Ka,Za,Qa,Xa,et,at,tt,nt,rt,ot,st,ct,it,lt,ht,pt,dt,ft,ut,vt,mt,Et,gt,bt,kt,wt,St,yt,At,Tt,Ct,It,Lt,Ot,Rt,$t,xt,jt,Dt,Pt,Mt,Nt,_t,Ht,Wt,Ut,Bt,Ft,Jt,Gt,zt,qt,Yt,Vt,Kt,Zt,Qt,Xt,en,an,tn,nn,rn,on,sn,cn,ln,hn,pn,dn,fn,un,vn,mn,En,gn,bn,kn,wn,Sn,yn,An,Tn,Cn,In,Ln,On,Rn,$n,xn,jn,Dn,Pn,Mn,Nn,_n,Hn,Wn,Un,Bn,Fn,Jn,Gn,zn,qn,Yn,Vn,Kn,Zn,Qn,Xn,er,ar,tr,nr,rr,or,sr,cr,ir,lr,hr,pr,dr,fr,ur,vr,mr,Er,gr,br,kr,wr,Sr,yr,Ar,Tr,Cr,Ir,Lr,Or,Rr,$r,xr,jr,Dr,Pr,Mr,Nr,_r,Hr,Wr,Ur,Br,Fr,Jr,Gr,zr,qr,Yr,Vr,Kr,Zr,Qr,Xr,eo,ao,to,no,ro,oo,so,co,io,lo,ho,po,fo,uo,vo,mo,Eo,go,bo,ko,wo,So,yo,Ao,To,Co,Io,Lo,Oo,Ro,$o,xo,jo,Do,Po,Mo,No,_o,Ho,Wo,Uo,Bo,Fo,Jo,Go,zo,qo,Yo,Vo,Ko,Zo,Qo,Xo,es,as,ts,ns,rs,os,ss,cs,is,ls,hs,ps,ds,fs,us,vs,ms,Es,gs,bs,ks,ws,Ss,ys,As,Ts,Cs,Is,Ls,Os,Rs,$s,xs,js,Ds,Ps,Ms,Ns,_s,Hs,Ws,Us,Bs,Fs,Js,Gs,zs,qs,Ys,Vs,Ks,Zs,Qs,Xs,ec,ac,tc,nc,rc,oc,sc,cc,ic,lc,hc,pc,dc,fc,uc,vc,mc,Ec,gc,bc,kc,wc,Sc,yc,Ac,Tc,Cc,Ic,Lc,Oc,Rc,$c,xc,jc,Dc,Pc,Mc,Nc,_c,Hc,Wc,Uc,Bc,Fc,Jc,Gc,zc,qc,Yc,Vc,Kc,Zc,Qc,Xc,ei,ai,ti,ni,ri,oi,si,ci,ii,li,hi,pi,di,fi,ui,vi,mi,Ei,gi,bi,ki,wi,Si,yi,Ai,Ti,Ci,Ii,Li,Oi,Ri,$i,xi,ji,Di,Pi,Mi,Ni,_i,Hi,Wi,Ui,Bi,Fi,Ji,Gi,zi,qi,Yi,Vi,Ki,Zi,Qi,Xi,el,al,tl,nl,rl,ol,sl,cl,il,ll,hl,pl,dl,fl,ul,vl,ml,El,gl,bl,kl,wl,Sl,yl,Al,Tl,Cl,Il,Ll,Ol,Rl,$l,xl,jl,Dl,Pl,Ml,Nl,_l,Hl,Wl,Ul,Bl,Fl,Jl,Gl,zl,ql,Yl,Vl,Kl,Zl,Ql,Xl,eh,ah,th,nh,rh,oh,sh,ch,ih,lh,hh,ph,dh,fh,uh,vh,mh,Eh,gh,bh,kh,wh,Sh,yh,Ah,Th,Ch,Ih,Lh,Oh,Rh,$h,xh,jh,Dh,Ph,Mh,Nh,_h,Hh,Wh,Uh,Bh,Fh,Jh,Gh,zh,qh,Yh,Vh,Kh,Zh,Qh,Xh,ep,ap,tp,np,rp,op,sp,cp,ip,lp,hp,pp,dp,fp,up,vp,mp,Ep,gp,bp,kp,wp,Sp,yp,Ap,Tp,Cp,Ip,Lp,Op,Rp,$p,xp,jp,Dp,Pp,Mp,Np,_p,Hp,Wp,Up,Bp,Fp,Jp,Gp;return{c(){t=f("section"),n=f("ul"),r=f("li"),o=f("a"),s=v("Who is this for?"),c=f("li"),i=f("a"),d=v("Overview"),u=f("li"),E=f("a"),y=v("1. Parsing source code into AST"),A=f("ul"),T=f("li"),C=f("a"),I=v("Where can I find the parser in the source code?"),L=f("li"),O=f("a"),R=v("Where can I learn about parsing in JavaScript?"),$=f("li"),x=f("a"),j=v("2. Tracking references and dependencies"),D=f("ul"),P=f("li"),M=f("a"),N=v("a. Svelte creates a  Component  instance."),_=f("li"),H=f("a"),W=v("b. Traverse the instance script and module script AST"),U=f("li"),B=f("a"),F=v("c. Traverse the template"),J=f("li"),G=f("a"),z=v("d. Traverse the instance script AST"),q=f("li"),Y=f("a"),V=v("e. Update CSS selectors to make style declarations component scope"),K=f("li"),Z=f("a"),Q=v("Where can I find this in the source code?"),X=f("li"),ee=f("a"),ae=v("Where can I learn about traversing in JavaScript?"),te=f("li"),ne=f("a"),re=v("3. Creating code blocks and fragments"),oe=f("ul"),se=f("li"),ce=f("a"),ie=v("DOM Renderer"),le=f("li"),he=f("a"),pe=v("SSR Renderer"),de=f("li"),fe=f("a"),ue=v("Where can I find the  Renderer  in the source code?"),ve=f("li"),me=f("a"),Ee=v("4. Generate code"),ge=f("li"),be=f("a"),ke=v("Svelte runtime"),we=m(),Se=f("section"),ye=f("h2"),Ae=f("a"),Te=v("Who is this for?"),Ce=m(),Ie=f("p"),Le=v("Anyone who"),Oe=m(),Re=f("ul"),$e=f("li"),xe=v("is interested in the Svelte compilation process"),je=m(),De=f("li"),Pe=v("wants to get started in reading Svelte source code"),Me=m(),Ne=f("section"),_e=f("h2"),He=f("a"),We=v("Overview"),Ue=m(),Be=f("p"),Fe=f("picture"),Je=f("source"),Ge=f("source"),ze=f("img"),qe=m(),Ye=f("p"),Ve=v("The Svelte compilation process can be broken down into 4-steps"),Ke=m(),Ze=f("ul"),Qe=f("li"),Xe=v("Parsing source code into Abstract Syntax Tree (AST)"),ea=m(),aa=f("li"),ta=v("Tracking references and dependencies"),na=m(),ra=f("li"),oa=v("Creating code blocks and fragments"),sa=m(),ca=f("li"),ia=v("Generate code"),la=m(),ha=f("p"),pa=v("Which sums out by the following pseudocode:"),da=m(),fa=f("pre"),ua=m(),va=f("section"),ma=f("h2"),Ea=f("a"),ga=v("1. Parsing source code into AST"),ba=m(),ka=f("p"),wa=f("picture"),Sa=f("source"),ya=f("source"),Aa=f("img"),Ta=m(),Ca=f("pre"),Ia=m(),La=f("p"),Oa=v("The Svelte syntax is a superset of HTML. Svelte implements its own parser for the Svelte syntax, which handles:"),Ra=m(),$a=f("ul"),xa=f("li"),ja=v("HTML syntax "),Da=f("code"),Pa=v("<div>"),Ma=m(),Na=f("li"),_a=v("Curly brackets "),Ha=f("code"),Wa=v("{ data }"),Ua=m(),Ba=f("li"),Fa=v("Logic blocks "),Ja=f("code"),Ga=v("{#each list as item}"),za=m(),qa=f("p"),Ya=v("The Svelte parser handles specially for "),Va=f("code"),Ka=v("<script>"),Za=v(" and "),Qa=f("code"),Xa=v("<style>"),et=v(" tags."),at=m(),tt=f("p"),nt=v("When the parser encounters a "),rt=f("code"),ot=v("<script>"),st=v(" tag, it uses "),ct=f("a"),it=v("acorn"),lt=v(" to parse the content within the tag. When the parser sees a "),ht=f("code"),pt=v("<style>"),dt=v(" tag, it uses "),ft=f("a"),ut=v("css-tree"),vt=v(" to parse the CSS content."),mt=m(),Et=f("p"),gt=v("Besides, the Svelte parser differentiates instance script, "),bt=f("code"),kt=v("<script>"),wt=v(", and module script, "),St=f("code"),yt=v('<script context="module">'),At=v("."),Tt=m(),Ct=f("p"),It=v("The Svelte AST look like:"),Lt=m(),Ot=f("pre"),Rt=m(),$t=f("p"),xt=v("You can try out the Svelte parser in "),jt=f("a"),Dt=v("ASTExplorer"),Pt=v(". You can find the Svelte parser under "),Mt=f("strong"),Nt=v("HTML > Svelte"),_t=v("."),Ht=m(),Wt=f("section"),Ut=f("h3"),Bt=f("a"),Ft=v("Where can I find the parser in the source code?"),Jt=m(),Gt=f("p"),zt=v("The parsing "),qt=f("a"),Yt=v("starts here"),Vt=v(", which the parser is implemented in "),Kt=f("a"),Zt=v("src/compiler/parse/index.ts"),Qt=v("."),Xt=m(),en=f("section"),an=f("h3"),tn=f("a"),nn=v("Where can I learn about parsing in JavaScript?"),rn=m(),on=f("p"),sn=v("My previous article, "),cn=f("a"),ln=v('"JSON Parser with JavaScript"'),hn=v(" introduces the terminology and guides you step-by-step on writing a parser for JSON in JavaScript."),pn=m(),dn=f("p"),fn=v("If this is the your first time learning about parser, I highly recommend you to read that."),un=m(),vn=f("section"),mn=f("h2"),En=f("a"),gn=v("2. Tracking references and dependencies"),bn=m(),kn=f("p"),wn=f("picture"),Sn=f("source"),yn=f("source"),An=f("img"),Tn=m(),Cn=f("pre"),In=m(),Ln=f("p"),On=v("In this step, Svelte traverses through the AST to track all the variable declared and referenced and their depedencies."),Rn=m(),$n=f("section"),xn=f("h3"),jn=f("a"),Dn=v("a. Svelte creates a "),Pn=f("code"),Mn=v("Component"),Nn=v(" instance."),_n=m(),Hn=f("p"),Wn=v("The "),Un=f("code"),Bn=v("Component"),Fn=v(" class stores information of the Svelte component, which includes:"),Jn=m(),Gn=f("ul"),zn=f("li"),qn=v("HTML fragment, "),Yn=f("a"),Vn=f("code"),Kn=v("fragment"),Zn=m(),Qn=f("li"),Xn=v("instance script and module script AST and their lexical scopes, "),er=f("a"),ar=f("code"),tr=v("instance_scope"),nr=v(" and "),rr=f("a"),or=f("code"),sr=v("module_scope"),cr=m(),ir=f("li"),lr=v("instance variables, "),hr=f("a"),pr=f("code"),dr=v("vars"),fr=m(),ur=f("li"),vr=v("reactive variables, "),mr=f("a"),Er=f("code"),gr=v("reactive_declarations"),br=m(),kr=f("li"),wr=v("slots, "),Sr=f("a"),yr=f("code"),Ar=v("slots"),Tr=m(),Cr=f("li"),Ir=f("a"),Lr=v("used variable names"),Or=v(" to prevent naming conflict when creating temporary variables"),Rr=m(),$r=f("li"),xr=f("a"),jr=v("warnings"),Dr=v(" and "),Pr=f("a"),Mr=v("errors"),Nr=m(),_r=f("li"),Hr=f("a"),Wr=v("compile options"),Ur=v(" and "),Br=f("a"),Fr=v("ignored warnings"),Jr=m(),Gr=f("section"),zr=f("h3"),qr=f("a"),Yr=v("b. Traverse the instance script and module script AST"),Vr=m(),Kr=f("p"),Zr=f("code"),Qr=v("Component"),Xr=v(" traverses the instance script and module script AST to "),eo=f("strong"),ao=v("find out all the variables declared, referenced, and updated"),to=v(" within the instance script and module script."),no=m(),ro=f("p"),oo=v("Svelte identifies all the variables available before traversing the template. When encountering the variable during template traversal, Svelte will mark the variable as "),so=f("code"),co=v("referenced"),io=v(" from template."),lo=m(),ho=f("section"),po=f("h3"),fo=f("a"),uo=v("c. Traverse the template"),vo=m(),mo=f("p"),Eo=v("Svelte traverses through the template AST and creates a "),go=f("a"),bo=v("Fragment"),ko=v(" tree out of the template AST."),wo=m(),So=f("p"),yo=v("Each fragment node contains information such as:"),Ao=m(),To=f("p"),Co=f("strong"),Io=v("- expression and dependencies"),Lo=m(),Oo=f("p"),Ro=v("Logic blocks, "),$o=f("code"),xo=v("{#if}"),jo=v(", and mustache tags, "),Do=f("code"),Po=v("{ data }"),Mo=v(", contain expression and the dependencies of the expression."),No=m(),_o=f("p"),Ho=f("strong"),Wo=v("- scope"),Uo=m(),Bo=f("p"),Fo=f("code"),Jo=v("{#each}"),Go=v(" and "),zo=f("code"),qo=v("{#await}"),Yo=v(" logic block and "),Vo=f("code"),Ko=v("let:"),Zo=v(" binding create new variables for the children template."),Qo=m(),Xo=f("p"),es=v("Svelte creates a different Fragment node for each type of node in the AST, as different kind of Fragment node handles things differently:"),as=m(),ts=f("ul"),ns=f("li"),rs=f("a"),os=v("Element node"),ss=v(" validates the "),cs=f("a"),is=v("attribute"),ls=v(", "),hs=f("a"),ps=v("bindings"),ds=v(", "),fs=f("a"),us=v("content"),vs=v(" and "),ms=f("a"),Es=v("event handlers"),gs=v("."),bs=m(),ks=f("li"),ws=f("a"),Ss=v("Slot node"),ys=v(" registers the slot name to the "),As=f("code"),Ts=v("Component"),Cs=v("."),Is=m(),Ls=f("li"),Os=f("a"),Rs=v("EachBlock node"),$s=v(" creates a new scope and tracks the "),xs=f("code"),js=v("key"),Ds=v(", "),Ps=f("code"),Ms=v("index"),Ns=v(" and the name of the list to be iterated."),_s=m(),Hs=f("li"),Ws=v("..."),Us=m(),Bs=f("section"),Fs=f("h3"),Js=f("a"),Gs=v("d. Traverse the instance script AST"),zs=m(),qs=f("p"),Ys=v("After traversing through the template, Svelte now knows whether a variable is ever being updated or referenced in the component."),Vs=m(),Ks=f("p"),Zs=v("With this information, Svelte tries make preparations for optimising the output, for example:"),Qs=m(),Xs=f("ul"),ec=f("li"),ac=v("determine which variables or functions can be safely hoisted out of the "),tc=f("code"),nc=v("instance"),rc=v(" function."),oc=m(),sc=f("li"),cc=v("determine reactive declarations that does not need to be reactive"),ic=m(),lc=f("section"),hc=f("h3"),pc=f("a"),dc=v("e. Update CSS selectors to make style declarations component scope"),fc=m(),uc=f("p"),vc=v("Svelte updates the CSS selectors, by adding "),mc=f("code"),Ec=v(".svelte-xxx"),gc=v(" class to the selectors when necessary."),bc=m(),kc=f("p"),wc=v("At the end of this step, Svelte has enough information to generate the compiled code, which brings us to the next step."),Sc=m(),yc=f("section"),Ac=f("h3"),Tc=f("a"),Cc=v("Where can I find this in the source code?"),Ic=m(),Lc=f("p"),Oc=v("You can start reading "),Rc=f("a"),$c=v("from here"),xc=v(", which the "),jc=f("code"),Dc=v("Component"),Pc=v(" is implemented in "),Mc=f("a"),Nc=v("src/compiler/compile/Component.ts"),_c=v("."),Hc=m(),Wc=f("section"),Uc=f("h3"),Bc=f("a"),Fc=v("Where can I learn about traversing in JavaScript?"),Jc=m(),Gc=f("p"),zc=v("Bear with my shameless plug, my previous article, "),qc=f("a"),Yc=v('"Manipulating AST with JavaScript"'),Vc=v(" covers relevant knowledge you need to know about traversing AST in JavaScript."),Kc=m(),Zc=f("section"),Qc=f("h2"),Xc=f("a"),ei=v("3. Creating code blocks and fragments"),ai=m(),ti=f("p"),ni=f("picture"),ri=f("source"),oi=f("source"),si=f("img"),ci=m(),ii=f("pre"),li=m(),hi=f("p"),pi=v("In this step, Svelte creates a "),di=f("code"),fi=v("Renderer"),ui=v(" instance which keeps track necessary information required to generate the compiled output. Depending on the whether to output DOM or SSR code "),vi=f("em"),mi=v("("),Ei=f("a"),gi=v("see "),bi=f("code"),ki=v("generate"),wi=v(" in compile options"),Si=v(")"),yi=v(", Svelte instantiates different "),Ai=f("code"),Ti=v("Renderer"),Ci=v(" respectively."),Ii=m(),Li=f("section"),Oi=f("h3"),Ri=f("a"),$i=v("DOM Renderer"),xi=m(),ji=f("p"),Di=v("DOM Renderer keeps track of "),Pi=f("a"),Mi=v("a list of blocks"),Ni=v(" and "),_i=f("a"),Hi=v("context"),Wi=v("."),Ui=m(),Bi=f("p"),Fi=v("A "),Ji=f("a"),Gi=v("Block"),zi=v(" contains code fragments for generate the "),qi=f("a"),Yi=f("code"),Vi=v("create_fragment"),Ki=v(" function."),Zi=m(),Qi=f("p"),Xi=v("Context tracks a list of "),el=f("a"),al=v("instance variables"),tl=v(" which will be presented in the "),nl=f("code"),rl=v("$$.ctx"),ol=v(" in the compiled output."),sl=m(),cl=f("p"),il=v("In the renderer, Svelte creates a "),ll=f("a"),hl=v("render tree"),pl=v(" out of the Fragment tree."),dl=m(),fl=f("p"),ul=v("Each node in the render tree implements the "),vl=f("code"),ml=v("render"),El=v(" function which generate codes that create and update the DOM for the node."),gl=m(),bl=f("section"),kl=f("h3"),wl=f("a"),Sl=v("SSR Renderer"),yl=m(),Al=f("p"),Tl=v("SSR Renderer provide helpers to generate "),Cl=f("a"),Il=v("template literals"),Ll=v(" in the compiled output, such as "),Ol=f("a"),Rl=f("code"),$l=v("add_string(str)"),xl=v(" and "),jl=f("a"),Dl=f("code"),Pl=v("add_expression(node)"),Ml=v("."),Nl=m(),_l=f("section"),Hl=f("h3"),Wl=f("a"),Ul=v("Where can I find the "),Bl=f("code"),Fl=v("Renderer"),Jl=v(" in the source code?"),Gl=m(),zl=f("p"),ql=v("The DOM Renderer is implemented in "),Yl=f("a"),Vl=v("src/compiler/compile/render_dom/Renderer.ts"),Kl=v(", and you can check out the SSR Renderer code in "),Zl=f("a"),Ql=v("src/compiler/compile/render_ssr/Renderer.ts"),Xl=v("."),eh=m(),ah=f("section"),th=f("h2"),nh=f("a"),rh=v("4. Generate code"),oh=m(),sh=f("p"),ch=f("picture"),ih=f("source"),lh=f("source"),hh=f("img"),ph=m(),dh=f("pre"),fh=m(),uh=f("p"),vh=v("Different renderer renders differently."),mh=m(),Eh=f("p"),gh=f("strong"),bh=v("The DOM Renderer"),kh=v(" traverses through the render tree and calls the "),wh=f("code"),Sh=v("render"),yh=v(" function of each node along the way. The "),Ah=f("code"),Th=v("Block"),Ch=v(" instance is passed into the "),Ih=f("code"),Lh=v("render"),Oh=v(" function, so that each node inserts the code into the appropriate "),Rh=f("code"),$h=v("create_fragment"),xh=v(" function."),jh=m(),Dh=f("p"),Ph=f("strong"),Mh=v("The SSR Renderer"),Nh=v(", on the other hand, relies on different "),_h=f("a"),Hh=v("node handlers"),Wh=v(" to insert strings or expressions into the final template literal."),Uh=m(),Bh=f("p"),Fh=v("The render function returns "),Jh=f("code"),Gh=v("js"),zh=v(" and "),qh=f("code"),Yh=v("css"),Vh=v(" which will be consumed by the bundler, via "),Kh=f("a"),Zh=v("rollup-plugin-svelte"),Qh=v(" for rollup and "),Xh=f("a"),ep=v("svelte-loader"),ap=v(" for webpack respectively."),tp=m(),np=f("section"),rp=f("h2"),op=f("a"),sp=v("Svelte runtime"),cp=m(),ip=f("p"),lp=v("To remove duplicate code in the compiled output, Svelte provide util function which can be found in the "),hp=f("a"),pp=v("src/runtime/internal"),dp=v(", such as:"),fp=m(),up=f("ul"),vp=f("li"),mp=v("dom related utils, eg: "),Ep=f("code"),gp=v("append"),bp=v(", "),kp=f("code"),wp=v("insert"),Sp=v(", "),yp=f("code"),Ap=v("detach"),Tp=m(),Cp=f("li"),Ip=v("scheduling utils, eg: "),Lp=f("code"),Op=v("schedule_update"),Rp=v(", "),$p=f("code"),xp=v("flush"),jp=m(),Dp=f("li"),Pp=v("lifecycle utils, eg: "),Mp=f("code"),Np=v("onMount"),_p=v(", "),Hp=f("code"),Wp=v("beforeUpdate"),Up=m(),Bp=f("li"),Fp=v("animation utils, eg: "),Jp=f("code"),Gp=v("create_animation"),this.h()},l(e){t=k(e,"SECTION",{});var a=b(t);n=k(a,"UL",{class:!0,id:!0,role:!0,"aria-label":!0});var l=b(n);r=k(l,"LI",{});var h=b(r);o=k(h,"A",{href:!0});var f=b(o);s=w(f,"Who is this for?"),f.forEach(p),h.forEach(p),c=k(l,"LI",{});var v=b(c);i=k(v,"A",{href:!0});var m=b(i);d=w(m,"Overview"),m.forEach(p),v.forEach(p),u=k(l,"LI",{});var g=b(u);E=k(g,"A",{href:!0});var zp=b(E);y=w(zp,"1. Parsing source code into AST"),zp.forEach(p),g.forEach(p),A=k(l,"UL",{});var qp=b(A);T=k(qp,"LI",{});var Yp=b(T);C=k(Yp,"A",{href:!0});var Vp=b(C);I=w(Vp,"Where can I find the parser in the source code?"),Vp.forEach(p),Yp.forEach(p),L=k(qp,"LI",{});var Kp=b(L);O=k(Kp,"A",{href:!0});var Zp=b(O);R=w(Zp,"Where can I learn about parsing in JavaScript?"),Zp.forEach(p),Kp.forEach(p),qp.forEach(p),$=k(l,"LI",{});var Qp=b($);x=k(Qp,"A",{href:!0});var Xp=b(x);j=w(Xp,"2. Tracking references and dependencies"),Xp.forEach(p),Qp.forEach(p),D=k(l,"UL",{});var ed=b(D);P=k(ed,"LI",{});var ad=b(P);M=k(ad,"A",{href:!0});var td=b(M);N=w(td,"a. Svelte creates a  Component  instance."),td.forEach(p),ad.forEach(p),_=k(ed,"LI",{});var nd=b(_);H=k(nd,"A",{href:!0});var rd=b(H);W=w(rd,"b. Traverse the instance script and module script AST"),rd.forEach(p),nd.forEach(p),U=k(ed,"LI",{});var od=b(U);B=k(od,"A",{href:!0});var sd=b(B);F=w(sd,"c. Traverse the template"),sd.forEach(p),od.forEach(p),J=k(ed,"LI",{});var cd=b(J);G=k(cd,"A",{href:!0});var id=b(G);z=w(id,"d. Traverse the instance script AST"),id.forEach(p),cd.forEach(p),q=k(ed,"LI",{});var ld=b(q);Y=k(ld,"A",{href:!0});var hd=b(Y);V=w(hd,"e. Update CSS selectors to make style declarations component scope"),hd.forEach(p),ld.forEach(p),K=k(ed,"LI",{});var pd=b(K);Z=k(pd,"A",{href:!0});var dd=b(Z);Q=w(dd,"Where can I find this in the source code?"),dd.forEach(p),pd.forEach(p),X=k(ed,"LI",{});var fd=b(X);ee=k(fd,"A",{href:!0});var ud=b(ee);ae=w(ud,"Where can I learn about traversing in JavaScript?"),ud.forEach(p),fd.forEach(p),ed.forEach(p),te=k(l,"LI",{});var vd=b(te);ne=k(vd,"A",{href:!0});var md=b(ne);re=w(md,"3. Creating code blocks and fragments"),md.forEach(p),vd.forEach(p),oe=k(l,"UL",{});var Ed=b(oe);se=k(Ed,"LI",{});var gd=b(se);ce=k(gd,"A",{href:!0});var bd=b(ce);ie=w(bd,"DOM Renderer"),bd.forEach(p),gd.forEach(p),le=k(Ed,"LI",{});var kd=b(le);he=k(kd,"A",{href:!0});var wd=b(he);pe=w(wd,"SSR Renderer"),wd.forEach(p),kd.forEach(p),de=k(Ed,"LI",{});var Sd=b(de);fe=k(Sd,"A",{href:!0});var yd=b(fe);ue=w(yd,"Where can I find the  Renderer  in the source code?"),yd.forEach(p),Sd.forEach(p),Ed.forEach(p),ve=k(l,"LI",{});var Ad=b(ve);me=k(Ad,"A",{href:!0});var Td=b(me);Ee=w(Td,"4. Generate code"),Td.forEach(p),Ad.forEach(p),ge=k(l,"LI",{});var Cd=b(ge);be=k(Cd,"A",{href:!0});var Id=b(be);ke=w(Id,"Svelte runtime"),Id.forEach(p),Cd.forEach(p),l.forEach(p),a.forEach(p),we=S(e),Se=k(e,"SECTION",{});var Ld=b(Se);ye=k(Ld,"H2",{});var Od=b(ye);Ae=k(Od,"A",{href:!0,id:!0});var Rd=b(Ae);Te=w(Rd,"Who is this for?"),Rd.forEach(p),Od.forEach(p),Ce=S(Ld),Ie=k(Ld,"P",{});var $d=b(Ie);Le=w($d,"Anyone who"),$d.forEach(p),Oe=S(Ld),Re=k(Ld,"UL",{});var xd=b(Re);$e=k(xd,"LI",{});var jd=b($e);xe=w(jd,"is interested in the Svelte compilation process"),jd.forEach(p),je=S(xd),De=k(xd,"LI",{});var Dd=b(De);Pe=w(Dd,"wants to get started in reading Svelte source code"),Dd.forEach(p),xd.forEach(p),Ld.forEach(p),Me=S(e),Ne=k(e,"SECTION",{});var Pd=b(Ne);_e=k(Pd,"H2",{});var Md=b(_e);He=k(Md,"A",{href:!0,id:!0});var Nd=b(He);We=w(Nd,"Overview"),Nd.forEach(p),Md.forEach(p),Ue=S(Pd),Be=k(Pd,"P",{});var _d=b(Be);Fe=k(_d,"PICTURE",{});var Hd=b(Fe);Je=k(Hd,"SOURCE",{type:!0,srcset:!0}),Ge=k(Hd,"SOURCE",{type:!0,srcset:!0}),ze=k(Hd,"IMG",{title:!0,alt:!0,"data-src":!0,loading:!0}),Hd.forEach(p),_d.forEach(p),qe=S(Pd),Ye=k(Pd,"P",{});var Wd=b(Ye);Ve=w(Wd,"The Svelte compilation process can be broken down into 4-steps"),Wd.forEach(p),Ke=S(Pd),Ze=k(Pd,"UL",{});var Ud=b(Ze);Qe=k(Ud,"LI",{});var Bd=b(Qe);Xe=w(Bd,"Parsing source code into Abstract Syntax Tree (AST)"),Bd.forEach(p),ea=S(Ud),aa=k(Ud,"LI",{});var Fd=b(aa);ta=w(Fd,"Tracking references and dependencies"),Fd.forEach(p),na=S(Ud),ra=k(Ud,"LI",{});var Jd=b(ra);oa=w(Jd,"Creating code blocks and fragments"),Jd.forEach(p),sa=S(Ud),ca=k(Ud,"LI",{});var Gd=b(ca);ia=w(Gd,"Generate code"),Gd.forEach(p),Ud.forEach(p),la=S(Pd),ha=k(Pd,"P",{});var zd=b(ha);pa=w(zd,"Which sums out by the following pseudocode:"),zd.forEach(p),da=S(Pd),fa=k(Pd,"PRE",{class:!0}),b(fa).forEach(p),Pd.forEach(p),ua=S(e),va=k(e,"SECTION",{});var qd=b(va);ma=k(qd,"H2",{});var Yd=b(ma);Ea=k(Yd,"A",{href:!0,id:!0});var Vd=b(Ea);ga=w(Vd,"1. Parsing source code into AST"),Vd.forEach(p),Yd.forEach(p),ba=S(qd),ka=k(qd,"P",{});var Kd=b(ka);wa=k(Kd,"PICTURE",{});var Zd=b(wa);Sa=k(Zd,"SOURCE",{type:!0,srcset:!0}),ya=k(Zd,"SOURCE",{type:!0,srcset:!0}),Aa=k(Zd,"IMG",{title:!0,alt:!0,"data-src":!0,loading:!0}),Zd.forEach(p),Kd.forEach(p),Ta=S(qd),Ca=k(qd,"PRE",{class:!0}),b(Ca).forEach(p),Ia=S(qd),La=k(qd,"P",{});var Qd=b(La);Oa=w(Qd,"The Svelte syntax is a superset of HTML. Svelte implements its own parser for the Svelte syntax, which handles:"),Qd.forEach(p),Ra=S(qd),$a=k(qd,"UL",{});var Xd=b($a);xa=k(Xd,"LI",{});var ef=b(xa);ja=w(ef,"HTML syntax "),Da=k(ef,"CODE",{});var af=b(Da);Pa=w(af,"<div>"),af.forEach(p),ef.forEach(p),Ma=S(Xd),Na=k(Xd,"LI",{});var tf=b(Na);_a=w(tf,"Curly brackets "),Ha=k(tf,"CODE",{});var nf=b(Ha);Wa=w(nf,"{ data }"),nf.forEach(p),tf.forEach(p),Ua=S(Xd),Ba=k(Xd,"LI",{});var rf=b(Ba);Fa=w(rf,"Logic blocks "),Ja=k(rf,"CODE",{});var of=b(Ja);Ga=w(of,"{#each list as item}"),of.forEach(p),rf.forEach(p),Xd.forEach(p),za=S(qd),qa=k(qd,"P",{});var sf=b(qa);Ya=w(sf,"The Svelte parser handles specially for "),Va=k(sf,"CODE",{});var cf=b(Va);Ka=w(cf,"<script>"),cf.forEach(p),Za=w(sf," and "),Qa=k(sf,"CODE",{});var lf=b(Qa);Xa=w(lf,"<style>"),lf.forEach(p),et=w(sf," tags."),sf.forEach(p),at=S(qd),tt=k(qd,"P",{});var hf=b(tt);nt=w(hf,"When the parser encounters a "),rt=k(hf,"CODE",{});var pf=b(rt);ot=w(pf,"<script>"),pf.forEach(p),st=w(hf," tag, it uses "),ct=k(hf,"A",{href:!0,rel:!0});var df=b(ct);it=w(df,"acorn"),df.forEach(p),lt=w(hf," to parse the content within the tag. When the parser sees a "),ht=k(hf,"CODE",{});var ff=b(ht);pt=w(ff,"<style>"),ff.forEach(p),dt=w(hf," tag, it uses "),ft=k(hf,"A",{href:!0,rel:!0});var uf=b(ft);ut=w(uf,"css-tree"),uf.forEach(p),vt=w(hf," to parse the CSS content."),hf.forEach(p),mt=S(qd),Et=k(qd,"P",{});var vf=b(Et);gt=w(vf,"Besides, the Svelte parser differentiates instance script, "),bt=k(vf,"CODE",{});var mf=b(bt);kt=w(mf,"<script>"),mf.forEach(p),wt=w(vf,", and module script, "),St=k(vf,"CODE",{});var Ef=b(St);yt=w(Ef,'<script context="module">'),Ef.forEach(p),At=w(vf,"."),vf.forEach(p),Tt=S(qd),Ct=k(qd,"P",{});var gf=b(Ct);It=w(gf,"The Svelte AST look like:"),gf.forEach(p),Lt=S(qd),Ot=k(qd,"PRE",{class:!0}),b(Ot).forEach(p),Rt=S(qd),$t=k(qd,"P",{});var bf=b($t);xt=w(bf,"You can try out the Svelte parser in "),jt=k(bf,"A",{href:!0,rel:!0});var kf=b(jt);Dt=w(kf,"ASTExplorer"),kf.forEach(p),Pt=w(bf,". You can find the Svelte parser under "),Mt=k(bf,"STRONG",{});var wf=b(Mt);Nt=w(wf,"HTML > Svelte"),wf.forEach(p),_t=w(bf,"."),bf.forEach(p),qd.forEach(p),Ht=S(e),Wt=k(e,"SECTION",{});var Sf=b(Wt);Ut=k(Sf,"H3",{});var yf=b(Ut);Bt=k(yf,"A",{href:!0,id:!0});var Af=b(Bt);Ft=w(Af,"Where can I find the parser in the source code?"),Af.forEach(p),yf.forEach(p),Jt=S(Sf),Gt=k(Sf,"P",{});var Tf=b(Gt);zt=w(Tf,"The parsing "),qt=k(Tf,"A",{href:!0,rel:!0});var Cf=b(qt);Yt=w(Cf,"starts here"),Cf.forEach(p),Vt=w(Tf,", which the parser is implemented in "),Kt=k(Tf,"A",{href:!0,rel:!0});var If=b(Kt);Zt=w(If,"src/compiler/parse/index.ts"),If.forEach(p),Qt=w(Tf,"."),Tf.forEach(p),Sf.forEach(p),Xt=S(e),en=k(e,"SECTION",{});var Lf=b(en);an=k(Lf,"H3",{});var Of=b(an);tn=k(Of,"A",{href:!0,id:!0});var Rf=b(tn);nn=w(Rf,"Where can I learn about parsing in JavaScript?"),Rf.forEach(p),Of.forEach(p),rn=S(Lf),on=k(Lf,"P",{});var $f=b(on);sn=w($f,"My previous article, "),cn=k($f,"A",{href:!0});var xf=b(cn);ln=w(xf,'"JSON Parser with JavaScript"'),xf.forEach(p),hn=w($f," introduces the terminology and guides you step-by-step on writing a parser for JSON in JavaScript."),$f.forEach(p),pn=S(Lf),dn=k(Lf,"P",{});var jf=b(dn);fn=w(jf,"If this is the your first time learning about parser, I highly recommend you to read that."),jf.forEach(p),Lf.forEach(p),un=S(e),vn=k(e,"SECTION",{});var Df=b(vn);mn=k(Df,"H2",{});var Pf=b(mn);En=k(Pf,"A",{href:!0,id:!0});var Mf=b(En);gn=w(Mf,"2. Tracking references and dependencies"),Mf.forEach(p),Pf.forEach(p),bn=S(Df),kn=k(Df,"P",{});var Nf=b(kn);wn=k(Nf,"PICTURE",{});var _f=b(wn);Sn=k(_f,"SOURCE",{type:!0,srcset:!0}),yn=k(_f,"SOURCE",{type:!0,srcset:!0}),An=k(_f,"IMG",{title:!0,alt:!0,"data-src":!0,loading:!0}),_f.forEach(p),Nf.forEach(p),Tn=S(Df),Cn=k(Df,"PRE",{class:!0}),b(Cn).forEach(p),In=S(Df),Ln=k(Df,"P",{});var Hf=b(Ln);On=w(Hf,"In this step, Svelte traverses through the AST to track all the variable declared and referenced and their depedencies."),Hf.forEach(p),Df.forEach(p),Rn=S(e),$n=k(e,"SECTION",{});var Wf=b($n);xn=k(Wf,"H3",{});var Uf=b(xn);jn=k(Uf,"A",{href:!0,id:!0});var Bf=b(jn);Dn=w(Bf,"a. Svelte creates a "),Pn=k(Bf,"CODE",{});var Ff=b(Pn);Mn=w(Ff,"Component"),Ff.forEach(p),Nn=w(Bf," instance."),Bf.forEach(p),Uf.forEach(p),_n=S(Wf),Hn=k(Wf,"P",{});var Jf=b(Hn);Wn=w(Jf,"The "),Un=k(Jf,"CODE",{});var Gf=b(Un);Bn=w(Gf,"Component"),Gf.forEach(p),Fn=w(Jf," class stores information of the Svelte component, which includes:"),Jf.forEach(p),Jn=S(Wf),Gn=k(Wf,"UL",{});var zf=b(Gn);zn=k(zf,"LI",{});var qf=b(zn);qn=w(qf,"HTML fragment, "),Yn=k(qf,"A",{href:!0,rel:!0});var Yf=b(Yn);Vn=k(Yf,"CODE",{});var Vf=b(Vn);Kn=w(Vf,"fragment"),Vf.forEach(p),Yf.forEach(p),qf.forEach(p),Zn=S(zf),Qn=k(zf,"LI",{});var Kf=b(Qn);Xn=w(Kf,"instance script and module script AST and their lexical scopes, "),er=k(Kf,"A",{href:!0,rel:!0});var Zf=b(er);ar=k(Zf,"CODE",{});var Qf=b(ar);tr=w(Qf,"instance_scope"),Qf.forEach(p),Zf.forEach(p),nr=w(Kf," and "),rr=k(Kf,"A",{href:!0,rel:!0});var Xf=b(rr);or=k(Xf,"CODE",{});var eu=b(or);sr=w(eu,"module_scope"),eu.forEach(p),Xf.forEach(p),Kf.forEach(p),cr=S(zf),ir=k(zf,"LI",{});var au=b(ir);lr=w(au,"instance variables, "),hr=k(au,"A",{href:!0,rel:!0});var tu=b(hr);pr=k(tu,"CODE",{});var nu=b(pr);dr=w(nu,"vars"),nu.forEach(p),tu.forEach(p),au.forEach(p),fr=S(zf),ur=k(zf,"LI",{});var ru=b(ur);vr=w(ru,"reactive variables, "),mr=k(ru,"A",{href:!0,rel:!0});var ou=b(mr);Er=k(ou,"CODE",{});var su=b(Er);gr=w(su,"reactive_declarations"),su.forEach(p),ou.forEach(p),ru.forEach(p),br=S(zf),kr=k(zf,"LI",{});var cu=b(kr);wr=w(cu,"slots, "),Sr=k(cu,"A",{href:!0,rel:!0});var iu=b(Sr);yr=k(iu,"CODE",{});var lu=b(yr);Ar=w(lu,"slots"),lu.forEach(p),iu.forEach(p),cu.forEach(p),Tr=S(zf),Cr=k(zf,"LI",{});var hu=b(Cr);Ir=k(hu,"A",{href:!0,rel:!0});var pu=b(Ir);Lr=w(pu,"used variable names"),pu.forEach(p),Or=w(hu," to prevent naming conflict when creating temporary variables"),hu.forEach(p),Rr=S(zf),$r=k(zf,"LI",{});var du=b($r);xr=k(du,"A",{href:!0,rel:!0});var fu=b(xr);jr=w(fu,"warnings"),fu.forEach(p),Dr=w(du," and "),Pr=k(du,"A",{href:!0,rel:!0});var uu=b(Pr);Mr=w(uu,"errors"),uu.forEach(p),du.forEach(p),Nr=S(zf),_r=k(zf,"LI",{});var vu=b(_r);Hr=k(vu,"A",{href:!0,rel:!0});var mu=b(Hr);Wr=w(mu,"compile options"),mu.forEach(p),Ur=w(vu," and "),Br=k(vu,"A",{href:!0,rel:!0});var Eu=b(Br);Fr=w(Eu,"ignored warnings"),Eu.forEach(p),vu.forEach(p),zf.forEach(p),Wf.forEach(p),Jr=S(e),Gr=k(e,"SECTION",{});var gu=b(Gr);zr=k(gu,"H3",{});var bu=b(zr);qr=k(bu,"A",{href:!0,id:!0});var ku=b(qr);Yr=w(ku,"b. Traverse the instance script and module script AST"),ku.forEach(p),bu.forEach(p),Vr=S(gu),Kr=k(gu,"P",{});var wu=b(Kr);Zr=k(wu,"CODE",{});var Su=b(Zr);Qr=w(Su,"Component"),Su.forEach(p),Xr=w(wu," traverses the instance script and module script AST to "),eo=k(wu,"STRONG",{});var yu=b(eo);ao=w(yu,"find out all the variables declared, referenced, and updated"),yu.forEach(p),to=w(wu," within the instance script and module script."),wu.forEach(p),no=S(gu),ro=k(gu,"P",{});var Au=b(ro);oo=w(Au,"Svelte identifies all the variables available before traversing the template. When encountering the variable during template traversal, Svelte will mark the variable as "),so=k(Au,"CODE",{});var Tu=b(so);co=w(Tu,"referenced"),Tu.forEach(p),io=w(Au," from template."),Au.forEach(p),gu.forEach(p),lo=S(e),ho=k(e,"SECTION",{});var Cu=b(ho);po=k(Cu,"H3",{});var Iu=b(po);fo=k(Iu,"A",{href:!0,id:!0});var Lu=b(fo);uo=w(Lu,"c. Traverse the template"),Lu.forEach(p),Iu.forEach(p),vo=S(Cu),mo=k(Cu,"P",{});var Ou=b(mo);Eo=w(Ou,"Svelte traverses through the template AST and creates a "),go=k(Ou,"A",{href:!0,rel:!0});var Ru=b(go);bo=w(Ru,"Fragment"),Ru.forEach(p),ko=w(Ou," tree out of the template AST."),Ou.forEach(p),wo=S(Cu),So=k(Cu,"P",{});var $u=b(So);yo=w($u,"Each fragment node contains information such as:"),$u.forEach(p),Ao=S(Cu),To=k(Cu,"P",{});var xu=b(To);Co=k(xu,"STRONG",{});var ju=b(Co);Io=w(ju,"- expression and dependencies"),ju.forEach(p),xu.forEach(p),Lo=S(Cu),Oo=k(Cu,"P",{});var Du=b(Oo);Ro=w(Du,"Logic blocks, "),$o=k(Du,"CODE",{});var Pu=b($o);xo=w(Pu,"{#if}"),Pu.forEach(p),jo=w(Du,", and mustache tags, "),Do=k(Du,"CODE",{});var Mu=b(Do);Po=w(Mu,"{ data }"),Mu.forEach(p),Mo=w(Du,", contain expression and the dependencies of the expression."),Du.forEach(p),No=S(Cu),_o=k(Cu,"P",{});var Nu=b(_o);Ho=k(Nu,"STRONG",{});var _u=b(Ho);Wo=w(_u,"- scope"),_u.forEach(p),Nu.forEach(p),Uo=S(Cu),Bo=k(Cu,"P",{});var Hu=b(Bo);Fo=k(Hu,"CODE",{});var Wu=b(Fo);Jo=w(Wu,"{#each}"),Wu.forEach(p),Go=w(Hu," and "),zo=k(Hu,"CODE",{});var Uu=b(zo);qo=w(Uu,"{#await}"),Uu.forEach(p),Yo=w(Hu," logic block and "),Vo=k(Hu,"CODE",{});var Bu=b(Vo);Ko=w(Bu,"let:"),Bu.forEach(p),Zo=w(Hu," binding create new variables for the children template."),Hu.forEach(p),Qo=S(Cu),Xo=k(Cu,"P",{});var Fu=b(Xo);es=w(Fu,"Svelte creates a different Fragment node for each type of node in the AST, as different kind of Fragment node handles things differently:"),Fu.forEach(p),as=S(Cu),ts=k(Cu,"UL",{});var Ju=b(ts);ns=k(Ju,"LI",{});var Gu=b(ns);rs=k(Gu,"A",{href:!0,rel:!0});var zu=b(rs);os=w(zu,"Element node"),zu.forEach(p),ss=w(Gu," validates the "),cs=k(Gu,"A",{href:!0,rel:!0});var qu=b(cs);is=w(qu,"attribute"),qu.forEach(p),ls=w(Gu,", "),hs=k(Gu,"A",{href:!0,rel:!0});var Yu=b(hs);ps=w(Yu,"bindings"),Yu.forEach(p),ds=w(Gu,", "),fs=k(Gu,"A",{href:!0,rel:!0});var Vu=b(fs);us=w(Vu,"content"),Vu.forEach(p),vs=w(Gu," and "),ms=k(Gu,"A",{href:!0,rel:!0});var Ku=b(ms);Es=w(Ku,"event handlers"),Ku.forEach(p),gs=w(Gu,"."),Gu.forEach(p),bs=S(Ju),ks=k(Ju,"LI",{});var Zu=b(ks);ws=k(Zu,"A",{href:!0,rel:!0});var Qu=b(ws);Ss=w(Qu,"Slot node"),Qu.forEach(p),ys=w(Zu," registers the slot name to the "),As=k(Zu,"CODE",{});var Xu=b(As);Ts=w(Xu,"Component"),Xu.forEach(p),Cs=w(Zu,"."),Zu.forEach(p),Is=S(Ju),Ls=k(Ju,"LI",{});var ev=b(Ls);Os=k(ev,"A",{href:!0,rel:!0});var av=b(Os);Rs=w(av,"EachBlock node"),av.forEach(p),$s=w(ev," creates a new scope and tracks the "),xs=k(ev,"CODE",{});var tv=b(xs);js=w(tv,"key"),tv.forEach(p),Ds=w(ev,", "),Ps=k(ev,"CODE",{});var nv=b(Ps);Ms=w(nv,"index"),nv.forEach(p),Ns=w(ev," and the name of the list to be iterated."),ev.forEach(p),_s=S(Ju),Hs=k(Ju,"LI",{});var rv=b(Hs);Ws=w(rv,"..."),rv.forEach(p),Ju.forEach(p),Cu.forEach(p),Us=S(e),Bs=k(e,"SECTION",{});var ov=b(Bs);Fs=k(ov,"H3",{});var sv=b(Fs);Js=k(sv,"A",{href:!0,id:!0});var cv=b(Js);Gs=w(cv,"d. Traverse the instance script AST"),cv.forEach(p),sv.forEach(p),zs=S(ov),qs=k(ov,"P",{});var iv=b(qs);Ys=w(iv,"After traversing through the template, Svelte now knows whether a variable is ever being updated or referenced in the component."),iv.forEach(p),Vs=S(ov),Ks=k(ov,"P",{});var lv=b(Ks);Zs=w(lv,"With this information, Svelte tries make preparations for optimising the output, for example:"),lv.forEach(p),Qs=S(ov),Xs=k(ov,"UL",{});var hv=b(Xs);ec=k(hv,"LI",{});var pv=b(ec);ac=w(pv,"determine which variables or functions can be safely hoisted out of the "),tc=k(pv,"CODE",{});var dv=b(tc);nc=w(dv,"instance"),dv.forEach(p),rc=w(pv," function."),pv.forEach(p),oc=S(hv),sc=k(hv,"LI",{});var fv=b(sc);cc=w(fv,"determine reactive declarations that does not need to be reactive"),fv.forEach(p),hv.forEach(p),ov.forEach(p),ic=S(e),lc=k(e,"SECTION",{});var uv=b(lc);hc=k(uv,"H3",{});var vv=b(hc);pc=k(vv,"A",{href:!0,id:!0});var mv=b(pc);dc=w(mv,"e. Update CSS selectors to make style declarations component scope"),mv.forEach(p),vv.forEach(p),fc=S(uv),uc=k(uv,"P",{});var Ev=b(uc);vc=w(Ev,"Svelte updates the CSS selectors, by adding "),mc=k(Ev,"CODE",{});var gv=b(mc);Ec=w(gv,".svelte-xxx"),gv.forEach(p),gc=w(Ev," class to the selectors when necessary."),Ev.forEach(p),bc=S(uv),kc=k(uv,"P",{});var bv=b(kc);wc=w(bv,"At the end of this step, Svelte has enough information to generate the compiled code, which brings us to the next step."),bv.forEach(p),uv.forEach(p),Sc=S(e),yc=k(e,"SECTION",{});var kv=b(yc);Ac=k(kv,"H3",{});var wv=b(Ac);Tc=k(wv,"A",{href:!0,id:!0});var Sv=b(Tc);Cc=w(Sv,"Where can I find this in the source code?"),Sv.forEach(p),wv.forEach(p),Ic=S(kv),Lc=k(kv,"P",{});var yv=b(Lc);Oc=w(yv,"You can start reading "),Rc=k(yv,"A",{href:!0,rel:!0});var Av=b(Rc);$c=w(Av,"from here"),Av.forEach(p),xc=w(yv,", which the "),jc=k(yv,"CODE",{});var Tv=b(jc);Dc=w(Tv,"Component"),Tv.forEach(p),Pc=w(yv," is implemented in "),Mc=k(yv,"A",{href:!0,rel:!0});var Cv=b(Mc);Nc=w(Cv,"src/compiler/compile/Component.ts"),Cv.forEach(p),_c=w(yv,"."),yv.forEach(p),kv.forEach(p),Hc=S(e),Wc=k(e,"SECTION",{});var Iv=b(Wc);Uc=k(Iv,"H3",{});var Lv=b(Uc);Bc=k(Lv,"A",{href:!0,id:!0});var Ov=b(Bc);Fc=w(Ov,"Where can I learn about traversing in JavaScript?"),Ov.forEach(p),Lv.forEach(p),Jc=S(Iv),Gc=k(Iv,"P",{});var Rv=b(Gc);zc=w(Rv,"Bear with my shameless plug, my previous article, "),qc=k(Rv,"A",{href:!0});var $v=b(qc);Yc=w($v,'"Manipulating AST with JavaScript"'),$v.forEach(p),Vc=w(Rv," covers relevant knowledge you need to know about traversing AST in JavaScript."),Rv.forEach(p),Iv.forEach(p),Kc=S(e),Zc=k(e,"SECTION",{});var xv=b(Zc);Qc=k(xv,"H2",{});var jv=b(Qc);Xc=k(jv,"A",{href:!0,id:!0});var Dv=b(Xc);ei=w(Dv,"3. Creating code blocks and fragments"),Dv.forEach(p),jv.forEach(p),ai=S(xv),ti=k(xv,"P",{});var Pv=b(ti);ni=k(Pv,"PICTURE",{});var Mv=b(ni);ri=k(Mv,"SOURCE",{type:!0,srcset:!0}),oi=k(Mv,"SOURCE",{type:!0,srcset:!0}),si=k(Mv,"IMG",{title:!0,alt:!0,"data-src":!0,loading:!0}),Mv.forEach(p),Pv.forEach(p),ci=S(xv),ii=k(xv,"PRE",{class:!0}),b(ii).forEach(p),li=S(xv),hi=k(xv,"P",{});var Nv=b(hi);pi=w(Nv,"In this step, Svelte creates a "),di=k(Nv,"CODE",{});var _v=b(di);fi=w(_v,"Renderer"),_v.forEach(p),ui=w(Nv," instance which keeps track necessary information required to generate the compiled output. Depending on the whether to output DOM or SSR code "),vi=k(Nv,"EM",{});var Hv=b(vi);mi=w(Hv,"("),Ei=k(Hv,"A",{href:!0,rel:!0});var Wv=b(Ei);gi=w(Wv,"see "),bi=k(Wv,"CODE",{});var Uv=b(bi);ki=w(Uv,"generate"),Uv.forEach(p),wi=w(Wv," in compile options"),Wv.forEach(p),Si=w(Hv,")"),Hv.forEach(p),yi=w(Nv,", Svelte instantiates different "),Ai=k(Nv,"CODE",{});var Bv=b(Ai);Ti=w(Bv,"Renderer"),Bv.forEach(p),Ci=w(Nv," respectively."),Nv.forEach(p),xv.forEach(p),Ii=S(e),Li=k(e,"SECTION",{});var Fv=b(Li);Oi=k(Fv,"H3",{});var Jv=b(Oi);Ri=k(Jv,"A",{href:!0,id:!0});var Gv=b(Ri);$i=w(Gv,"DOM Renderer"),Gv.forEach(p),Jv.forEach(p),xi=S(Fv),ji=k(Fv,"P",{});var zv=b(ji);Di=w(zv,"DOM Renderer keeps track of "),Pi=k(zv,"A",{href:!0,rel:!0});var qv=b(Pi);Mi=w(qv,"a list of blocks"),qv.forEach(p),Ni=w(zv," and "),_i=k(zv,"A",{href:!0,rel:!0});var Yv=b(_i);Hi=w(Yv,"context"),Yv.forEach(p),Wi=w(zv,"."),zv.forEach(p),Ui=S(Fv),Bi=k(Fv,"P",{});var Vv=b(Bi);Fi=w(Vv,"A "),Ji=k(Vv,"A",{href:!0,rel:!0});var Kv=b(Ji);Gi=w(Kv,"Block"),Kv.forEach(p),zi=w(Vv," contains code fragments for generate the "),qi=k(Vv,"A",{href:!0});var Zv=b(qi);Yi=k(Zv,"CODE",{});var Qv=b(Yi);Vi=w(Qv,"create_fragment"),Qv.forEach(p),Zv.forEach(p),Ki=w(Vv," function."),Vv.forEach(p),Zi=S(Fv),Qi=k(Fv,"P",{});var Xv=b(Qi);Xi=w(Xv,"Context tracks a list of "),el=k(Xv,"A",{href:!0});var em=b(el);al=w(em,"instance variables"),em.forEach(p),tl=w(Xv," which will be presented in the "),nl=k(Xv,"CODE",{});var am=b(nl);rl=w(am,"$$.ctx"),am.forEach(p),ol=w(Xv," in the compiled output."),Xv.forEach(p),sl=S(Fv),cl=k(Fv,"P",{});var tm=b(cl);il=w(tm,"In the renderer, Svelte creates a "),ll=k(tm,"A",{href:!0,rel:!0});var nm=b(ll);hl=w(nm,"render tree"),nm.forEach(p),pl=w(tm," out of the Fragment tree."),tm.forEach(p),dl=S(Fv),fl=k(Fv,"P",{});var rm=b(fl);ul=w(rm,"Each node in the render tree implements the "),vl=k(rm,"CODE",{});var om=b(vl);ml=w(om,"render"),om.forEach(p),El=w(rm," function which generate codes that create and update the DOM for the node."),rm.forEach(p),Fv.forEach(p),gl=S(e),bl=k(e,"SECTION",{});var sm=b(bl);kl=k(sm,"H3",{});var cm=b(kl);wl=k(cm,"A",{href:!0,id:!0});var im=b(wl);Sl=w(im,"SSR Renderer"),im.forEach(p),cm.forEach(p),yl=S(sm),Al=k(sm,"P",{});var lm=b(Al);Tl=w(lm,"SSR Renderer provide helpers to generate "),Cl=k(lm,"A",{href:!0,rel:!0});var hm=b(Cl);Il=w(hm,"template literals"),hm.forEach(p),Ll=w(lm," in the compiled output, such as "),Ol=k(lm,"A",{href:!0,rel:!0});var pm=b(Ol);Rl=k(pm,"CODE",{});var dm=b(Rl);$l=w(dm,"add_string(str)"),dm.forEach(p),pm.forEach(p),xl=w(lm," and "),jl=k(lm,"A",{href:!0,rel:!0});var fm=b(jl);Dl=k(fm,"CODE",{});var um=b(Dl);Pl=w(um,"add_expression(node)"),um.forEach(p),fm.forEach(p),Ml=w(lm,"."),lm.forEach(p),sm.forEach(p),Nl=S(e),_l=k(e,"SECTION",{});var vm=b(_l);Hl=k(vm,"H3",{});var mm=b(Hl);Wl=k(mm,"A",{href:!0,id:!0});var Em=b(Wl);Ul=w(Em,"Where can I find the "),Bl=k(Em,"CODE",{});var gm=b(Bl);Fl=w(gm,"Renderer"),gm.forEach(p),Jl=w(Em," in the source code?"),Em.forEach(p),mm.forEach(p),Gl=S(vm),zl=k(vm,"P",{});var bm=b(zl);ql=w(bm,"The DOM Renderer is implemented in "),Yl=k(bm,"A",{href:!0,rel:!0});var km=b(Yl);Vl=w(km,"src/compiler/compile/render_dom/Renderer.ts"),km.forEach(p),Kl=w(bm,", and you can check out the SSR Renderer code in "),Zl=k(bm,"A",{href:!0,rel:!0});var wm=b(Zl);Ql=w(wm,"src/compiler/compile/render_ssr/Renderer.ts"),wm.forEach(p),Xl=w(bm,"."),bm.forEach(p),vm.forEach(p),eh=S(e),ah=k(e,"SECTION",{});var Sm=b(ah);th=k(Sm,"H2",{});var ym=b(th);nh=k(ym,"A",{href:!0,id:!0});var Am=b(nh);rh=w(Am,"4. Generate code"),Am.forEach(p),ym.forEach(p),oh=S(Sm),sh=k(Sm,"P",{});var Tm=b(sh);ch=k(Tm,"PICTURE",{});var Cm=b(ch);ih=k(Cm,"SOURCE",{type:!0,srcset:!0}),lh=k(Cm,"SOURCE",{type:!0,srcset:!0}),hh=k(Cm,"IMG",{title:!0,alt:!0,"data-src":!0,loading:!0}),Cm.forEach(p),Tm.forEach(p),ph=S(Sm),dh=k(Sm,"PRE",{class:!0}),b(dh).forEach(p),fh=S(Sm),uh=k(Sm,"P",{});var Im=b(uh);vh=w(Im,"Different renderer renders differently."),Im.forEach(p),mh=S(Sm),Eh=k(Sm,"P",{});var Lm=b(Eh);gh=k(Lm,"STRONG",{});var Om=b(gh);bh=w(Om,"The DOM Renderer"),Om.forEach(p),kh=w(Lm," traverses through the render tree and calls the "),wh=k(Lm,"CODE",{});var Rm=b(wh);Sh=w(Rm,"render"),Rm.forEach(p),yh=w(Lm," function of each node along the way. The "),Ah=k(Lm,"CODE",{});var $m=b(Ah);Th=w($m,"Block"),$m.forEach(p),Ch=w(Lm," instance is passed into the "),Ih=k(Lm,"CODE",{});var xm=b(Ih);Lh=w(xm,"render"),xm.forEach(p),Oh=w(Lm," function, so that each node inserts the code into the appropriate "),Rh=k(Lm,"CODE",{});var jm=b(Rh);$h=w(jm,"create_fragment"),jm.forEach(p),xh=w(Lm," function."),Lm.forEach(p),jh=S(Sm),Dh=k(Sm,"P",{});var Dm=b(Dh);Ph=k(Dm,"STRONG",{});var Pm=b(Ph);Mh=w(Pm,"The SSR Renderer"),Pm.forEach(p),Nh=w(Dm,", on the other hand, relies on different "),_h=k(Dm,"A",{href:!0,rel:!0});var Mm=b(_h);Hh=w(Mm,"node handlers"),Mm.forEach(p),Wh=w(Dm," to insert strings or expressions into the final template literal."),Dm.forEach(p),Uh=S(Sm),Bh=k(Sm,"P",{});var Nm=b(Bh);Fh=w(Nm,"The render function returns "),Jh=k(Nm,"CODE",{});var _m=b(Jh);Gh=w(_m,"js"),_m.forEach(p),zh=w(Nm," and "),qh=k(Nm,"CODE",{});var Hm=b(qh);Yh=w(Hm,"css"),Hm.forEach(p),Vh=w(Nm," which will be consumed by the bundler, via "),Kh=k(Nm,"A",{href:!0,rel:!0});var Wm=b(Kh);Zh=w(Wm,"rollup-plugin-svelte"),Wm.forEach(p),Qh=w(Nm," for rollup and "),Xh=k(Nm,"A",{href:!0,rel:!0});var Um=b(Xh);ep=w(Um,"svelte-loader"),Um.forEach(p),ap=w(Nm," for webpack respectively."),Nm.forEach(p),Sm.forEach(p),tp=S(e),np=k(e,"SECTION",{});var Bm=b(np);rp=k(Bm,"H2",{});var Fm=b(rp);op=k(Fm,"A",{href:!0,id:!0});var Jm=b(op);sp=w(Jm,"Svelte runtime"),Jm.forEach(p),Fm.forEach(p),cp=S(Bm),ip=k(Bm,"P",{});var Gm=b(ip);lp=w(Gm,"To remove duplicate code in the compiled output, Svelte provide util function which can be found in the "),hp=k(Gm,"A",{href:!0,rel:!0});var zm=b(hp);pp=w(zm,"src/runtime/internal"),zm.forEach(p),dp=w(Gm,", such as:"),Gm.forEach(p),fp=S(Bm),up=k(Bm,"UL",{});var qm=b(up);vp=k(qm,"LI",{});var Ym=b(vp);mp=w(Ym,"dom related utils, eg: "),Ep=k(Ym,"CODE",{});var Vm=b(Ep);gp=w(Vm,"append"),Vm.forEach(p),bp=w(Ym,", "),kp=k(Ym,"CODE",{});var Km=b(kp);wp=w(Km,"insert"),Km.forEach(p),Sp=w(Ym,", "),yp=k(Ym,"CODE",{});var Zm=b(yp);Ap=w(Zm,"detach"),Zm.forEach(p),Ym.forEach(p),Tp=S(qm),Cp=k(qm,"LI",{});var Qm=b(Cp);Ip=w(Qm,"scheduling utils, eg: "),Lp=k(Qm,"CODE",{});var Xm=b(Lp);Op=w(Xm,"schedule_update"),Xm.forEach(p),Rp=w(Qm,", "),$p=k(Qm,"CODE",{});var eE=b($p);xp=w(eE,"flush"),eE.forEach(p),Qm.forEach(p),jp=S(qm),Dp=k(qm,"LI",{});var aE=b(Dp);Pp=w(aE,"lifecycle utils, eg: "),Mp=k(aE,"CODE",{});var tE=b(Mp);Np=w(tE,"onMount"),tE.forEach(p),_p=w(aE,", "),Hp=k(aE,"CODE",{});var nE=b(Hp);Wp=w(nE,"beforeUpdate"),nE.forEach(p),aE.forEach(p),Up=S(qm),Bp=k(qm,"LI",{});var rE=b(Bp);Fp=w(rE,"animation utils, eg: "),Jp=k(rE,"CODE",{});var oE=b(Jp);Gp=w(oE,"create_animation"),oE.forEach(p),rE.forEach(p),qm.forEach(p),Bm.forEach(p),this.h()},h(){g(o,"href","#who-is-this-for"),g(i,"href","#overview"),g(E,"href","#parsing-source-code-into-ast"),g(C,"href","#where-can-i-find-the-parser-in-the-source-code"),g(O,"href","#where-can-i-learn-about-parsing-in-javascript"),g(x,"href","#tracking-references-and-dependencies"),g(M,"href","#a-svelte-creates-a-component-instance"),g(H,"href","#b-traverse-the-instance-script-and-module-script-ast"),g(B,"href","#c-traverse-the-template"),g(G,"href","#d-traverse-the-instance-script-ast"),g(Y,"href","#e-update-css-selectors-to-make-style-declarations-component-scope"),g(Z,"href","#where-can-i-find-this-in-the-source-code"),g(ee,"href","#where-can-i-learn-about-traversing-in-javascript"),g(ne,"href","#creating-code-blocks-and-fragments"),g(ce,"href","#dom-renderer"),g(he,"href","#ssr-renderer"),g(fe,"href","#where-can-i-find-the-renderer-in-the-source-code"),g(me,"href","#generate-code"),g(be,"href","#svelte-runtime"),g(n,"class","sitemap"),g(n,"id","sitemap"),g(n,"role","navigation"),g(n,"aria-label","Table of Contents"),g(Ae,"href","#who-is-this-for"),g(Ae,"id","who-is-this-for"),g(He,"href","#overview"),g(He,"id","overview"),g(Je,"type","image/webp"),g(Je,"srcset","3fd881e7f608a788.webp"),g(Ge,"type","image/jpeg"),g(Ge,"srcset","3fd881e7f608a788.png"),g(ze,"title","null"),g(ze,"alt","Overview"),g(ze,"data-src","3fd881e7f608a788.png"),g(ze,"loading","lazy"),g(fa,"class","language-js"),g(Ea,"href","#parsing-source-code-into-ast"),g(Ea,"id","parsing-source-code-into-ast"),g(Sa,"type","image/webp"),g(Sa,"srcset","cc67f109cdb32408.webp"),g(ya,"type","image/jpeg"),g(ya,"srcset","cc67f109cdb32408.png"),g(Aa,"title","null"),g(Aa,"alt","Step 1"),g(Aa,"data-src","cc67f109cdb32408.png"),g(Aa,"loading","lazy"),g(Ca,"class","language-js"),g(ct,"href","https://www.npmjs.com/package/acorn"),g(ct,"rel","nofollow"),g(ft,"href","https://www.npmjs.com/package/css-tree"),g(ft,"rel","nofollow"),g(Ot,"class","language-js"),g(jt,"href","https://astexplorer.net/#/gist/828907dd1600c208a4e315962c635b4a/e1c895d49e8899a3be849a137fc557ba66eb2423"),g(jt,"rel","nofollow"),g(Bt,"href","#where-can-i-find-the-parser-in-the-source-code"),g(Bt,"id","where-can-i-find-the-parser-in-the-source-code"),g(qt,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/index.ts#L79"),g(qt,"rel","nofollow"),g(Kt,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/parse/index.ts"),g(Kt,"rel","nofollow"),g(tn,"href","#where-can-i-learn-about-parsing-in-javascript"),g(tn,"id","where-can-i-learn-about-parsing-in-javascript"),g(cn,"href","/json-parser-with-javascript"),g(En,"href","#tracking-references-and-dependencies"),g(En,"id","tracking-references-and-dependencies"),g(Sn,"type","image/webp"),g(Sn,"srcset","debdc5af30a7a387.webp"),g(yn,"type","image/jpeg"),g(yn,"srcset","debdc5af30a7a387.png"),g(An,"title","null"),g(An,"alt","Step 2"),g(An,"data-src","debdc5af30a7a387.png"),g(An,"loading","lazy"),g(Cn,"class","language-js"),g(jn,"href","#a-svelte-creates-a-component-instance"),g(jn,"id","a-svelte-creates-a-component-instance"),g(Yn,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L52"),g(Yn,"rel","nofollow"),g(er,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L54"),g(er,"rel","nofollow"),g(rr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L53"),g(rr,"rel","nofollow"),g(hr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L62"),g(hr,"rel","nofollow"),g(mr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L71"),g(mr,"rel","nofollow"),g(Sr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L94"),g(Sr,"rel","nofollow"),g(Ir,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L351"),g(Ir,"rel","nofollow"),g(xr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L43"),g(xr,"rel","nofollow"),g(Pr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L396"),g(Pr,"rel","nofollow"),g(Hr,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L51"),g(Hr,"rel","nofollow"),g(Br,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts#L44"),g(Br,"rel","nofollow"),g(qr,"href","#b-traverse-the-instance-script-and-module-script-ast"),g(qr,"id","b-traverse-the-instance-script-and-module-script-ast"),g(fo,"href","#c-traverse-the-template"),g(fo,"id","c-traverse-the-template"),g(go,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Fragment.ts"),g(go,"rel","nofollow"),g(rs,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Element.ts"),g(rs,"rel","nofollow"),g(cs,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Element.ts#L280"),g(cs,"rel","nofollow"),g(hs,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Element.ts#L461"),g(hs,"rel","nofollow"),g(fs,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Element.ts#L647"),g(fs,"rel","nofollow"),g(ms,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Element.ts#L658"),g(ms,"rel","nofollow"),g(ws,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/Slot.ts"),g(ws,"rel","nofollow"),g(Os,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/nodes/EachBlock.ts"),g(Os,"rel","nofollow"),g(Js,"href","#d-traverse-the-instance-script-ast"),g(Js,"id","d-traverse-the-instance-script-ast"),g(pc,"href","#e-update-css-selectors-to-make-style-declarations-component-scope"),g(pc,"id","e-update-css-selectors-to-make-style-declarations-component-scope"),g(Tc,"href","#where-can-i-find-this-in-the-source-code"),g(Tc,"id","where-can-i-find-this-in-the-source-code"),g(Rc,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/index.ts#L83-L90"),g(Rc,"rel","nofollow"),g(Mc,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/Component.ts"),g(Mc,"rel","nofollow"),g(Bc,"href","#where-can-i-learn-about-traversing-in-javascript"),g(Bc,"id","where-can-i-learn-about-traversing-in-javascript"),g(qc,"href","/manipulating-ast-with-javascript#traversing-an-ast"),g(Xc,"href","#creating-code-blocks-and-fragments"),g(Xc,"id","creating-code-blocks-and-fragments"),g(ri,"type","image/webp"),g(ri,"srcset","3019ca021b2601bd.webp"),g(oi,"type","image/jpeg"),g(oi,"srcset","3019ca021b2601bd.png"),g(si,"title","null"),g(si,"alt","Step 3"),g(si,"data-src","3019ca021b2601bd.png"),g(si,"loading","lazy"),g(ii,"class","language-js"),g(Ei,"href","https://svelte.dev/docs#svelte_compile"),g(Ei,"rel","nofollow"),g(Ri,"href","#dom-renderer"),g(Ri,"id","dom-renderer"),g(Pi,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_dom/Renderer.ts#L31"),g(Pi,"rel","nofollow"),g(_i,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_dom/Renderer.ts#L28"),g(_i,"rel","nofollow"),g(Ji,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_dom/Block.ts"),g(Ji,"rel","nofollow"),g(qi,"href","/compile-svelte-in-your-head-part-1/#create_fragment"),g(el,"href","/compile-svelte-in-your-head-part-2/#ctx"),g(ll,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_dom/wrappers/Fragment.ts"),g(ll,"rel","nofollow"),g(wl,"href","#ssr-renderer"),g(wl,"id","ssr-renderer"),g(Cl,"href","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals"),g(Cl,"rel","nofollow"),g(Ol,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_ssr/Renderer.ts#L63"),g(Ol,"rel","nofollow"),g(jl,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_ssr/Renderer.ts#L67"),g(jl,"rel","nofollow"),g(Wl,"href","#where-can-i-find-the-renderer-in-the-source-code"),g(Wl,"id","where-can-i-find-the-renderer-in-the-source-code"),g(Yl,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_dom/Renderer.ts"),g(Yl,"rel","nofollow"),g(Zl,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_ssr/Renderer.ts"),g(Zl,"rel","nofollow"),g(nh,"href","#generate-code"),g(nh,"id","generate-code"),g(ih,"type","image/webp"),g(ih,"srcset","2606bc5a8aeb2c56.webp"),g(lh,"type","image/jpeg"),g(lh,"srcset","2606bc5a8aeb2c56.png"),g(hh,"title","null"),g(hh,"alt","Step 4"),g(hh,"data-src","2606bc5a8aeb2c56.png"),g(hh,"loading","lazy"),g(dh,"class","language-js"),g(_h,"href","https://github.com/sveltejs/svelte/blob/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/compiler/compile/render_ssr/Renderer.ts#L23-L40"),g(_h,"rel","nofollow"),g(Kh,"href","https://github.com/sveltejs/rollup-plugin-svelte"),g(Kh,"rel","nofollow"),g(Xh,"href","https://github.com/sveltejs/svelte-loader"),g(Xh,"rel","nofollow"),g(op,"href","#svelte-runtime"),g(op,"id","svelte-runtime"),g(hp,"href","https://github.com/sveltejs/svelte/tree/aa3dcc06d6b0fcb079ccd993fa6e3455242a2a96/src/runtime/internal"),g(hp,"rel","nofollow")},m(e,a){h(e,t,a),l(t,n),l(n,r),l(r,o),l(o,s),l(n,c),l(c,i),l(i,d),l(n,u),l(u,E),l(E,y),l(n,A),l(A,T),l(T,C),l(C,I),l(A,L),l(L,O),l(O,R),l(n,$),l($,x),l(x,j),l(n,D),l(D,P),l(P,M),l(M,N),l(D,_),l(_,H),l(H,W),l(D,U),l(U,B),l(B,F),l(D,J),l(J,G),l(G,z),l(D,q),l(q,Y),l(Y,V),l(D,K),l(K,Z),l(Z,Q),l(D,X),l(X,ee),l(ee,ae),l(n,te),l(te,ne),l(ne,re),l(n,oe),l(oe,se),l(se,ce),l(ce,ie),l(oe,le),l(le,he),l(he,pe),l(oe,de),l(de,fe),l(fe,ue),l(n,ve),l(ve,me),l(me,Ee),l(n,ge),l(ge,be),l(be,ke),h(e,we,a),h(e,Se,a),l(Se,ye),l(ye,Ae),l(Ae,Te),l(Se,Ce),l(Se,Ie),l(Ie,Le),l(Se,Oe),l(Se,Re),l(Re,$e),l($e,xe),l(Re,je),l(Re,De),l(De,Pe),h(e,Me,a),h(e,Ne,a),l(Ne,_e),l(_e,He),l(He,We),l(Ne,Ue),l(Ne,Be),l(Be,Fe),l(Fe,Je),l(Fe,Ge),l(Fe,ze),l(Ne,qe),l(Ne,Ye),l(Ye,Ve),l(Ne,Ke),l(Ne,Ze),l(Ze,Qe),l(Qe,Xe),l(Ze,ea),l(Ze,aa),l(aa,ta),l(Ze,na),l(Ze,ra),l(ra,oa),l(Ze,sa),l(Ze,ca),l(ca,ia),l(Ne,la),l(Ne,ha),l(ha,pa),l(Ne,da),l(Ne,fa),fa.innerHTML='<code class="language-js"><span class="token keyword">const</span> source <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span><span class="token string">\'App.svelte\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// parse source code into AST</span>\n<span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// tracking references and dependencies</span>\n<span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Component</span><span class="token punctuation">(</span>ast<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// creating code blocks and fragments</span>\n<span class="token keyword">const</span> renderer <span class="token operator">=</span>\n  options<span class="token punctuation">.</span>generate <span class="token operator">===</span> <span class="token string">\'ssr\'</span> <span class="token operator">?</span> <span class="token function">SSRRenderer</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">DomRenderer</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// Generate code</span>\n<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> js<span class="token punctuation">,</span> css <span class="token punctuation">&#125;</span> <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nfs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">\'App.js\'</span><span class="token punctuation">,</span> js<span class="token punctuation">)</span><span class="token punctuation">;</span>\nfs<span class="token punctuation">.</span><span class="token function">writeFileSync</span><span class="token punctuation">(</span><span class="token string">\'App.css\'</span><span class="token punctuation">,</span> css<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',h(e,ua,a),h(e,va,a),l(va,ma),l(ma,Ea),l(Ea,ga),l(va,ba),l(va,ka),l(ka,wa),l(wa,Sa),l(wa,ya),l(wa,Aa),l(va,Ta),l(va,Ca),Ca.innerHTML='<code class="language-js"><span class="token comment">// parse source code into AST</span>\n<span class="token keyword">const</span> ast <span class="token operator">=</span> <span class="token function">parse</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',l(va,Ia),l(va,La),l(La,Oa),l(va,Ra),l(va,$a),l($a,xa),l(xa,ja),l(xa,Da),l(Da,Pa),l($a,Ma),l($a,Na),l(Na,_a),l(Na,Ha),l(Ha,Wa),l($a,Ua),l($a,Ba),l(Ba,Fa),l(Ba,Ja),l(Ja,Ga),l(va,za),l(va,qa),l(qa,Ya),l(qa,Va),l(Va,Ka),l(qa,Za),l(qa,Qa),l(Qa,Xa),l(qa,et),l(va,at),l(va,tt),l(tt,nt),l(tt,rt),l(rt,ot),l(tt,st),l(tt,ct),l(ct,it),l(tt,lt),l(tt,ht),l(ht,pt),l(tt,dt),l(tt,ft),l(ft,ut),l(tt,vt),l(va,mt),l(va,Et),l(Et,gt),l(Et,bt),l(bt,kt),l(Et,wt),l(Et,St),l(St,yt),l(Et,At),l(va,Tt),l(va,Ct),l(Ct,It),l(va,Lt),l(va,Ot),Ot.innerHTML='<code class="language-js"><span class="token punctuation">&#123;</span>\n  html<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> type<span class="token punctuation">:</span> <span class="token string">\'Fragment\'</span><span class="token punctuation">,</span> children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n  css<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n  instance<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> context<span class="token punctuation">:</span> <span class="token string">\'default\'</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n  module<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span> context<span class="token punctuation">:</span> <span class="token string">\'context\'</span><span class="token punctuation">,</span> content<span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>\n<span class="token punctuation">&#125;</span></code>',l(va,Rt),l(va,$t),l($t,xt),l($t,jt),l(jt,Dt),l($t,Pt),l($t,Mt),l(Mt,Nt),l($t,_t),h(e,Ht,a),h(e,Wt,a),l(Wt,Ut),l(Ut,Bt),l(Bt,Ft),l(Wt,Jt),l(Wt,Gt),l(Gt,zt),l(Gt,qt),l(qt,Yt),l(Gt,Vt),l(Gt,Kt),l(Kt,Zt),l(Gt,Qt),h(e,Xt,a),h(e,en,a),l(en,an),l(an,tn),l(tn,nn),l(en,rn),l(en,on),l(on,sn),l(on,cn),l(cn,ln),l(on,hn),l(en,pn),l(en,dn),l(dn,fn),h(e,un,a),h(e,vn,a),l(vn,mn),l(mn,En),l(En,gn),l(vn,bn),l(vn,kn),l(kn,wn),l(wn,Sn),l(wn,yn),l(wn,An),l(vn,Tn),l(vn,Cn),Cn.innerHTML='<code class="language-js"><span class="token comment">// tracking references and dependencies</span>\n<span class="token keyword">const</span> component <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Component</span><span class="token punctuation">(</span>ast<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',l(vn,In),l(vn,Ln),l(Ln,On),h(e,Rn,a),h(e,$n,a),l($n,xn),l(xn,jn),l(jn,Dn),l(jn,Pn),l(Pn,Mn),l(jn,Nn),l($n,_n),l($n,Hn),l(Hn,Wn),l(Hn,Un),l(Un,Bn),l(Hn,Fn),l($n,Jn),l($n,Gn),l(Gn,zn),l(zn,qn),l(zn,Yn),l(Yn,Vn),l(Vn,Kn),l(Gn,Zn),l(Gn,Qn),l(Qn,Xn),l(Qn,er),l(er,ar),l(ar,tr),l(Qn,nr),l(Qn,rr),l(rr,or),l(or,sr),l(Gn,cr),l(Gn,ir),l(ir,lr),l(ir,hr),l(hr,pr),l(pr,dr),l(Gn,fr),l(Gn,ur),l(ur,vr),l(ur,mr),l(mr,Er),l(Er,gr),l(Gn,br),l(Gn,kr),l(kr,wr),l(kr,Sr),l(Sr,yr),l(yr,Ar),l(Gn,Tr),l(Gn,Cr),l(Cr,Ir),l(Ir,Lr),l(Cr,Or),l(Gn,Rr),l(Gn,$r),l($r,xr),l(xr,jr),l($r,Dr),l($r,Pr),l(Pr,Mr),l(Gn,Nr),l(Gn,_r),l(_r,Hr),l(Hr,Wr),l(_r,Ur),l(_r,Br),l(Br,Fr),h(e,Jr,a),h(e,Gr,a),l(Gr,zr),l(zr,qr),l(qr,Yr),l(Gr,Vr),l(Gr,Kr),l(Kr,Zr),l(Zr,Qr),l(Kr,Xr),l(Kr,eo),l(eo,ao),l(Kr,to),l(Gr,no),l(Gr,ro),l(ro,oo),l(ro,so),l(so,co),l(ro,io),h(e,lo,a),h(e,ho,a),l(ho,po),l(po,fo),l(fo,uo),l(ho,vo),l(ho,mo),l(mo,Eo),l(mo,go),l(go,bo),l(mo,ko),l(ho,wo),l(ho,So),l(So,yo),l(ho,Ao),l(ho,To),l(To,Co),l(Co,Io),l(ho,Lo),l(ho,Oo),l(Oo,Ro),l(Oo,$o),l($o,xo),l(Oo,jo),l(Oo,Do),l(Do,Po),l(Oo,Mo),l(ho,No),l(ho,_o),l(_o,Ho),l(Ho,Wo),l(ho,Uo),l(ho,Bo),l(Bo,Fo),l(Fo,Jo),l(Bo,Go),l(Bo,zo),l(zo,qo),l(Bo,Yo),l(Bo,Vo),l(Vo,Ko),l(Bo,Zo),l(ho,Qo),l(ho,Xo),l(Xo,es),l(ho,as),l(ho,ts),l(ts,ns),l(ns,rs),l(rs,os),l(ns,ss),l(ns,cs),l(cs,is),l(ns,ls),l(ns,hs),l(hs,ps),l(ns,ds),l(ns,fs),l(fs,us),l(ns,vs),l(ns,ms),l(ms,Es),l(ns,gs),l(ts,bs),l(ts,ks),l(ks,ws),l(ws,Ss),l(ks,ys),l(ks,As),l(As,Ts),l(ks,Cs),l(ts,Is),l(ts,Ls),l(Ls,Os),l(Os,Rs),l(Ls,$s),l(Ls,xs),l(xs,js),l(Ls,Ds),l(Ls,Ps),l(Ps,Ms),l(Ls,Ns),l(ts,_s),l(ts,Hs),l(Hs,Ws),h(e,Us,a),h(e,Bs,a),l(Bs,Fs),l(Fs,Js),l(Js,Gs),l(Bs,zs),l(Bs,qs),l(qs,Ys),l(Bs,Vs),l(Bs,Ks),l(Ks,Zs),l(Bs,Qs),l(Bs,Xs),l(Xs,ec),l(ec,ac),l(ec,tc),l(tc,nc),l(ec,rc),l(Xs,oc),l(Xs,sc),l(sc,cc),h(e,ic,a),h(e,lc,a),l(lc,hc),l(hc,pc),l(pc,dc),l(lc,fc),l(lc,uc),l(uc,vc),l(uc,mc),l(mc,Ec),l(uc,gc),l(lc,bc),l(lc,kc),l(kc,wc),h(e,Sc,a),h(e,yc,a),l(yc,Ac),l(Ac,Tc),l(Tc,Cc),l(yc,Ic),l(yc,Lc),l(Lc,Oc),l(Lc,Rc),l(Rc,$c),l(Lc,xc),l(Lc,jc),l(jc,Dc),l(Lc,Pc),l(Lc,Mc),l(Mc,Nc),l(Lc,_c),h(e,Hc,a),h(e,Wc,a),l(Wc,Uc),l(Uc,Bc),l(Bc,Fc),l(Wc,Jc),l(Wc,Gc),l(Gc,zc),l(Gc,qc),l(qc,Yc),l(Gc,Vc),h(e,Kc,a),h(e,Zc,a),l(Zc,Qc),l(Qc,Xc),l(Xc,ei),l(Zc,ai),l(Zc,ti),l(ti,ni),l(ni,ri),l(ni,oi),l(ni,si),l(Zc,ci),l(Zc,ii),ii.innerHTML='<code class="language-js"><span class="token comment">// creating code blocks and fragments</span>\n<span class="token keyword">const</span> renderer <span class="token operator">=</span>\n  options<span class="token punctuation">.</span>generate <span class="token operator">===</span> <span class="token string">\'ssr\'</span> <span class="token operator">?</span> <span class="token function">SSRRenderer</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token function">DomRenderer</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span><span class="token punctuation">;</span></code>',l(Zc,li),l(Zc,hi),l(hi,pi),l(hi,di),l(di,fi),l(hi,ui),l(hi,vi),l(vi,mi),l(vi,Ei),l(Ei,gi),l(Ei,bi),l(bi,ki),l(Ei,wi),l(vi,Si),l(hi,yi),l(hi,Ai),l(Ai,Ti),l(hi,Ci),h(e,Ii,a),h(e,Li,a),l(Li,Oi),l(Oi,Ri),l(Ri,$i),l(Li,xi),l(Li,ji),l(ji,Di),l(ji,Pi),l(Pi,Mi),l(ji,Ni),l(ji,_i),l(_i,Hi),l(ji,Wi),l(Li,Ui),l(Li,Bi),l(Bi,Fi),l(Bi,Ji),l(Ji,Gi),l(Bi,zi),l(Bi,qi),l(qi,Yi),l(Yi,Vi),l(Bi,Ki),l(Li,Zi),l(Li,Qi),l(Qi,Xi),l(Qi,el),l(el,al),l(Qi,tl),l(Qi,nl),l(nl,rl),l(Qi,ol),l(Li,sl),l(Li,cl),l(cl,il),l(cl,ll),l(ll,hl),l(cl,pl),l(Li,dl),l(Li,fl),l(fl,ul),l(fl,vl),l(vl,ml),l(fl,El),h(e,gl,a),h(e,bl,a),l(bl,kl),l(kl,wl),l(wl,Sl),l(bl,yl),l(bl,Al),l(Al,Tl),l(Al,Cl),l(Cl,Il),l(Al,Ll),l(Al,Ol),l(Ol,Rl),l(Rl,$l),l(Al,xl),l(Al,jl),l(jl,Dl),l(Dl,Pl),l(Al,Ml),h(e,Nl,a),h(e,_l,a),l(_l,Hl),l(Hl,Wl),l(Wl,Ul),l(Wl,Bl),l(Bl,Fl),l(Wl,Jl),l(_l,Gl),l(_l,zl),l(zl,ql),l(zl,Yl),l(Yl,Vl),l(zl,Kl),l(zl,Zl),l(Zl,Ql),l(zl,Xl),h(e,eh,a),h(e,ah,a),l(ah,th),l(th,nh),l(nh,rh),l(ah,oh),l(ah,sh),l(sh,ch),l(ch,ih),l(ch,lh),l(ch,hh),l(ah,ph),l(ah,dh),dh.innerHTML='<code class="language-js"><span class="token comment">// Generate code</span>\n<span class="token keyword">const</span> <span class="token punctuation">&#123;</span> js<span class="token punctuation">,</span> css <span class="token punctuation">&#125;</span> <span class="token operator">=</span> renderer<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code>',l(ah,fh),l(ah,uh),l(uh,vh),l(ah,mh),l(ah,Eh),l(Eh,gh),l(gh,bh),l(Eh,kh),l(Eh,wh),l(wh,Sh),l(Eh,yh),l(Eh,Ah),l(Ah,Th),l(Eh,Ch),l(Eh,Ih),l(Ih,Lh),l(Eh,Oh),l(Eh,Rh),l(Rh,$h),l(Eh,xh),l(ah,jh),l(ah,Dh),l(Dh,Ph),l(Ph,Mh),l(Dh,Nh),l(Dh,_h),l(_h,Hh),l(Dh,Wh),l(ah,Uh),l(ah,Bh),l(Bh,Fh),l(Bh,Jh),l(Jh,Gh),l(Bh,zh),l(Bh,qh),l(qh,Yh),l(Bh,Vh),l(Bh,Kh),l(Kh,Zh),l(Bh,Qh),l(Bh,Xh),l(Xh,ep),l(Bh,ap),h(e,tp,a),h(e,np,a),l(np,rp),l(rp,op),l(op,sp),l(np,cp),l(np,ip),l(ip,lp),l(ip,hp),l(hp,pp),l(ip,dp),l(np,fp),l(np,up),l(up,vp),l(vp,mp),l(vp,Ep),l(Ep,gp),l(vp,bp),l(vp,kp),l(kp,wp),l(vp,Sp),l(vp,yp),l(yp,Ap),l(up,Tp),l(up,Cp),l(Cp,Ip),l(Cp,Lp),l(Lp,Op),l(Cp,Rp),l(Cp,$p),l($p,xp),l(up,jp),l(up,Dp),l(Dp,Pp),l(Dp,Mp),l(Mp,Np),l(Dp,_p),l(Dp,Hp),l(Hp,Wp),l(up,Up),l(up,Bp),l(Bp,Fp),l(Bp,Jp),l(Jp,Gp)},p:e,d(e){e&&p(t),e&&p(we),e&&p(Se),e&&p(Me),e&&p(Ne),e&&p(ua),e&&p(va),e&&p(Ht),e&&p(Wt),e&&p(Xt),e&&p(en),e&&p(un),e&&p(vn),e&&p(Rn),e&&p($n),e&&p(Jr),e&&p(Gr),e&&p(lo),e&&p(ho),e&&p(Us),e&&p(Bs),e&&p(ic),e&&p(lc),e&&p(Sc),e&&p(yc),e&&p(Hc),e&&p(Wc),e&&p(Kc),e&&p(Zc),e&&p(Ii),e&&p(Li),e&&p(gl),e&&p(bl),e&&p(Nl),e&&p(_l),e&&p(eh),e&&p(ah),e&&p(tp),e&&p(np)}}}function de(e){let t,n;const r=[fe];let o={$$slots:{default:[pe]},$$scope:{ctx:e}};for(let e=0;e<r.length;e+=1)o=a(o,r[e]);return t=new he({props:o}),{c(){F(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,a){G(t,e,a),n=!0},p(e,[a]){const n=0&a?function(e,a){const t={},n={},r={$$scope:1};let o=e.length;for(;o--;){const s=e[o],c=a[o];if(c){for(const e in s)e in c||(n[e]=1);for(const e in c)r[e]||(t[e]=c[e],r[e]=1);e[o]=c}else for(const e in s)r[e]=1}for(const e in n)e in t||(t[e]=void 0);return t}(r,[(o=fe,"object"==typeof o&&null!==o?o:{})]):{};var o;1&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n)},i(e){n||(U(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){z(t,e)}}}const fe={title:"The Svelte Compiler Handbook",date:"2020-04-05T08:00:00Z",tags:["Svelte","JavaScript","compiler"],description:"The Svelte compilation process can be broken down into 4-steps, 1) parsing source code into AST, 2) tracking references and dependencies, 3) creating code blocks and fragments, and 4) generate code.",slug:"the-svelte-compiler-handbook",type:"blog"};class ue extends V{constructor(e){super(),Y(this,e,null,de,s,{})}}setTimeout(()=>{new ue({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const e=document.createElement("script");e.async=!0,e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",document.body.appendChild(e)}},3e3);
