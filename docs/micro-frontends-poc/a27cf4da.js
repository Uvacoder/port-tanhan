function e(){}function t(e,t){for(const r in t)e[r]=t[r];return e}function r(e){return e()}function o(){return Object.create(null)}function a(e){e.forEach(r)}function n(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,r,o,a){return e[1]&&a?t(o.ctx.slice(),e[1](a(r))):o.ctx}function s(e,t,r,o,a,n,i){const s=function(e,t,r,o){if(e[2]&&o){const a=e[2](o(r));if(void 0===t.dirty)return a;if("object"==typeof a){const e=[],r=Math.max(t.dirty.length,a.length);for(let o=0;o<r;o+=1)e[o]=t.dirty[o]|a[o];return e}return t.dirty|a}return t.dirty}(t,o,a,n);if(s){const a=c(t,r,o,i);e.p(a,s)}}function h(e,t){e.appendChild(t)}function l(e,t,r){e.insertBefore(t,r||null)}function f(e){e.parentNode.removeChild(e)}function d(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function u(e){return document.createElement(e)}function m(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function p(e){return document.createTextNode(e)}function g(){return p(" ")}function v(){return p("")}function E(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function b(e){return Array.from(e.childNodes)}function y(e,t,r,o){for(let o=0;o<e.length;o+=1){const a=e[o];if(a.nodeName===t){let t=0;const n=[];for(;t<a.attributes.length;){const e=a.attributes[t++];r[e.name]||n.push(e.name)}for(let e=0;e<n.length;e++)a.removeAttribute(n[e]);return e.splice(o,1)[0]}}return o?m(t):u(t)}function w(e,t){for(let r=0;r<e.length;r+=1){const o=e[r];if(3===o.nodeType)return o.data=""+t,e.splice(r,1)[0]}return p(t)}function A(e){return w(e," ")}function T(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function $(e,t){e.value=null==t?"":t}class I{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,r=null){this.e||(this.e=u(t.nodeName),this.t=t,this.h(e)),this.i(r)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)l(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(f)}}let x;function P(e){x=e}function L(e){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(e)}const O=[],C=[],S=[],N=[],k=Promise.resolve();let D=!1;function R(e){S.push(e)}let j=!1;const B=new Set;function H(){if(!j){j=!0;do{for(let e=0;e<O.length;e+=1){const t=O[e];P(t),M(t.$$)}for(O.length=0;C.length;)C.pop()();for(let e=0;e<S.length;e+=1){const t=S[e];B.has(t)||(B.add(t),t())}S.length=0}while(O.length);for(;N.length;)N.pop()();D=!1,j=!1,B.clear()}}function M(e){if(null!==e.fragment){e.update(),a(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(R)}}const F=new Set;function _(e,t){e&&e.i&&(F.delete(e),e.i(t))}function G(e,t,r,o){if(e&&e.o){if(F.has(e))return;F.add(e),(void 0).c.push(()=>{F.delete(e),o&&(r&&e.d(1),o())}),e.o(t)}}function z(e){e&&e.c()}function W(e,t){e&&e.l(t)}function U(e,t,o){const{fragment:i,on_mount:c,on_destroy:s,after_update:h}=e.$$;i&&i.m(t,o),R(()=>{const t=c.map(r).filter(n);s?s.push(...t):a(t),e.$$.on_mount=[]}),h.forEach(R)}function q(e,t){const r=e.$$;null!==r.fragment&&(a(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Y(e,t){-1===e.$$.dirty[0]&&(O.push(e),D||(D=!0,k.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function J(t,r,n,i,c,s,h=[-1]){const l=x;P(t);const d=r.props||{},u=t.$$={fragment:null,ctx:null,props:s,update:e,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:o(),dirty:h};let m=!1;if(u.ctx=n?n(t,d,(e,r,...o)=>{const a=o.length?o[0]:r;return u.ctx&&c(u.ctx[e],u.ctx[e]=a)&&(u.bound[e]&&u.bound[e](a),m&&Y(t,e)),r}):[],u.update(),m=!0,a(u.before_update),u.fragment=!!i&&i(u.ctx),r.target){if(r.hydrate){const e=b(r.target);u.fragment&&u.fragment.l(e),e.forEach(f)}else u.fragment&&u.fragment.c();r.intro&&_(t.$$.fragment),U(t,r.target,r.anchor),H()}P(l)}class V{$destroy(){q(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(){}}function K(t){let r,o,a,n,i,c,s,d,v,T,$,I,x,P,L,O,C,S,N,k,D,R,j,B,H,M,F,_,G,z,W,U,q,Y,J;return{c(){r=u("header"),o=u("nav"),a=u("ul"),n=u("li"),i=u("a"),c=p("Tan Li Hau"),s=g(),d=u("li"),v=u("a"),T=p("About"),$=g(),I=u("li"),x=u("a"),P=p("Writings"),L=g(),O=u("li"),C=u("a"),S=p("Talks"),N=g(),k=u("li"),D=u("a"),R=p("Notes"),j=g(),B=u("li"),H=u("a"),M=p("Newsletter"),F=g(),_=u("li"),G=u("a"),z=m("svg"),W=m("path"),U=g(),q=u("a"),Y=m("svg"),J=m("path"),this.h()},l(e){r=y(e,"HEADER",{class:!0});var t=b(r);o=y(t,"NAV",{});var h=b(o);a=y(h,"UL",{class:!0});var l=b(a);n=y(l,"LI",{class:!0});var u=b(n);i=y(u,"A",{href:!0,class:!0});var m=b(i);c=w(m,"Tan Li Hau"),m.forEach(f),u.forEach(f),s=A(l),d=y(l,"LI",{class:!0});var p=b(d);v=y(p,"A",{href:!0,class:!0});var g=b(v);T=w(g,"About"),g.forEach(f),p.forEach(f),$=A(l),I=y(l,"LI",{class:!0});var E=b(I);x=y(E,"A",{href:!0,class:!0});var V=b(x);P=w(V,"Writings"),V.forEach(f),E.forEach(f),L=A(l),O=y(l,"LI",{class:!0});var K=b(O);C=y(K,"A",{href:!0,class:!0});var Z=b(C);S=w(Z,"Talks"),Z.forEach(f),K.forEach(f),N=A(l),k=y(l,"LI",{class:!0});var Q=b(k);D=y(Q,"A",{href:!0,class:!0});var X=b(D);R=w(X,"Notes"),X.forEach(f),Q.forEach(f),j=A(l),B=y(l,"LI",{class:!0});var ee=b(B);H=y(ee,"A",{href:!0,class:!0});var te=b(H);M=w(te,"Newsletter"),te.forEach(f),ee.forEach(f),F=A(l),_=y(l,"LI",{class:!0});var re=b(_);G=y(re,"A",{"aria-label":!0,href:!0,class:!0});var oe=b(G);z=y(oe,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var ae=b(z);W=y(ae,"path",{d:!0},1),b(W).forEach(f),ae.forEach(f),oe.forEach(f),U=A(re),q=y(re,"A",{"aria-label":!0,href:!0,class:!0});var ne=b(q);Y=y(ne,"svg",{viewBox:!0,width:!0,height:!0,class:!0},1);var ie=b(Y);J=y(ie,"path",{d:!0},1),b(J).forEach(f),ie.forEach(f),ne.forEach(f),re.forEach(f),l.forEach(f),h.forEach(f),t.forEach(f),this.h()},h(){E(i,"href","/"),E(i,"class","svelte-f3e4uo"),E(n,"class","svelte-f3e4uo"),E(v,"href","/about"),E(v,"class","svelte-f3e4uo"),E(d,"class","svelte-f3e4uo"),E(x,"href","/blogs"),E(x,"class","svelte-f3e4uo"),E(I,"class","svelte-f3e4uo"),E(C,"href","/talks"),E(C,"class","svelte-f3e4uo"),E(O,"class","svelte-f3e4uo"),E(D,"href","/notes"),E(D,"class","svelte-f3e4uo"),E(k,"class","svelte-f3e4uo"),E(H,"href","/newsletter"),E(H,"class","svelte-f3e4uo"),E(B,"class","svelte-f3e4uo"),E(W,"d","M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66\n    10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5\n    4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"),E(z,"viewBox","0 0 24 24"),E(z,"width","1em"),E(z,"height","1em"),E(z,"class","svelte-f3e4uo"),E(G,"aria-label","Twitter account"),E(G,"href","https://twitter.com/lihautan"),E(G,"class","svelte-f3e4uo"),E(J,"d","M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0\n    0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07\n    5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65\n    5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42\n    3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"),E(Y,"viewBox","0 0 24 24"),E(Y,"width","1em"),E(Y,"height","1em"),E(Y,"class","svelte-f3e4uo"),E(q,"aria-label","Github account"),E(q,"href","https://github.com/tanhauhau"),E(q,"class","svelte-f3e4uo"),E(_,"class","social svelte-f3e4uo"),E(a,"class","svelte-f3e4uo"),E(r,"class","svelte-f3e4uo")},m(e,t){l(e,r,t),h(r,o),h(o,a),h(a,n),h(n,i),h(i,c),h(a,s),h(a,d),h(d,v),h(v,T),h(a,$),h(a,I),h(I,x),h(x,P),h(a,L),h(a,O),h(O,C),h(C,S),h(a,N),h(a,k),h(k,D),h(D,R),h(a,j),h(a,B),h(B,H),h(H,M),h(a,F),h(a,_),h(_,G),h(G,z),h(z,W),h(_,U),h(_,q),h(q,Y),h(Y,J)},p:e,i:e,o:e,d(e){e&&f(r)}}}class Z extends V{constructor(e){super(),J(this,e,null,K,i,{})}}function Q(t){let r,o,a,n,i,c,s,d,m,v,T,I,x,P,L,O,C,S,N,k;return{c(){r=u("div"),o=u("h1"),a=p("Subscribe to my newsletter"),n=g(),i=u("h2"),c=p("Get the latest blog posts and project updates delivered right to your inbox"),s=g(),d=u("form"),m=u("div"),v=u("input"),T=g(),I=u("input"),P=g(),L=u("input"),O=g(),C=u("p"),S=p("Powered by Buttondown."),this.h()},l(e){r=y(e,"DIV",{class:!0});var t=b(r);o=y(t,"H1",{});var h=b(o);a=w(h,"Subscribe to my newsletter"),h.forEach(f),n=A(t),i=y(t,"H2",{class:!0});var l=b(i);c=w(l,"Get the latest blog posts and project updates delivered right to your inbox"),l.forEach(f),s=A(t),d=y(t,"FORM",{action:!0,method:!0,target:!0,onsubmit:!0,class:!0});var u=b(d);m=y(u,"DIV",{class:!0});var p=b(m);v=y(p,"INPUT",{type:!0,name:!0,id:!0,"aria-label":!0,placeholder:!0,class:!0}),T=A(p),I=y(p,"INPUT",{type:!0,value:!0,disabled:!0,class:!0}),p.forEach(f),P=A(u),L=y(u,"INPUT",{type:!0,value:!0,name:!0,class:!0}),O=A(u),C=y(u,"P",{class:!0});var g=b(C);S=w(g,"Powered by Buttondown."),g.forEach(f),u.forEach(f),t.forEach(f),this.h()},h(){E(i,"class","svelte-1k1s1co"),E(v,"type","email"),E(v,"name","email"),E(v,"id","bd-email"),E(v,"aria-label","email address"),E(v,"placeholder","youremail@example.com"),E(v,"class","svelte-1k1s1co"),E(I,"type","submit"),I.value="Subscribe",I.disabled=x=!t[0],E(I,"class","svelte-1k1s1co"),E(m,"class","form-item svelte-1k1s1co"),E(L,"type","hidden"),L.value="1",E(L,"name","embed"),E(L,"class","svelte-1k1s1co"),E(C,"class","svelte-1k1s1co"),E(d,"action","https://buttondown.email/api/emails/embed-subscribe/lihautan"),E(d,"method","post"),E(d,"target","popupwindow"),E(d,"onsubmit","window.open('https://buttondown.email/lihautan', 'popupwindow')"),E(d,"class","embeddable-buttondown-form"),E(r,"class","form svelte-1k1s1co")},m(e,f){var u,p,g,E;l(e,r,f),h(r,o),h(o,a),h(r,n),h(r,i),h(i,c),h(r,s),h(r,d),h(d,m),h(m,v),$(v,t[0]),h(m,T),h(m,I),h(d,P),h(d,L),h(d,O),h(d,C),h(C,S),N||(u=v,p="input",g=t[1],u.addEventListener(p,g,E),k=()=>u.removeEventListener(p,g,E),N=!0)},p(e,[t]){1&t&&v.value!==e[0]&&$(v,e[0]),1&t&&x!==(x=!e[0])&&(I.disabled=x)},i:e,o:e,d(e){e&&f(r),N=!1,k()}}}function X(e,t,r){let o;return[o,function(){o=this.value,r(0,o)}]}class ee extends V{constructor(e){super(),J(this,e,X,Q,i,{})}}function te(e){return L(()=>(setTimeout(()=>{if(window.innerWidth>1080){const e=document.createElement("script");e.async=!0,e.type="text/javascript",e.src="//cdn.carbonads.com/carbon.js?serve=CE7ITK3E&placement=lihautancom",e.id="_carbonads_js",document.body.appendChild(e)}},5e3),()=>{try{const e=document.getElementById("carbonads");e.parentNode.removeChild(e)}catch(e){}})),[]}class re extends V{constructor(e){super(),J(this,e,te,null,i,{})}}function oe(e,t,r){const o=e.slice();return o[6]=t[r],o}function ae(e,t,r){const o=e.slice();return o[6]=t[r],o}function ne(e){let t,r;return{c(){t=u("meta"),this.h()},l(e){t=y(e,"META",{name:!0,content:!0}),this.h()},h(){E(t,"name","keywords"),E(t,"content",r=e[6])},m(e,r){l(e,t,r)},p(e,o){4&o&&r!==(r=e[6])&&E(t,"content",r)},d(e){e&&f(t)}}}function ie(e){let t,r,o=e[6]+"";return{c(){t=u("span"),r=p(o),this.h()},l(e){t=y(e,"SPAN",{class:!0});var a=b(t);r=w(a,o),a.forEach(f),this.h()},h(){E(t,"class","svelte-9tqnza")},m(e,o){l(e,t,o),h(t,r)},p(e,t){4&t&&o!==(o=e[6]+"")&&T(r,o)},d(e){e&&f(t)}}}function ce(e){let t,r,o,a,n,i,m,$,x,P,L,O,C,S,N,k,D,R,j,B,H,M,F,Y,J,V,K,Q,X,te,ce,se,he,le,fe,de,ue=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`,me=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fmicro-frontends-poc",name:e[0]},name:e[0],position:2}]})}<\/script>`;document.title=t=e[0]+" | Tan Li Hau";let pe=e[2],ge=[];for(let t=0;t<pe.length;t+=1)ge[t]=ne(ae(e,pe,t));F=new Z({});let ve=e[2],Ee=[];for(let t=0;t<ve.length;t+=1)Ee[t]=ie(oe(e,ve,t));const be=e[5].default,ye=function(e,t,r,o){if(e){const a=c(e,t,r,o);return e[0](a)}}(be,e,e[4],null);return he=new ee({}),fe=new re({}),{c(){r=u("meta"),o=u("meta"),a=u("meta"),n=u("meta"),i=u("meta"),m=u("meta"),$=u("meta"),x=u("meta"),P=u("meta"),L=u("meta"),O=u("meta");for(let e=0;e<ge.length;e+=1)ge[e].c();C=u("meta"),S=u("meta"),k=v(),R=v(),j=g(),B=u("a"),H=p("Skip to content"),M=g(),z(F.$$.fragment),Y=g(),J=u("main"),V=u("h1"),K=p(e[0]),Q=g();for(let e=0;e<Ee.length;e+=1)Ee[e].c();X=g(),te=u("article"),ye&&ye.c(),ce=g(),se=u("footer"),z(he.$$.fragment),le=g(),z(fe.$$.fragment),this.h()},l(t){const c=function(e,t=document.body){return Array.from(t.querySelectorAll(e))}('[data-svelte="svelte-15e3uyc"]',document.head);r=y(c,"META",{name:!0,content:!0}),o=y(c,"META",{name:!0,content:!0}),a=y(c,"META",{name:!0,content:!0}),n=y(c,"META",{name:!0,content:!0}),i=y(c,"META",{name:!0,content:!0}),m=y(c,"META",{name:!0,content:!0}),$=y(c,"META",{name:!0,content:!0}),x=y(c,"META",{name:!0,content:!0}),P=y(c,"META",{name:!0,content:!0}),L=y(c,"META",{name:!0,content:!0}),O=y(c,"META",{name:!0,content:!0});for(let e=0;e<ge.length;e+=1)ge[e].l(c);C=y(c,"META",{itemprop:!0,content:!0}),S=y(c,"META",{itemprop:!0,content:!0}),k=v(),R=v(),c.forEach(f),j=A(t),B=y(t,"A",{href:!0,class:!0});var s=b(B);H=w(s,"Skip to content"),s.forEach(f),M=A(t),W(F.$$.fragment,t),Y=A(t),J=y(t,"MAIN",{id:!0,class:!0});var h=b(J);V=y(h,"H1",{});var l=b(V);K=w(l,e[0]),l.forEach(f),Q=A(h);for(let e=0;e<Ee.length;e+=1)Ee[e].l(h);X=A(h),te=y(h,"ARTICLE",{});var d=b(te);ye&&ye.l(d),d.forEach(f),h.forEach(f),ce=A(t),se=y(t,"FOOTER",{class:!0});var u=b(se);W(he.$$.fragment,u),le=A(u),W(fe.$$.fragment,u),u.forEach(f),this.h()},h(){E(r,"name","description"),E(r,"content",e[1]),E(o,"name","image"),E(o,"content",null),E(a,"name","og:image"),E(a,"content",null),E(n,"name","og:title"),E(n,"content",e[0]),E(i,"name","og:description"),E(i,"content",e[1]),E(m,"name","og:type"),E(m,"content","website"),E($,"name","twitter:card"),E($,"content","summary_large_image"),E(x,"name","twitter:creator"),E(x,"content","@lihautan"),E(P,"name","twitter:title"),E(P,"content",e[0]),E(L,"name","twitter:description"),E(L,"content",e[1]),E(O,"name","twitter:image"),E(O,"content",null),E(C,"itemprop","url"),E(C,"content","https%3A%2F%2Flihautan.com%2Fmicro-frontends-poc"),E(S,"itemprop","image"),E(S,"content",null),N=new I(k),D=new I(R),E(B,"href","#content"),E(B,"class","skip svelte-9tqnza"),E(J,"id","content"),E(J,"class","blog svelte-9tqnza"),E(se,"class","svelte-9tqnza")},m(e,t){h(document.head,r),h(document.head,o),h(document.head,a),h(document.head,n),h(document.head,i),h(document.head,m),h(document.head,$),h(document.head,x),h(document.head,P),h(document.head,L),h(document.head,O);for(let e=0;e<ge.length;e+=1)ge[e].m(document.head,null);h(document.head,C),h(document.head,S),N.m(ue,document.head),h(document.head,k),D.m(me,document.head),h(document.head,R),l(e,j,t),l(e,B,t),h(B,H),l(e,M,t),U(F,e,t),l(e,Y,t),l(e,J,t),h(J,V),h(V,K),h(J,Q);for(let e=0;e<Ee.length;e+=1)Ee[e].m(J,null);h(J,X),h(J,te),ye&&ye.m(te,null),l(e,ce,t),l(e,se,t),U(he,se,null),h(se,le),U(fe,se,null),de=!0},p(e,[o]){if((!de||1&o)&&t!==(t=e[0]+" | Tan Li Hau")&&(document.title=t),(!de||2&o)&&E(r,"content",e[1]),(!de||1&o)&&E(n,"content",e[0]),(!de||2&o)&&E(i,"content",e[1]),(!de||1&o)&&E(P,"content",e[0]),(!de||2&o)&&E(L,"content",e[1]),4&o){let t;for(pe=e[2],t=0;t<pe.length;t+=1){const r=ae(e,pe,t);ge[t]?ge[t].p(r,o):(ge[t]=ne(r),ge[t].c(),ge[t].m(C.parentNode,C))}for(;t<ge.length;t+=1)ge[t].d(1);ge.length=pe.length}if((!de||3&o)&&ue!==(ue=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"Article",author:e[3],copyrightHolder:e[3],copyrightYear:"2020",creator:e[3],publisher:e[3],description:e[1],headline:e[0],name:e[0],inLanguage:"en"})}<\/script>`)&&N.p(ue),(!de||1&o)&&me!==(me=`<script type="application/ld+json">${JSON.stringify({"@context":"https://schema.org","@type":"BreadcrumbList",description:"Breadcrumbs list",name:"Breadcrumbs",itemListElement:[{"@type":"ListItem",item:{"@id":"https://lihautan.com",name:"Homepage"},name:"Homepage",position:1},{"@type":"ListItem",item:{"@id":"https%3A%2F%2Flihautan.com%2Fmicro-frontends-poc",name:e[0]},name:e[0],position:2}]})}<\/script>`)&&D.p(me),(!de||1&o)&&T(K,e[0]),4&o){let t;for(ve=e[2],t=0;t<ve.length;t+=1){const r=oe(e,ve,t);Ee[t]?Ee[t].p(r,o):(Ee[t]=ie(r),Ee[t].c(),Ee[t].m(J,X))}for(;t<Ee.length;t+=1)Ee[t].d(1);Ee.length=ve.length}ye&&ye.p&&16&o&&s(ye,be,e,e[4],o,null,null)},i(e){de||(_(F.$$.fragment,e),_(ye,e),_(he.$$.fragment,e),_(fe.$$.fragment,e),de=!0)},o(e){G(F.$$.fragment,e),G(ye,e),G(he.$$.fragment,e),G(fe.$$.fragment,e),de=!1},d(e){f(r),f(o),f(a),f(n),f(i),f(m),f($),f(x),f(P),f(L),f(O),d(ge,e),f(C),f(S),f(k),e&&N.d(),f(R),e&&D.d(),e&&f(j),e&&f(B),e&&f(M),q(F,e),e&&f(Y),e&&f(J),d(Ee,e),ye&&ye.d(e),e&&f(ce),e&&f(se),q(he),q(fe)}}}function se(e,t,r){let{title:o=""}=t,{description:a=""}=t,{tags:n=[]}=t;const i={"@type":"Person",name:"Tan Li Hau"};let{$$slots:c={},$$scope:s}=t;return e.$set=e=>{"title"in e&&r(0,o=e.title),"description"in e&&r(1,a=e.description),"tags"in e&&r(2,n=e.tags),"$$scope"in e&&r(4,s=e.$$scope)},[o,a,n,i,s,c]}class he extends V{constructor(e){super(),J(this,e,se,ce,i,{title:0,description:1,tags:2})}}function le(e){let t,r,o,a,n,i,c,s,d,m,v,T,$,I,x,P,L,O,C,S,N,k,D,R,j,B,H,M,F,_,G,z,W,U,q,Y,J,V,K,Z,Q,X,ee,te,re,oe,ae,ne,ie,ce,se,he,le,fe,de,ue,me,pe,ge,ve,Ee,be,ye,we,Ae,Te,$e,Ie,xe,Pe,Le,Oe,Ce,Se,Ne,ke,De,Re,je,Be,He,Me,Fe,_e,Ge,ze,We,Ue,qe,Ye,Je,Ve,Ke,Ze,Qe,Xe,et,tt,rt,ot,at,nt,it,ct,st,ht,lt,ft,dt,ut,mt,pt,gt,vt,Et,bt,yt,wt,At,Tt,$t,It,xt,Pt,Lt,Ot,Ct,St,Nt,kt,Dt,Rt,jt,Bt,Ht,Mt,Ft,_t,Gt,zt,Wt,Ut,qt,Yt,Jt,Vt,Kt,Zt,Qt,Xt,er,tr,rr,or,ar,nr,ir,cr,sr,hr,lr,fr,dr,ur,mr,pr,gr,vr,Er,br,yr,wr,Ar,Tr,$r,Ir,xr,Pr,Lr,Or,Cr,Sr,Nr,kr,Dr,Rr,jr,Br,Hr,Mr,Fr,_r,Gr,zr,Wr,Ur,qr,Yr,Jr,Vr,Kr,Zr,Qr,Xr,eo,to,ro,oo,ao,no,io,co,so,ho,lo,fo,uo,mo,po,go,vo,Eo,bo,yo,wo,Ao,To,$o,Io,xo,Po,Lo,Oo,Co,So,No,ko,Do,Ro,jo,Bo,Ho,Mo,Fo,_o,Go,zo,Wo,Uo,qo,Yo,Jo,Vo,Ko,Zo,Qo,Xo,ea,ta,ra,oa,aa,na,ia,ca,sa,ha,la,fa,da,ua,ma,pa,ga,va,Ea,ba,ya,wa,Aa,Ta,$a,Ia,xa,Pa,La,Oa,Ca,Sa,Na,ka,Da,Ra,ja,Ba,Ha,Ma,Fa,_a,Ga,za,Wa,Ua,qa,Ya,Ja,Va,Ka,Za,Qa,Xa,en,tn,rn,on,an,nn,cn,sn,hn;return{c(){t=u("section"),r=u("ul"),o=u("li"),a=u("a"),n=p("What is this different?"),i=u("li"),c=u("a"),s=p("The Bridge"),d=u("li"),m=u("a"),v=p("The routing mechanism"),T=u("li"),$=u("a"),I=p("The global registry"),x=u("li"),P=u("a"),L=p("Shared Global State"),O=u("li"),C=u("a"),S=p("Trying it out locally"),N=u("ul"),k=u("li"),D=u("a"),R=p("Developing the micro frontend individually"),j=g(),B=u("p"),H=p("Yes, this is "),M=u("a"),F=p("yet another proof of concept for micro frontend architecture"),_=p("."),G=g(),z=u("p"),W=p("Please "),U=u("a"),q=p("check out the code"),Y=p(" and try to play with it locally."),J=g(),V=u("section"),K=u("h2"),Z=u("a"),Q=p("What is this different?"),X=g(),ee=u("ul"),te=u("li"),re=u("p"),oe=u("strong"),ae=p("No centralised routing definition"),ne=g(),ie=u("p"),ce=p("Once the main SPA is deployed, new routes can be added to the SPA without redeploying the main SPA."),se=g(),he=u("li"),le=u("p"),fe=u("strong"),de=p("A central registry"),ue=g(),me=u("p"),pe=p("Individual micro frontend does not need to bundle in common dependencies like "),ge=u("code"),ve=p("react"),Ee=p(", "),be=u("code"),ye=p("react-router"),we=p(", eg. Furthermore, they "),Ae=u("strong"),Te=p("shouldn't be"),$e=p(" bundled into the micro frontend as multiple instance of "),Ie=u("code"),xe=p("react"),Pe=p(" or "),Le=u("code"),Oe=p("react-router"),Ce=p(" may cause some bugs."),Se=g(),Ne=u("li"),ke=u("p"),De=u("strong"),Re=p("A shared global state"),je=g(),Be=u("p"),He=p("In this demo, I am using "),Me=u("a"),Fe=p("redux"),_e=p(" for state management."),Ge=g(),ze=u("p"),We=p("Each micro-frontend is connected to the same global store, so data is easily shared across the application."),Ue=g(),qe=u("section"),Ye=u("h2"),Je=u("a"),Ve=p("The Bridge"),Ke=g(),Ze=u("p"),Qe=p("The center piece of this micro frontend architecture is "),Xe=u("a"),et=p("the Bridge"),tt=p("."),rt=g(),ot=u("p"),at=p("It contains 2 types of communication method:"),nt=g(),it=u("ul"),ct=u("li"),st=p("message passing"),ht=g(),lt=u("li"),ft=p("shared memory"),dt=g(),ut=u("p"),mt=u("strong"),pt=p("Message passing"),gt=p(" is done via a pub sub mechanism called "),vt=u("a"),Et=p("the Channel"),bt=p(", whereas "),yt=u("strong"),wt=p("shared memory"),At=p(" is done via "),Tt=u("a"),$t=p("the Registry"),It=p("."),xt=g(),Pt=u("p"),Lt=p("I attach the Bridge to the window, so each micro frontend can connect to the bridge."),Ot=g(),Ct=u("section"),St=u("h2"),Nt=u("a"),kt=p("The routing mechanism"),Dt=g(),Rt=u("p"),jt=p("In the PoC, I used "),Bt=u("a"),Ht=p("react-router"),Mt=p(" as the routing library. The "),Ft=u("a"),_t=p("route definition"),Gt=p(" is dynamic, as it listens "),zt=u("code"),Wt=p('"registerRoute"'),Ut=p(" event through "),qt=u("em"),Yt=p("the Bridge"),Jt=p(", and add it to the route definition."),Vt=g(),Kt=u("p"),Zt=p("One thing to note is that, I use "),Qt=u("code"),Xt=p("<Switch />"),er=p(", which will render the first "),tr=u("code"),rr=p("<Route />"),or=p(" that matches the url."),ar=g(),nr=u("p"),ir=p("The magic happens in the last route, which will be rendered when none of the routes in the route definition matches."),cr=g(),sr=u("p"),hr=p("The last route renders the "),lr=u("a"),fr=p("Fallback Discovery"),dr=p(" component, which will based on the current location and some pre-defined rules, tries to find the micro frontend manifest for the unknown route."),ur=g(),mr=u("p"),pr=p("If the micro frontend manifest does not exist, it will render a 404 page. However, if the manifest exists, it will fetch the manifest file."),gr=g(),vr=u("p"),Er=p("The micro frontend manifest file is nothing but a json file that contains the "),br=u("a"),yr=p("entry asset"),wr=p(" for the route micro frontend."),Ar=g(),Tr=u("p"),$r=p("Once the entry asset is loaded, the new micro frontend itself will register a new route to the route definition via "),Ir=u("code"),xr=p('"registerRoute"'),Pr=p(" event, which has to be the route that matches the current URL."),Lr=g(),Or=u("p"),Cr=p("Whenever there's a new route added, the "),Sr=u("code"),Nr=p("react-router"),kr=p("'s "),Dr=u("code"),Rr=p("<Router />"),jr=p(" component will re-render and it will match the newly added route, which renders our newly added micro-frontend."),Br=g(),Hr=u("section"),Mr=u("h2"),Fr=u("a"),_r=p("The global registry"),Gr=g(),zr=u("p"),Wr=p("There's 2 main reasons why I am not bundling "),Ur=u("code"),qr=p("react"),Yr=p(", "),Jr=u("code"),Vr=p("react-redux"),Kr=p(", and "),Zr=u("code"),Qr=p("react-router"),Xr=p(" into each micro frontends:"),eo=g(),to=u("ul"),ro=u("li"),oo=u("p"),ao=u("strong"),no=p("Bundle size"),io=p(", there's no reason to download duplicate copies of "),co=u("code"),so=p("react"),ho=p(" or "),lo=u("code"),fo=p("react-redux"),uo=p("."),mo=g(),po=u("li"),go=u("p"),vo=u("strong"),Eo=p("No multiple instance"),bo=p(", both "),yo=u("code"),wo=p("react-redux"),Ao=p(" and "),To=u("code"),$o=p("react-router"),Io=p(" uses React Context to pass information down the React component tree. However, this way of data passing disallow multiple instances of the "),xo=u("em"),Po=p("Context"),Lo=p(" object, as each instances has a different memory reference."),Oo=g(),Co=u("p"),So=p("So, the main SPA runtime bundles "),No=u("code"),ko=p("react"),Do=p(", "),Ro=u("code"),jo=p("react-redux"),Bo=p(", etc and "),Ho=u("a"),Mo=p("set it into the "),Fo=u("code"),_o=p("Bridge.Registry"),Go=p("."),zo=p("."),Wo=g(),Uo=u("p"),qo=p("When each micro-frontend is built, the "),Yo=u("em"),Jo=p("import statement"),Vo=p(" for these modules "),Ko=u("a"),Zo=p("will be transformed"),Qo=p(" into the "),Xo=u("a"),ea=p("some aliases"),ta=p(", that reads the module from the "),ra=u("code"),oa=p("Bridge.Registry"),aa=p("."),na=g(),ia=u("section"),ca=u("h2"),sa=u("a"),ha=p("Shared Global State"),la=g(),fa=u("p"),da=p("In the PoC, the micro frontends are "),ua=u("a"),ma=p("connected to the shared global store via "),pa=u("code"),ga=p("connect()"),va=p(" from "),Ea=u("code"),ba=p("react-redux"),ya=g(),wa=u("p"),Aa=p("Interesting to note is that both "),Ta=u("a"),$a=p("the food detail"),Ia=p(" and "),xa=u("a"),Pa=p("the food list"),La=p(" register the same key for the reducer, but yet both of the works seamlessly."),Oa=g(),Ca=u("p"),Sa=p("Note that when we transit from Food List page to Food Detail page, we already have the food detail information from the store, therefore there is no need to fetch the food detail anymore."),Na=g(),ka=u("section"),Da=u("h1"),Ra=u("a"),ja=p("Trying it out locally"),Ba=g(),Ha=u("p"),Ma=p("Run "),Fa=u("code"),_a=p("yarn start"),Ga=p(" in the root folder, which will "),za=u("a"),Wa=p("start a simple express server"),Ua=p(". The express server is used to serve static files based on specific rules."),qa=g(),Ya=u("p"),Ja=p("To build individual micro frontends, you need to go to each folder and run "),Va=u("code"),Ka=p("yarn build"),Za=p(". Alternatively, you can start the watch mode via "),Qa=u("code"),Xa=p("yarn dev"),en=p("."),tn=g(),rn=u("section"),on=u("h2"),an=u("a"),nn=p("Developing the micro frontend individually"),cn=g(),sn=u("p"),hn=p("WIP"),this.h()},l(e){t=y(e,"SECTION",{});var h=b(t);r=y(h,"UL",{class:!0,id:!0,role:!0,"aria-label":!0});var l=b(r);o=y(l,"LI",{});var u=b(o);a=y(u,"A",{href:!0});var p=b(a);n=w(p,"What is this different?"),p.forEach(f),u.forEach(f),i=y(l,"LI",{});var g=b(i);c=y(g,"A",{href:!0});var E=b(c);s=w(E,"The Bridge"),E.forEach(f),g.forEach(f),d=y(l,"LI",{});var ln=b(d);m=y(ln,"A",{href:!0});var fn=b(m);v=w(fn,"The routing mechanism"),fn.forEach(f),ln.forEach(f),T=y(l,"LI",{});var dn=b(T);$=y(dn,"A",{href:!0});var un=b($);I=w(un,"The global registry"),un.forEach(f),dn.forEach(f),x=y(l,"LI",{});var mn=b(x);P=y(mn,"A",{href:!0});var pn=b(P);L=w(pn,"Shared Global State"),pn.forEach(f),mn.forEach(f),l.forEach(f),O=y(h,"LI",{});var gn=b(O);C=y(gn,"A",{href:!0});var vn=b(C);S=w(vn,"Trying it out locally"),vn.forEach(f),gn.forEach(f),N=y(h,"UL",{});var En=b(N);k=y(En,"LI",{});var bn=b(k);D=y(bn,"A",{href:!0});var yn=b(D);R=w(yn,"Developing the micro frontend individually"),yn.forEach(f),bn.forEach(f),En.forEach(f),h.forEach(f),j=A(e),B=y(e,"P",{});var wn=b(B);H=w(wn,"Yes, this is "),M=y(wn,"A",{href:!0,rel:!0});var An=b(M);F=w(An,"yet another proof of concept for micro frontend architecture"),An.forEach(f),_=w(wn,"."),wn.forEach(f),G=A(e),z=y(e,"P",{});var Tn=b(z);W=w(Tn,"Please "),U=y(Tn,"A",{href:!0,rel:!0});var $n=b(U);q=w($n,"check out the code"),$n.forEach(f),Y=w(Tn," and try to play with it locally."),Tn.forEach(f),J=A(e),V=y(e,"SECTION",{});var In=b(V);K=y(In,"H2",{});var xn=b(K);Z=y(xn,"A",{href:!0,id:!0});var Pn=b(Z);Q=w(Pn,"What is this different?"),Pn.forEach(f),xn.forEach(f),X=A(In),ee=y(In,"UL",{});var Ln=b(ee);te=y(Ln,"LI",{});var On=b(te);re=y(On,"P",{});var Cn=b(re);oe=y(Cn,"STRONG",{});var Sn=b(oe);ae=w(Sn,"No centralised routing definition"),Sn.forEach(f),Cn.forEach(f),ne=A(On),ie=y(On,"P",{});var Nn=b(ie);ce=w(Nn,"Once the main SPA is deployed, new routes can be added to the SPA without redeploying the main SPA."),Nn.forEach(f),On.forEach(f),se=A(Ln),he=y(Ln,"LI",{});var kn=b(he);le=y(kn,"P",{});var Dn=b(le);fe=y(Dn,"STRONG",{});var Rn=b(fe);de=w(Rn,"A central registry"),Rn.forEach(f),Dn.forEach(f),ue=A(kn),me=y(kn,"P",{});var jn=b(me);pe=w(jn,"Individual micro frontend does not need to bundle in common dependencies like "),ge=y(jn,"CODE",{});var Bn=b(ge);ve=w(Bn,"react"),Bn.forEach(f),Ee=w(jn,", "),be=y(jn,"CODE",{});var Hn=b(be);ye=w(Hn,"react-router"),Hn.forEach(f),we=w(jn,", eg. Furthermore, they "),Ae=y(jn,"STRONG",{});var Mn=b(Ae);Te=w(Mn,"shouldn't be"),Mn.forEach(f),$e=w(jn," bundled into the micro frontend as multiple instance of "),Ie=y(jn,"CODE",{});var Fn=b(Ie);xe=w(Fn,"react"),Fn.forEach(f),Pe=w(jn," or "),Le=y(jn,"CODE",{});var _n=b(Le);Oe=w(_n,"react-router"),_n.forEach(f),Ce=w(jn," may cause some bugs."),jn.forEach(f),kn.forEach(f),Se=A(Ln),Ne=y(Ln,"LI",{});var Gn=b(Ne);ke=y(Gn,"P",{});var zn=b(ke);De=y(zn,"STRONG",{});var Wn=b(De);Re=w(Wn,"A shared global state"),Wn.forEach(f),zn.forEach(f),je=A(Gn),Be=y(Gn,"P",{});var Un=b(Be);He=w(Un,"In this demo, I am using "),Me=y(Un,"A",{href:!0,rel:!0});var qn=b(Me);Fe=w(qn,"redux"),qn.forEach(f),_e=w(Un," for state management."),Un.forEach(f),Ge=A(Gn),ze=y(Gn,"P",{});var Yn=b(ze);We=w(Yn,"Each micro-frontend is connected to the same global store, so data is easily shared across the application."),Yn.forEach(f),Gn.forEach(f),Ln.forEach(f),In.forEach(f),Ue=A(e),qe=y(e,"SECTION",{});var Jn=b(qe);Ye=y(Jn,"H2",{});var Vn=b(Ye);Je=y(Vn,"A",{href:!0,id:!0});var Kn=b(Je);Ve=w(Kn,"The Bridge"),Kn.forEach(f),Vn.forEach(f),Ke=A(Jn),Ze=y(Jn,"P",{});var Zn=b(Ze);Qe=w(Zn,"The center piece of this micro frontend architecture is "),Xe=y(Zn,"A",{href:!0,rel:!0});var Qn=b(Xe);et=w(Qn,"the Bridge"),Qn.forEach(f),tt=w(Zn,"."),Zn.forEach(f),rt=A(Jn),ot=y(Jn,"P",{});var Xn=b(ot);at=w(Xn,"It contains 2 types of communication method:"),Xn.forEach(f),nt=A(Jn),it=y(Jn,"UL",{});var ei=b(it);ct=y(ei,"LI",{});var ti=b(ct);st=w(ti,"message passing"),ti.forEach(f),ht=A(ei),lt=y(ei,"LI",{});var ri=b(lt);ft=w(ri,"shared memory"),ri.forEach(f),ei.forEach(f),dt=A(Jn),ut=y(Jn,"P",{});var oi=b(ut);mt=y(oi,"STRONG",{});var ai=b(mt);pt=w(ai,"Message passing"),ai.forEach(f),gt=w(oi," is done via a pub sub mechanism called "),vt=y(oi,"A",{href:!0,rel:!0});var ni=b(vt);Et=w(ni,"the Channel"),ni.forEach(f),bt=w(oi,", whereas "),yt=y(oi,"STRONG",{});var ii=b(yt);wt=w(ii,"shared memory"),ii.forEach(f),At=w(oi," is done via "),Tt=y(oi,"A",{href:!0,rel:!0});var ci=b(Tt);$t=w(ci,"the Registry"),ci.forEach(f),It=w(oi,"."),oi.forEach(f),xt=A(Jn),Pt=y(Jn,"P",{});var si=b(Pt);Lt=w(si,"I attach the Bridge to the window, so each micro frontend can connect to the bridge."),si.forEach(f),Jn.forEach(f),Ot=A(e),Ct=y(e,"SECTION",{});var hi=b(Ct);St=y(hi,"H2",{});var li=b(St);Nt=y(li,"A",{href:!0,id:!0});var fi=b(Nt);kt=w(fi,"The routing mechanism"),fi.forEach(f),li.forEach(f),Dt=A(hi),Rt=y(hi,"P",{});var di=b(Rt);jt=w(di,"In the PoC, I used "),Bt=y(di,"A",{href:!0,rel:!0});var ui=b(Bt);Ht=w(ui,"react-router"),ui.forEach(f),Mt=w(di," as the routing library. The "),Ft=y(di,"A",{href:!0,rel:!0});var mi=b(Ft);_t=w(mi,"route definition"),mi.forEach(f),Gt=w(di," is dynamic, as it listens "),zt=y(di,"CODE",{});var pi=b(zt);Wt=w(pi,'"registerRoute"'),pi.forEach(f),Ut=w(di," event through "),qt=y(di,"EM",{});var gi=b(qt);Yt=w(gi,"the Bridge"),gi.forEach(f),Jt=w(di,", and add it to the route definition."),di.forEach(f),Vt=A(hi),Kt=y(hi,"P",{});var vi=b(Kt);Zt=w(vi,"One thing to note is that, I use "),Qt=y(vi,"CODE",{});var Ei=b(Qt);Xt=w(Ei,"<Switch />"),Ei.forEach(f),er=w(vi,", which will render the first "),tr=y(vi,"CODE",{});var bi=b(tr);rr=w(bi,"<Route />"),bi.forEach(f),or=w(vi," that matches the url."),vi.forEach(f),ar=A(hi),nr=y(hi,"P",{});var yi=b(nr);ir=w(yi,"The magic happens in the last route, which will be rendered when none of the routes in the route definition matches."),yi.forEach(f),cr=A(hi),sr=y(hi,"P",{});var wi=b(sr);hr=w(wi,"The last route renders the "),lr=y(wi,"A",{href:!0,rel:!0});var Ai=b(lr);fr=w(Ai,"Fallback Discovery"),Ai.forEach(f),dr=w(wi," component, which will based on the current location and some pre-defined rules, tries to find the micro frontend manifest for the unknown route."),wi.forEach(f),ur=A(hi),mr=y(hi,"P",{});var Ti=b(mr);pr=w(Ti,"If the micro frontend manifest does not exist, it will render a 404 page. However, if the manifest exists, it will fetch the manifest file."),Ti.forEach(f),gr=A(hi),vr=y(hi,"P",{});var $i=b(vr);Er=w($i,"The micro frontend manifest file is nothing but a json file that contains the "),br=y($i,"A",{href:!0,rel:!0});var Ii=b(br);yr=w(Ii,"entry asset"),Ii.forEach(f),wr=w($i," for the route micro frontend."),$i.forEach(f),Ar=A(hi),Tr=y(hi,"P",{});var xi=b(Tr);$r=w(xi,"Once the entry asset is loaded, the new micro frontend itself will register a new route to the route definition via "),Ir=y(xi,"CODE",{});var Pi=b(Ir);xr=w(Pi,'"registerRoute"'),Pi.forEach(f),Pr=w(xi," event, which has to be the route that matches the current URL."),xi.forEach(f),Lr=A(hi),Or=y(hi,"P",{});var Li=b(Or);Cr=w(Li,"Whenever there's a new route added, the "),Sr=y(Li,"CODE",{});var Oi=b(Sr);Nr=w(Oi,"react-router"),Oi.forEach(f),kr=w(Li,"'s "),Dr=y(Li,"CODE",{});var Ci=b(Dr);Rr=w(Ci,"<Router />"),Ci.forEach(f),jr=w(Li," component will re-render and it will match the newly added route, which renders our newly added micro-frontend."),Li.forEach(f),hi.forEach(f),Br=A(e),Hr=y(e,"SECTION",{});var Si=b(Hr);Mr=y(Si,"H2",{});var Ni=b(Mr);Fr=y(Ni,"A",{href:!0,id:!0});var ki=b(Fr);_r=w(ki,"The global registry"),ki.forEach(f),Ni.forEach(f),Gr=A(Si),zr=y(Si,"P",{});var Di=b(zr);Wr=w(Di,"There's 2 main reasons why I am not bundling "),Ur=y(Di,"CODE",{});var Ri=b(Ur);qr=w(Ri,"react"),Ri.forEach(f),Yr=w(Di,", "),Jr=y(Di,"CODE",{});var ji=b(Jr);Vr=w(ji,"react-redux"),ji.forEach(f),Kr=w(Di,", and "),Zr=y(Di,"CODE",{});var Bi=b(Zr);Qr=w(Bi,"react-router"),Bi.forEach(f),Xr=w(Di," into each micro frontends:"),Di.forEach(f),eo=A(Si),to=y(Si,"UL",{});var Hi=b(to);ro=y(Hi,"LI",{});var Mi=b(ro);oo=y(Mi,"P",{});var Fi=b(oo);ao=y(Fi,"STRONG",{});var _i=b(ao);no=w(_i,"Bundle size"),_i.forEach(f),io=w(Fi,", there's no reason to download duplicate copies of "),co=y(Fi,"CODE",{});var Gi=b(co);so=w(Gi,"react"),Gi.forEach(f),ho=w(Fi," or "),lo=y(Fi,"CODE",{});var zi=b(lo);fo=w(zi,"react-redux"),zi.forEach(f),uo=w(Fi,"."),Fi.forEach(f),Mi.forEach(f),mo=A(Hi),po=y(Hi,"LI",{});var Wi=b(po);go=y(Wi,"P",{});var Ui=b(go);vo=y(Ui,"STRONG",{});var qi=b(vo);Eo=w(qi,"No multiple instance"),qi.forEach(f),bo=w(Ui,", both "),yo=y(Ui,"CODE",{});var Yi=b(yo);wo=w(Yi,"react-redux"),Yi.forEach(f),Ao=w(Ui," and "),To=y(Ui,"CODE",{});var Ji=b(To);$o=w(Ji,"react-router"),Ji.forEach(f),Io=w(Ui," uses React Context to pass information down the React component tree. However, this way of data passing disallow multiple instances of the "),xo=y(Ui,"EM",{});var Vi=b(xo);Po=w(Vi,"Context"),Vi.forEach(f),Lo=w(Ui," object, as each instances has a different memory reference."),Ui.forEach(f),Wi.forEach(f),Hi.forEach(f),Oo=A(Si),Co=y(Si,"P",{});var Ki=b(Co);So=w(Ki,"So, the main SPA runtime bundles "),No=y(Ki,"CODE",{});var Zi=b(No);ko=w(Zi,"react"),Zi.forEach(f),Do=w(Ki,", "),Ro=y(Ki,"CODE",{});var Qi=b(Ro);jo=w(Qi,"react-redux"),Qi.forEach(f),Bo=w(Ki,", etc and "),Ho=y(Ki,"A",{href:!0,rel:!0});var Xi=b(Ho);Mo=w(Xi,"set it into the "),Fo=y(Xi,"CODE",{});var ec=b(Fo);_o=w(ec,"Bridge.Registry"),ec.forEach(f),Go=w(Xi,"."),Xi.forEach(f),zo=w(Ki,"."),Ki.forEach(f),Wo=A(Si),Uo=y(Si,"P",{});var tc=b(Uo);qo=w(tc,"When each micro-frontend is built, the "),Yo=y(tc,"EM",{});var rc=b(Yo);Jo=w(rc,"import statement"),rc.forEach(f),Vo=w(tc," for these modules "),Ko=y(tc,"A",{href:!0,rel:!0});var oc=b(Ko);Zo=w(oc,"will be transformed"),oc.forEach(f),Qo=w(tc," into the "),Xo=y(tc,"A",{href:!0,rel:!0});var ac=b(Xo);ea=w(ac,"some aliases"),ac.forEach(f),ta=w(tc,", that reads the module from the "),ra=y(tc,"CODE",{});var nc=b(ra);oa=w(nc,"Bridge.Registry"),nc.forEach(f),aa=w(tc,"."),tc.forEach(f),Si.forEach(f),na=A(e),ia=y(e,"SECTION",{});var ic=b(ia);ca=y(ic,"H2",{});var cc=b(ca);sa=y(cc,"A",{href:!0,id:!0});var sc=b(sa);ha=w(sc,"Shared Global State"),sc.forEach(f),cc.forEach(f),la=A(ic),fa=y(ic,"P",{});var hc=b(fa);da=w(hc,"In the PoC, the micro frontends are "),ua=y(hc,"A",{href:!0,rel:!0});var lc=b(ua);ma=w(lc,"connected to the shared global store via "),pa=y(lc,"CODE",{});var fc=b(pa);ga=w(fc,"connect()"),fc.forEach(f),va=w(lc," from "),Ea=y(lc,"CODE",{});var dc=b(Ea);ba=w(dc,"react-redux"),dc.forEach(f),lc.forEach(f),hc.forEach(f),ya=A(ic),wa=y(ic,"P",{});var uc=b(wa);Aa=w(uc,"Interesting to note is that both "),Ta=y(uc,"A",{href:!0,rel:!0});var mc=b(Ta);$a=w(mc,"the food detail"),mc.forEach(f),Ia=w(uc," and "),xa=y(uc,"A",{href:!0,rel:!0});var pc=b(xa);Pa=w(pc,"the food list"),pc.forEach(f),La=w(uc," register the same key for the reducer, but yet both of the works seamlessly."),uc.forEach(f),Oa=A(ic),Ca=y(ic,"P",{});var gc=b(Ca);Sa=w(gc,"Note that when we transit from Food List page to Food Detail page, we already have the food detail information from the store, therefore there is no need to fetch the food detail anymore."),gc.forEach(f),ic.forEach(f),Na=A(e),ka=y(e,"SECTION",{});var vc=b(ka);Da=y(vc,"H1",{});var Ec=b(Da);Ra=y(Ec,"A",{href:!0,id:!0});var bc=b(Ra);ja=w(bc,"Trying it out locally"),bc.forEach(f),Ec.forEach(f),Ba=A(vc),Ha=y(vc,"P",{});var yc=b(Ha);Ma=w(yc,"Run "),Fa=y(yc,"CODE",{});var wc=b(Fa);_a=w(wc,"yarn start"),wc.forEach(f),Ga=w(yc," in the root folder, which will "),za=y(yc,"A",{href:!0,rel:!0});var Ac=b(za);Wa=w(Ac,"start a simple express server"),Ac.forEach(f),Ua=w(yc,". The express server is used to serve static files based on specific rules."),yc.forEach(f),qa=A(vc),Ya=y(vc,"P",{});var Tc=b(Ya);Ja=w(Tc,"To build individual micro frontends, you need to go to each folder and run "),Va=y(Tc,"CODE",{});var $c=b(Va);Ka=w($c,"yarn build"),$c.forEach(f),Za=w(Tc,". Alternatively, you can start the watch mode via "),Qa=y(Tc,"CODE",{});var Ic=b(Qa);Xa=w(Ic,"yarn dev"),Ic.forEach(f),en=w(Tc,"."),Tc.forEach(f),vc.forEach(f),tn=A(e),rn=y(e,"SECTION",{});var xc=b(rn);on=y(xc,"H2",{});var Pc=b(on);an=y(Pc,"A",{href:!0,id:!0});var Lc=b(an);nn=w(Lc,"Developing the micro frontend individually"),Lc.forEach(f),Pc.forEach(f),cn=A(xc),sn=y(xc,"P",{});var Oc=b(sn);hn=w(Oc,"WIP"),Oc.forEach(f),xc.forEach(f),this.h()},h(){E(a,"href","#what-is-this-different"),E(c,"href","#the-bridge"),E(m,"href","#the-routing-mechanism"),E($,"href","#the-global-registry"),E(P,"href","#shared-global-state"),E(r,"class","sitemap"),E(r,"id","sitemap"),E(r,"role","navigation"),E(r,"aria-label","Table of Contents"),E(C,"href","#trying-it-out-locally"),E(D,"href","#developing-the-micro-frontend-individually"),E(M,"href","https://github.com/tanhauhau/micro-frontend"),E(M,"rel","nofollow"),E(U,"href","https://github.com/tanhauhau/micro-frontend"),E(U,"rel","nofollow"),E(Z,"href","#what-is-this-different"),E(Z,"id","what-is-this-different"),E(Me,"href","https://redux.js.org"),E(Me,"rel","nofollow"),E(Je,"href","#the-bridge"),E(Je,"id","the-bridge"),E(Xe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/index.js"),E(Xe,"rel","nofollow"),E(vt,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/Channel.js"),E(vt,"rel","nofollow"),E(Tt,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/Registry.js"),E(Tt,"rel","nofollow"),E(Nt,"href","#the-routing-mechanism"),E(Nt,"id","the-routing-mechanism"),E(Bt,"href","https://reacttraining.com/react-router/web"),E(Bt,"rel","nofollow"),E(Ft,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/Routes.js#L17"),E(Ft,"rel","nofollow"),E(lr,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/FallbackDiscovery.js"),E(lr,"rel","nofollow"),E(br,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/FallbackDiscovery.js#L31"),E(br,"rel","nofollow"),E(Fr,"href","#the-global-registry"),E(Fr,"id","the-global-registry"),E(Ho,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/initRegistry.js#L9"),E(Ho,"rel","nofollow"),E(Ko,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/webpack.config.js#L23"),E(Ko,"rel","nofollow"),E(Xo,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/build/BridgeAliasPlugin/aliases/react.js"),E(Xo,"rel","nofollow"),E(sa,"href","#shared-global-state"),E(sa,"id","shared-global-state"),E(ua,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/src/FoodDetail.js#L36"),E(ua,"rel","nofollow"),E(Ta,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/src/FoodDetail.js#L13"),E(Ta,"rel","nofollow"),E(xa,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/foods/src/FoodList.js"),E(xa,"rel","nofollow"),E(Ra,"href","#trying-it-out-locally"),E(Ra,"id","trying-it-out-locally"),E(za,"href","https://github.com/tanhauhau/micro-frontend/blob/master/scripts/start-dev-server.js"),E(za,"rel","nofollow"),E(an,"href","#developing-the-micro-frontend-individually"),E(an,"id","developing-the-micro-frontend-individually")},m(e,f){l(e,t,f),h(t,r),h(r,o),h(o,a),h(a,n),h(r,i),h(i,c),h(c,s),h(r,d),h(d,m),h(m,v),h(r,T),h(T,$),h($,I),h(r,x),h(x,P),h(P,L),h(t,O),h(O,C),h(C,S),h(t,N),h(N,k),h(k,D),h(D,R),l(e,j,f),l(e,B,f),h(B,H),h(B,M),h(M,F),h(B,_),l(e,G,f),l(e,z,f),h(z,W),h(z,U),h(U,q),h(z,Y),l(e,J,f),l(e,V,f),h(V,K),h(K,Z),h(Z,Q),h(V,X),h(V,ee),h(ee,te),h(te,re),h(re,oe),h(oe,ae),h(te,ne),h(te,ie),h(ie,ce),h(ee,se),h(ee,he),h(he,le),h(le,fe),h(fe,de),h(he,ue),h(he,me),h(me,pe),h(me,ge),h(ge,ve),h(me,Ee),h(me,be),h(be,ye),h(me,we),h(me,Ae),h(Ae,Te),h(me,$e),h(me,Ie),h(Ie,xe),h(me,Pe),h(me,Le),h(Le,Oe),h(me,Ce),h(ee,Se),h(ee,Ne),h(Ne,ke),h(ke,De),h(De,Re),h(Ne,je),h(Ne,Be),h(Be,He),h(Be,Me),h(Me,Fe),h(Be,_e),h(Ne,Ge),h(Ne,ze),h(ze,We),l(e,Ue,f),l(e,qe,f),h(qe,Ye),h(Ye,Je),h(Je,Ve),h(qe,Ke),h(qe,Ze),h(Ze,Qe),h(Ze,Xe),h(Xe,et),h(Ze,tt),h(qe,rt),h(qe,ot),h(ot,at),h(qe,nt),h(qe,it),h(it,ct),h(ct,st),h(it,ht),h(it,lt),h(lt,ft),h(qe,dt),h(qe,ut),h(ut,mt),h(mt,pt),h(ut,gt),h(ut,vt),h(vt,Et),h(ut,bt),h(ut,yt),h(yt,wt),h(ut,At),h(ut,Tt),h(Tt,$t),h(ut,It),h(qe,xt),h(qe,Pt),h(Pt,Lt),l(e,Ot,f),l(e,Ct,f),h(Ct,St),h(St,Nt),h(Nt,kt),h(Ct,Dt),h(Ct,Rt),h(Rt,jt),h(Rt,Bt),h(Bt,Ht),h(Rt,Mt),h(Rt,Ft),h(Ft,_t),h(Rt,Gt),h(Rt,zt),h(zt,Wt),h(Rt,Ut),h(Rt,qt),h(qt,Yt),h(Rt,Jt),h(Ct,Vt),h(Ct,Kt),h(Kt,Zt),h(Kt,Qt),h(Qt,Xt),h(Kt,er),h(Kt,tr),h(tr,rr),h(Kt,or),h(Ct,ar),h(Ct,nr),h(nr,ir),h(Ct,cr),h(Ct,sr),h(sr,hr),h(sr,lr),h(lr,fr),h(sr,dr),h(Ct,ur),h(Ct,mr),h(mr,pr),h(Ct,gr),h(Ct,vr),h(vr,Er),h(vr,br),h(br,yr),h(vr,wr),h(Ct,Ar),h(Ct,Tr),h(Tr,$r),h(Tr,Ir),h(Ir,xr),h(Tr,Pr),h(Ct,Lr),h(Ct,Or),h(Or,Cr),h(Or,Sr),h(Sr,Nr),h(Or,kr),h(Or,Dr),h(Dr,Rr),h(Or,jr),l(e,Br,f),l(e,Hr,f),h(Hr,Mr),h(Mr,Fr),h(Fr,_r),h(Hr,Gr),h(Hr,zr),h(zr,Wr),h(zr,Ur),h(Ur,qr),h(zr,Yr),h(zr,Jr),h(Jr,Vr),h(zr,Kr),h(zr,Zr),h(Zr,Qr),h(zr,Xr),h(Hr,eo),h(Hr,to),h(to,ro),h(ro,oo),h(oo,ao),h(ao,no),h(oo,io),h(oo,co),h(co,so),h(oo,ho),h(oo,lo),h(lo,fo),h(oo,uo),h(to,mo),h(to,po),h(po,go),h(go,vo),h(vo,Eo),h(go,bo),h(go,yo),h(yo,wo),h(go,Ao),h(go,To),h(To,$o),h(go,Io),h(go,xo),h(xo,Po),h(go,Lo),h(Hr,Oo),h(Hr,Co),h(Co,So),h(Co,No),h(No,ko),h(Co,Do),h(Co,Ro),h(Ro,jo),h(Co,Bo),h(Co,Ho),h(Ho,Mo),h(Ho,Fo),h(Fo,_o),h(Ho,Go),h(Co,zo),h(Hr,Wo),h(Hr,Uo),h(Uo,qo),h(Uo,Yo),h(Yo,Jo),h(Uo,Vo),h(Uo,Ko),h(Ko,Zo),h(Uo,Qo),h(Uo,Xo),h(Xo,ea),h(Uo,ta),h(Uo,ra),h(ra,oa),h(Uo,aa),l(e,na,f),l(e,ia,f),h(ia,ca),h(ca,sa),h(sa,ha),h(ia,la),h(ia,fa),h(fa,da),h(fa,ua),h(ua,ma),h(ua,pa),h(pa,ga),h(ua,va),h(ua,Ea),h(Ea,ba),h(ia,ya),h(ia,wa),h(wa,Aa),h(wa,Ta),h(Ta,$a),h(wa,Ia),h(wa,xa),h(xa,Pa),h(wa,La),h(ia,Oa),h(ia,Ca),h(Ca,Sa),l(e,Na,f),l(e,ka,f),h(ka,Da),h(Da,Ra),h(Ra,ja),h(ka,Ba),h(ka,Ha),h(Ha,Ma),h(Ha,Fa),h(Fa,_a),h(Ha,Ga),h(Ha,za),h(za,Wa),h(Ha,Ua),h(ka,qa),h(ka,Ya),h(Ya,Ja),h(Ya,Va),h(Va,Ka),h(Ya,Za),h(Ya,Qa),h(Qa,Xa),h(Ya,en),l(e,tn,f),l(e,rn,f),h(rn,on),h(on,an),h(an,nn),h(rn,cn),h(rn,sn),h(sn,hn)},d(e){e&&f(t),e&&f(j),e&&f(B),e&&f(G),e&&f(z),e&&f(J),e&&f(V),e&&f(Ue),e&&f(qe),e&&f(Ot),e&&f(Ct),e&&f(Br),e&&f(Hr),e&&f(na),e&&f(ia),e&&f(Na),e&&f(ka),e&&f(tn),e&&f(rn)}}}function fe(e){let r,o;const a=[de];let n={$$slots:{default:[le]},$$scope:{ctx:e}};for(let e=0;e<a.length;e+=1)n=t(n,a[e]);return r=new he({props:n}),{c(){z(r.$$.fragment)},l(e){W(r.$$.fragment,e)},m(e,t){U(r,e,t),o=!0},p(e,[t]){const o=0&t?function(e,t){const r={},o={},a={$$scope:1};let n=e.length;for(;n--;){const i=e[n],c=t[n];if(c){for(const e in i)e in c||(o[e]=1);for(const e in c)a[e]||(r[e]=c[e],a[e]=1);e[n]=c}else for(const e in i)a[e]=1}for(const e in o)e in r||(r[e]=void 0);return r}(a,[(n=de,"object"==typeof n&&null!==n?n:{})]):{};var n;1&t&&(o.$$scope={dirty:t,ctx:e}),r.$set(o)},i(e){o||(_(r.$$.fragment,e),o=!0)},o(e){G(r.$$.fragment,e),o=!1},d(e){q(r,e)}}}const de={title:"Yet Another Micro Frontend Proof of Concept",date:"2019-07-15T08:00:00Z",description:"A decentralised router definition",wip:!0,slug:"micro-frontends-poc",type:"blog"};class ue extends V{constructor(e){super(),J(this,e,null,fe,i,{})}}setTimeout(()=>{new ue({target:document.querySelector("#app"),hydrate:!0});if(document.querySelector(".twitter-tweet")){const e=document.createElement("script");e.async=!0,e.src="https://platform.twitter.com/widgets.js",e.charset="utf-8",document.body.appendChild(e)}if("loading"in HTMLImageElement.prototype){document.querySelectorAll('img[loading="lazy"]').forEach(e=>{e.src=e.dataset.src})}else{const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js",document.body.appendChild(e)}},3e3);
