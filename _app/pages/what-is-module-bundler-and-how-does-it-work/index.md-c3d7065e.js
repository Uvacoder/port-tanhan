import{S as Ph,i as jh,s as Th,C as qi,w as Fp,x as Yp,y as Qp,z as Ah,A as Gp,q as Zp,o as Kp,B as Xp,r as Oh,R as Vp,k as i,e as a,t as o,m as c,c as l,a as n,h as t,d as s,b as r,Q as Ch,f as le,g as A,F as e,O as Lh}from"../../chunks/vendor-569a3c5c.js";import{B as Dh}from"../../chunks/BlogLayout-17b76cb2.js";import{T as Mh}from"../../chunks/TableOfContent-dbc18cb8.js";import{_ as Hh}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-ee936cd4.js";import"../../chunks/WebMentions-968cc380.js";/* empty css                                */var Wh="/_app/assets/module-bundlers-8f304c25.webp",$h="/_app/assets/module-bundlers-67902d85.webp",Nh="/_app/assets/module-bundlers-e851959e.png",Up="/_app/assets/module-bundlers-01a42f1b.png";function Rh(Le){let y,O,k,R,f,C,De,zs,J,Me,Gs,q,Si,St,ne,Pt,He,jt,Tt,At,I,Ot,Vs,Ct,Lt,re,Dt,Mt,ie,Ht,Wt,ce,$t,Nt,pe,Rt,Jt,zt,Us,Gt,Vt,z,We,Ut,he,Bt,Ft,Bs,Yt,Qt,Fs,Zt,Kt,Ys,Xt,ea,$e,eh=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-color-text)">&lt;</span><span style="color: var(--shiki-token-string-expression)">html</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &lt;</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">src</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;/src/foo.js&quot;</span><span style="color: var(--shiki-color-text)">&gt;&lt;/</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &lt;</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">src</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;/src/bar.js&quot;</span><span style="color: var(--shiki-color-text)">&gt;&lt;/</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &lt;</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">src</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;/src/baz.js&quot;</span><span style="color: var(--shiki-color-text)">&gt;&lt;/</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &lt;</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">src</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;/src/qux.js&quot;</span><span style="color: var(--shiki-color-text)">&gt;&lt;/</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &lt;</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">src</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;/src/quux.js&quot;</span><span style="color: var(--shiki-color-text)">&gt;&lt;/</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&lt;/</span><span style="color: var(--shiki-token-string-expression)">html</span><span style="color: var(--shiki-color-text)">&gt;</span></span></code></pre>`,sa,Qs,oa,ta,Ne,sh=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-color-text)">&lt;</span><span style="color: var(--shiki-token-string-expression)">html</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &lt;</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">src</span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-token-string-expression)">&quot;/dist/bundle.js&quot;</span><span style="color: var(--shiki-color-text)">&gt;&lt;/</span><span style="color: var(--shiki-token-string-expression)">script</span><span style="color: var(--shiki-color-text)">&gt;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&lt;/</span><span style="color: var(--shiki-token-string-expression)">html</span><span style="color: var(--shiki-color-text)">&gt;</span></span></code></pre>`,aa,Zs,la,na,de,ra,Re,ia,ca,pa,Ks,ha,da,G,Z,ka,Xs,va,ua,eo,so,ya,fa,ke,ma,oo,wa,xa,ga,to,_a,ba,ao,Ea,Ia,V,lo,qa,Sa,no,Pa,ja,ro,Ta,Aa,ve,Oa,Je,Ca,La,Da,K,ue,Ma,Ha,ye,Wa,$a,Na,ze,oh=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// CommonJS</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">foo</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./foo&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> bar;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// ES Modules</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> foo </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./foo&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> bar;</span></span></code></pre>`,pt,x,io,fe,Ra,Ja,co,za,Ga,S,Va,me,Ua,Ba,we,Fa,Ya,po,ho,Qa,Za,ko,vo,Ka,Xa,el,uo,sl,ol,L,tl,Ge,al,ll,Ve,nl,rl,Ue,il,cl,pl,Be,th=`<div class="filename">circle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,hl,Fe,ah=`<div class="filename">square.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(side) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> side </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> side;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,dl,Ye,lh=`<div class="filename">app.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> squareArea </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./square&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> circleArea </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;./circle&#39;</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of square: &#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">squareArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of circle&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circleArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span></code></pre>`,ht,u,yo,xe,kl,vl,fo,ul,yl,Qe,nh=`<div class="filename">webpack-bundle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">modules</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string-expression)">&#39;circle.js&#39;</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> require) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string-expression)">&#39;square.js&#39;</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> require) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-function)">default</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">area</span><span style="color: var(--shiki-color-text)">(side) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> side </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> side;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-string-expression)">&#39;app.js&#39;</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> require) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">squareArea</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;square.js&#39;</span><span style="color: var(--shiki-color-text)">).default;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">circleArea</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;circle.js&#39;</span><span style="color: var(--shiki-color-text)">).default;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of square: &#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">squareArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">))</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of circle&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circleArea</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">))</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-function)">webpackStart</span><span style="color: var(--shiki-color-text)">(&#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  modules</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  entry</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;app.js&#39;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;);</span></span></code></pre>`,fl,mo,wo,ml,wl,ge,xl,xo,gl,_l,bl,_e,El,go,Il,ql,Sl,D,Pl,Ze,jl,Tl,_o,Al,Ol,bo,Cl,Ll,Dl,Ke,rh=`<div class="filename">webpack-bundle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">webpackStart</span><span style="color: var(--shiki-color-text)">(&#123; modules</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> entry &#125;) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">moduleCache</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> &#123;&#125;;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> moduleName </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// if in cache, return the cached version</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (moduleCache[moduleName]) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> moduleCache[moduleName];</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> &#123;&#125;;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// this will prevent infinite &quot;require&quot; loop</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// from circular dependencies</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    moduleCache[moduleName] </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// &quot;require&quot;-ing the module,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// exported stuff will assigned to &quot;exports&quot;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    modules[moduleName](</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> require);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> moduleCache[moduleName];</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// start the program</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(entry);</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Ml,Eo,Io,Hl,Wl,j,Xe,$l,Nl,es,Rl,Jl,ss,zl,Gl,os,Vl,Ul,Bl,qo,Fl,dt,p,So,be,Yl,Ql,Po,Zl,Kl,ts,ih=`<div class="filename">rollup-bundle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circle$area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">square$area</span><span style="color: var(--shiki-color-text)">(side) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> side </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> side;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of square: &#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">square$area</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;Area of circle&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circle$area</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span></code></pre>`,Xl,jo,To,en,sn,U,on,Ao,tn,an,Oo,ln,nn,rn,as,cn,Co,pn,hn,P,dn,Lo,kn,vn,ls,un,yn,ns,fn,mn,rs,wn,xn,gn,Do,Mo,B,_n,is,bn,En,Ee,In,qn,Sn,g,Pn,Ho,jn,Tn,cs,An,On,ps,Cn,Ln,hs,Dn,Mn,ds,Hn,Wn,ks,$n,Nn,Ie,Rn,Jn,zn,Wo,Gn,Vn,$o,No,Un,Bn,Ro,Fn,Yn,vs,ch=`<div class="filename">shape.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">circle</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./circle&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-function)">circle</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span></code></pre>`,Qn,us,ph=`<div class="filename">circle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./shape&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">_PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> _PI </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Zn,Jo,zo,Kn,Xn,w,er,ys,sr,or,fs,tr,ar,ms,lr,nr,ws,rr,ir,xs,cr,pr,gs,hr,dr,_s,kr,vr,bs,ur,yr,fr,Es,hh=`<div class="filename">rollup-bundle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// cirlce.js first</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">_PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-comment)">// throws ReferenceError: PI is not defined</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circle$Area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> _PI </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// shape.js later</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-function)">circle$Area</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">));</span></span></code></pre>`,mr,Go,wr,xr,qe,gr,Vo,_r,br,Er,Se,Ir,Uo,qr,Sr,Pr,Pe,jr,Is,Tr,Ar,Or,qs,dh=`<div class="filename">circle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">require</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./shape&#39;</span><span style="color: var(--shiki-color-text)">);</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">_PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> () </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-comment)">// to be lazily evaluated</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">_PI</span><span style="color: var(--shiki-color-text)">() </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Cr,Bo,Lr,Dr,Ss,kh=`<div class="filename">rollup-bundle.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-comment)">// cirlce.js first</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">_PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> () </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">circle$Area</span><span style="color: var(--shiki-color-text)">(radius) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">_PI</span><span style="color: var(--shiki-color-text)">() </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius </span><span style="color: var(--shiki-token-keyword)">*</span><span style="color: var(--shiki-color-text)"> radius;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// shape.js later</span></span>
<span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">PI</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">3.141</span><span style="color: var(--shiki-color-text)">;</span></span>
<span class="line"><span style="color: var(--shiki-token-constant)">console</span><span style="color: var(--shiki-token-function)">.log</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-function)">circle$Area</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">5</span><span style="color: var(--shiki-color-text)">)); </span><span style="color: var(--shiki-token-comment)">// prints 78.525</span></span></code></pre>`,Mr,F,Hr,Ps,Wr,$r,js,Nr,Rr,kt,W,Fo,je,Jr,zr,Yo,Gr,Vr,M,Ts,Qo,Ur,Br,Fr,X,Yr,As,Qr,Zr,Os,Kr,Xr,Cs,ei,Y,Zo,si,oi,Ko,ti,ai,Xo,li,ni,Ls,ri,H,et,ii,ci,st,pi,hi,ot,di,ki,tt,vi,vt,ee,at,Te,ui,yi,Ae,lt,Oe,fi,mi,nt,Ce,wi,ut;return y=new Mh({props:{data:[{link:"what-is-a-module-bundler",title:"What is a Module Bundler?"},{link:"how-do-we-bundle",title:"How do we bundle?",nested:[{link:"the-webpack-way",title:'The "webpack way"'},{link:"the-rollup-way",title:'The "rollup way"'}]},{link:"summary",title:"Summary"},{link:"references",title:"References"}]}}),{c(){Fp(y.$$.fragment),O=i(),k=a("section"),R=a("h2"),f=a("a"),C=o("What is a Module Bundler?"),De=i(),zs=a("p"),J=a("span"),Me=a("picture"),Gs=a("source"),q=a("img"),St=i(),ne=a("p"),Pt=o("Module bundlers are tools frontend developers used to bundle "),He=a("a"),jt=o("JavaScript modules"),Tt=o(" into a single JavaScript files that can be executed in the browser."),At=i(),I=a("p"),Ot=o("Examples of modern module bundlers "),Vs=a("em"),Ct=o("(in no particular order)"),Lt=o(" are: "),re=a("a"),Dt=o("webpack"),Mt=o(", "),ie=a("a"),Ht=o("rollup"),Wt=o(", "),ce=a("a"),$t=o("fusebox"),Nt=o(", "),pe=a("a"),Rt=o("parcel"),Jt=o(", etc."),zt=i(),Us=a("p"),Gt=o("Module bundler is required because:"),Vt=i(),z=a("ul"),We=a("li"),Ut=o("Browser does not support module system, "),he=a("a"),Bt=o("although this is not entirely true nowadays"),Ft=i(),Bs=a("li"),Yt=o("It helps you manage the dependency relationship of your code, it will load modules in dependency order for you."),Qt=i(),Fs=a("li"),Zt=o("It helps you to load your assets in dependency order, image asset, css asset, etc."),Kt=i(),Ys=a("p"),Xt=o("To illustrate, imagine you are building a web application, which is made up of multiple JavaScript files. You add JavaScript files into html via script tags:"),ea=i(),$e=a("div"),sa=i(),Qs=a("p"),oa=o("Each file requires a separate http requests, which is 5 round trip requests in order to get your application started. So it would be better if you can combine all 5 files into 1:"),ta=i(),Ne=a("div"),aa=i(),Zs=a("i"),la=o("(Although with [HTTP/2](https://developers.google.com/web/fundamentals/performance/http2/), this is much less of a case right now)"),na=i(),de=a("p"),ra=o("So how do we generate the "),Re=a("code"),ia=o("dist/bundle.js"),ca=o("?"),pa=i(),Ks=a("p"),ha=o("Several challenges arise in the process:"),da=i(),G=a("ul"),Z=a("li"),ka=o("How do we "),Xs=a("strong"),va=o("maintain the order"),ua=o(' of the "files" to be included?'),eo=a("ul"),so=a("li"),ya=o('It would be great that it is some sort of dependency order amongst the "files"'),fa=i(),ke=a("li"),ma=o("How do we "),oo=a("strong"),wa=o("prevent naming conflicts"),xa=o(' between "files"?'),ga=i(),to=a("li"),_a=o('How do we determine any unused "file" within the bundle?'),ba=i(),ao=a("p"),Ea=o("All of these can be solved if we know the relationship amongst each files, such as:"),Ia=i(),V=a("ul"),lo=a("li"),qa=o("Which file is depended on another?"),Sa=i(),no=a("li"),Pa=o("What are the interface exposed from a file? and"),ja=i(),ro=a("li"),Ta=o("Which exposed interfaces are being used by another?"),Aa=i(),ve=a("p"),Oa=o("These information, granted, can solve the challenges brought up respectively. So, what we need is a declarative method to describe the relationship between files, which led us to the "),Je=a("a"),Ca=o("JavaScript Module System"),La=o("."),Da=i(),K=a("p"),ue=a("a"),Ma=o("CommonJS"),Ha=o(" or "),ye=a("a"),Wa=o("ES6 Modules"),$a=o(" provides way for us to specify what files we are dependening on, and which of their interface we are using in our file."),Na=i(),ze=a("div"),pt=i(),x=a("section"),io=a("h2"),fe=a("a"),Ra=o("How do we bundle?"),Ja=i(),co=a("p"),za=o("With the information gathered from the module system, how do we link the files together and generate the bundle file that encapsulates everything?"),Ga=i(),S=a("p"),Va=o("If you scrutinize the bundle generated by "),me=a("a"),Ua=o("webpack"),Ba=o(" and "),we=a("a"),Fa=o("rollup"),Ya=o(", you would notice that the 2 most popular bundler takes a totally different approach in bundling, and here I coined them, the "),po=a("em"),ho=a("strong"),Qa=o('"webpack way"'),Za=o(" and the "),ko=a("em"),vo=a("strong"),Ka=o('"rollup way"'),Xa=o("."),el=i(),uo=a("p"),sl=o("Let's illustrate this with an example:"),ol=i(),L=a("p"),tl=o("Say you have 3 files, "),Ge=a("code"),al=o("circle.js"),ll=o(", "),Ve=a("code"),nl=o("square.js"),rl=o(" and "),Ue=a("code"),il=o("app.js"),cl=o(":"),pl=i(),Be=a("div"),hl=i(),Fe=a("div"),dl=i(),Ye=a("div"),ht=i(),u=a("section"),yo=a("h3"),xe=a("a"),kl=o('The "webpack way"'),vl=i(),fo=a("p"),ul=o('What would be the "webpack way" bundle looks like?'),yl=i(),Qe=a("div"),fl=i(),mo=a("p"),wo=a("em"),ml=o("I have made some slight modifications for easier illustration"),wl=i(),ge=a("p"),xl=o("First thing you would notice is the "),xo=a("strong"),gl=o('"module map"'),_l=o('. It is a dictionary that maps the module name to the module itself, which is wrapped by a function. The "module map" is like a registry, it makes it easy to register modules by adding entries.'),bl=i(),_e=a("p"),El=o("Secondly, "),go=a("strong"),Il=o("each module is wrapped by a function"),ql=o('. The function simulates the module scope, where everything declared within the module is scoped within itself. The function itself is called the "module factory function". As you can see, it takes in a few parameters, to allow the module to exports its interface, as well as to require from other modules.'),Sl=i(),D=a("p"),Pl=o("Thirdly, the application is start via "),Ze=a("code"),jl=o("webpackStart"),Tl=o(", which is "),_o=a("strong"),Al=o("a function that glues everything together"),Ol=o(". The function itself, often called as the "),bo=a("em"),Cl=o('"runtime"'),Ll=o(', is the most important piece of the bundle. It uses the "module map" and the entry module to start the application.'),Dl=i(),Ke=a("div"),Ml=i(),Eo=a("p"),Io=a("em"),Hl=o("I have made some slight modifications for easier illustration"),Wl=i(),j=a("p"),Xe=a("code"),$l=o("webpackStart"),Nl=o(' defines 2 things, the "require" function and the module cache. The "require" function is not the same as the '),es=a("code"),Rl=o("require"),Jl=o(' from CommonJS. "require" takes in the module name, and returns the exported interface from a module, eg: for '),ss=a("code"),zl=o("circle.js"),Gl=o(" it would be "),os=a("code"),Vl=o("{ default: function area(radius){ ... } }"),Ul=o('. The exported interface is cached in the module cache, so that if we call "require" of the same module name repeatedly, the "module factory function" will only be executed once.'),Bl=i(),qo=a("p"),Fl=o('With "require" defined, starting the application would be just "require"ing the entry module.'),dt=i(),p=a("section"),So=a("h3"),be=a("a"),Yl=o('The "rollup way"'),Ql=i(),Po=a("p"),Zl=o(`Now you've seen how webpack bundle looked like, let's take a look at the "rollup way" bundle:`),Kl=i(),ts=a("div"),Xl=i(),jo=a("p"),To=a("em"),en=o("I have made some slight modifications for easier illustration"),sn=i(),U=a("p"),on=o("Firstly, the key difference in the rollup bundle, is that it is much smaller compared to the webpack bundle. There is "),Ao=a("strong"),tn=o("no module map"),an=o(', as compared to the "webpack way". All the modules are '),Oo=a("strong"),ln=o('"flatten" into the bundle'),nn=o(". There is no function wrapping of modules. All the variables/functions that were declared within the module, is now declared into the global scope."),rn=i(),as=a("p"),cn=o("If everything declared in individual module scope is now declared into the global scope, "),Co=a("em"),pn=o("what happened if 2 modules declare variable/function of the same name?"),hn=i(),P=a("p"),dn=o("Well, rollup will "),Lo=a("strong"),kn=o("rename the variable/function name"),vn=o(", such that name collision do not happen. In our example, both "),ls=a("code"),un=o("circle.js"),yn=o(" and "),ns=a("code"),fn=o("square.js"),mn=o(" have declared "),rs=a("code"),wn=o("function area(){}"),xn=o(" within the module, when bundled, you see that both functions and their usage were renamed to avoid collision."),gn=i(),Do=a("blockquote"),Mo=a("p"),B=a("em"),_n=o("One of the side effects of not wrapping module with a function is the behavior of "),is=a("code"),bn=o("eval"),En=o(", see "),Ee=a("a"),In=o("here"),qn=o(" for more in-depth explanation"),Sn=i(),g=a("p"),Pn=o("Secondly, "),Ho=a("strong"),jn=o("the order of the modules within the bundle matters"),Tn=o(". Well you can argue that "),cs=a("code"),An=o("circle$area"),On=o(" and "),ps=a("code"),Cn=o("square$area"),Ln=o(" can come after "),hs=a("code"),Dn=o("console.log"),Mn=o(" and it will still work, yet "),ds=a("code"),Hn=o("PI"),Wn=o(" has to be declared before the "),ks=a("code"),$n=o("console.log"),Nn=o(", because of "),Ie=a("a"),Rn=o("temporal dead zone"),Jn=o('. So, sorting modules in order of their dependency matters for the "rollup way".'),zn=i(),Wo=a("p"),Gn=o('All in all, the "rollup way" seemed to be better than the "webpack way". It has a smaller bundle and less runtime overhead by removing all the functions.'),Vn=i(),$o=a("p"),No=a("em"),Un=o('Is there a drawback of the "rollup way"?'),Bn=i(),Ro=a("p"),Fn=o("Well, sometimes it does not work well with circular dependency. Let's take a look at this contrived example:"),Yn=i(),vs=a("div"),Qn=i(),us=a("div"),Zn=i(),Jo=a("p"),zo=a("em"),Kn=o("I have made some slight modifications for easier illustration"),Xn=i(),w=a("p"),er=o("In this example "),ys=a("code"),sr=o("shape.js"),or=o(" is depending on "),fs=a("code"),tr=o("circle.js"),ar=o(" and "),ms=a("code"),lr=o("circle.js"),nr=o(" is depending on "),ws=a("code"),rr=o("shape.js"),ir=o(`. So, for rollup to sort out which module to come first than another in the output bundle, there's no "correct" answer for it. Either `),xs=a("code"),cr=o("circle.js"),pr=o(" then "),gs=a("code"),hr=o("shape.js"),dr=o(" or "),_s=a("code"),kr=o("shape.js"),vr=o(" then "),bs=a("code"),ur=o("circle.js"),yr=o(" is reasonable. So, you could possibly get the following output bundle:"),fr=i(),Es=a("div"),mr=i(),Go=a("p"),wr=o("You can tell this will be problematic right?"),xr=i(),qe=a("p"),gr=o("Is there a solution for this? A short answer is "),Vo=a("strong"),_r=o("no"),br=o("."),Er=i(),Se=a("p"),Ir=o('A "simple" fix is to not use a circular dependency. Rollup will '),Uo=a("strong"),qr=o("throw warnings at you"),Sr=o(" if it encountered one."),Pr=i(),Pe=a("p"),jr=o('Well, what makes the example "works" is that we have statements that are immediately evaluated within the module. If we change the evaluation of '),Is=a("code"),Tr=o("_PI"),Ar=o(" to be lazy:"),Or=i(),qs=a("div"),Cr=i(),Bo=a("p"),Lr=o("the order of modules now does not really matter much:"),Dr=i(),Ss=a("div"),Mr=i(),F=a("p"),Hr=o("This is because at the time "),Ps=a("code"),Wr=o("_PI"),$r=o(" is evaluated, "),js=a("code"),Nr=o("PI"),Rr=o(" has already been defined."),kt=i(),W=a("section"),Fo=a("h2"),je=a("a"),Jr=o("Summary"),zr=i(),Yo=a("p"),Gr=o("So, let's summarize what we've learned so far:"),Vr=i(),M=a("ul"),Ts=a("li"),Qo=a("em"),Ur=o("Module bundler"),Br=o(" helped us to combine multiple JavaScript modules into 1 JavaScript file."),Fr=i(),X=a("li"),Yr=o("Different bundler bundles differently, and we've looked into 2 of the modern bundler, "),As=a("code"),Qr=o("webpack"),Zr=o(" and "),Os=a("code"),Kr=o("rollup"),Xr=i(),Cs=a("li"),ei=o('the "webpack way":'),Y=a("ul"),Zo=a("li"),si=o("uses module map"),oi=i(),Ko=a("li"),ti=o("uses function to wrap each module"),ai=i(),Xo=a("li"),li=o("has a runtime code that glues the module together"),ni=i(),Ls=a("li"),ri=o('the "rollup way":'),H=a("ul"),et=a("li"),ii=o("flatter and smaller bundle"),ci=i(),st=a("li"),pi=o("does not use function to wrap module"),hi=i(),ot=a("li"),di=o("order matters, require sorting based on dependency"),ki=i(),tt=a("li"),vi=o("circular dependency may not work"),vt=i(),ee=a("section"),at=a("h2"),Te=a("a"),ui=o("References"),yi=i(),Ae=a("ul"),lt=a("li"),Oe=a("a"),fi=o("Webpack"),mi=i(),nt=a("li"),Ce=a("a"),wi=o("Rollup"),this.h()},l(v){Yp(y.$$.fragment,v),O=c(v),k=l(v,"SECTION",{});var h=n(k);R=l(h,"H2",{});var Pi=n(R);f=l(Pi,"A",{href:!0,id:!0});var ji=n(f);C=t(ji,"What is a Module Bundler?"),ji.forEach(s),Pi.forEach(s),De=c(h),zs=l(h,"P",{});var Ti=n(zs);J=l(Ti,"SPAN",{style:!0});var Ai=n(J);Me=l(Ai,"PICTURE",{});var xi=n(Me);Gs=l(xi,"SOURCE",{type:!0,srcset:!0}),q=l(xi,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),xi.forEach(s),Ai.forEach(s),Ti.forEach(s),St=c(h),ne=l(h,"P",{});var yt=n(ne);Pt=t(yt,"Module bundlers are tools frontend developers used to bundle "),He=l(yt,"A",{href:!0});var Oi=n(He);jt=t(Oi,"JavaScript modules"),Oi.forEach(s),Tt=t(yt," into a single JavaScript files that can be executed in the browser."),yt.forEach(s),At=c(h),I=l(h,"P",{});var T=n(I);Ot=t(T,"Examples of modern module bundlers "),Vs=l(T,"EM",{});var Ci=n(Vs);Ct=t(Ci,"(in no particular order)"),Ci.forEach(s),Lt=t(T," are: "),re=l(T,"A",{href:!0,rel:!0});var Li=n(re);Dt=t(Li,"webpack"),Li.forEach(s),Mt=t(T,", "),ie=l(T,"A",{href:!0,rel:!0});var Di=n(ie);Ht=t(Di,"rollup"),Di.forEach(s),Wt=t(T,", "),ce=l(T,"A",{href:!0,rel:!0});var Mi=n(ce);$t=t(Mi,"fusebox"),Mi.forEach(s),Nt=t(T,", "),pe=l(T,"A",{href:!0,rel:!0});var Hi=n(pe);Rt=t(Hi,"parcel"),Hi.forEach(s),Jt=t(T,", etc."),T.forEach(s),zt=c(h),Us=l(h,"P",{});var Wi=n(Us);Gt=t(Wi,"Module bundler is required because:"),Wi.forEach(s),Vt=c(h),z=l(h,"UL",{});var Ds=n(z);We=l(Ds,"LI",{});var gi=n(We);Ut=t(gi,"Browser does not support module system, "),he=l(gi,"A",{href:!0,rel:!0});var $i=n(he);Bt=t($i,"although this is not entirely true nowadays"),$i.forEach(s),gi.forEach(s),Ft=c(Ds),Bs=l(Ds,"LI",{});var Ni=n(Bs);Yt=t(Ni,"It helps you manage the dependency relationship of your code, it will load modules in dependency order for you."),Ni.forEach(s),Qt=c(Ds),Fs=l(Ds,"LI",{});var Ri=n(Fs);Zt=t(Ri,"It helps you to load your assets in dependency order, image asset, css asset, etc."),Ri.forEach(s),Ds.forEach(s),Kt=c(h),Ys=l(h,"P",{});var Ji=n(Ys);Xt=t(Ji,"To illustrate, imagine you are building a web application, which is made up of multiple JavaScript files. You add JavaScript files into html via script tags:"),Ji.forEach(s),ea=c(h),$e=l(h,"DIV",{class:!0});var vh=n($e);vh.forEach(s),sa=c(h),Qs=l(h,"P",{});var zi=n(Qs);oa=t(zi,"Each file requires a separate http requests, which is 5 round trip requests in order to get your application started. So it would be better if you can combine all 5 files into 1:"),zi.forEach(s),ta=c(h),Ne=l(h,"DIV",{class:!0});var uh=n(Ne);uh.forEach(s),aa=c(h),Zs=l(h,"I",{});var Gi=n(Zs);la=t(Gi,"(Although with [HTTP/2](https://developers.google.com/web/fundamentals/performance/http2/), this is much less of a case right now)"),Gi.forEach(s),na=c(h),de=l(h,"P",{});var ft=n(de);ra=t(ft,"So how do we generate the "),Re=l(ft,"CODE",{class:!0});var Vi=n(Re);ia=t(Vi,"dist/bundle.js"),Vi.forEach(s),ca=t(ft,"?"),ft.forEach(s),pa=c(h),Ks=l(h,"P",{});var Ui=n(Ks);ha=t(Ui,"Several challenges arise in the process:"),Ui.forEach(s),da=c(h),G=l(h,"UL",{});var Ms=n(G);Z=l(Ms,"LI",{});var rt=n(Z);ka=t(rt,"How do we "),Xs=l(rt,"STRONG",{});var Bi=n(Xs);va=t(Bi,"maintain the order"),Bi.forEach(s),ua=t(rt,' of the "files" to be included?'),eo=l(rt,"UL",{});var Fi=n(eo);so=l(Fi,"LI",{});var Yi=n(so);ya=t(Yi,'It would be great that it is some sort of dependency order amongst the "files"'),Yi.forEach(s),Fi.forEach(s),rt.forEach(s),fa=c(Ms),ke=l(Ms,"LI",{});var mt=n(ke);ma=t(mt,"How do we "),oo=l(mt,"STRONG",{});var Qi=n(oo);wa=t(Qi,"prevent naming conflicts"),Qi.forEach(s),xa=t(mt,' between "files"?'),mt.forEach(s),ga=c(Ms),to=l(Ms,"LI",{});var Zi=n(to);_a=t(Zi,'How do we determine any unused "file" within the bundle?'),Zi.forEach(s),Ms.forEach(s),ba=c(h),ao=l(h,"P",{});var Ki=n(ao);Ea=t(Ki,"All of these can be solved if we know the relationship amongst each files, such as:"),Ki.forEach(s),Ia=c(h),V=l(h,"UL",{});var Hs=n(V);lo=l(Hs,"LI",{});var Xi=n(lo);qa=t(Xi,"Which file is depended on another?"),Xi.forEach(s),Sa=c(Hs),no=l(Hs,"LI",{});var ec=n(no);Pa=t(ec,"What are the interface exposed from a file? and"),ec.forEach(s),ja=c(Hs),ro=l(Hs,"LI",{});var sc=n(ro);Ta=t(sc,"Which exposed interfaces are being used by another?"),sc.forEach(s),Hs.forEach(s),Aa=c(h),ve=l(h,"P",{});var wt=n(ve);Oa=t(wt,"These information, granted, can solve the challenges brought up respectively. So, what we need is a declarative method to describe the relationship between files, which led us to the "),Je=l(wt,"A",{href:!0});var oc=n(Je);Ca=t(oc,"JavaScript Module System"),oc.forEach(s),La=t(wt,"."),wt.forEach(s),Da=c(h),K=l(h,"P",{});var it=n(K);ue=l(it,"A",{href:!0,rel:!0});var tc=n(ue);Ma=t(tc,"CommonJS"),tc.forEach(s),Ha=t(it," or "),ye=l(it,"A",{href:!0,rel:!0});var ac=n(ye);Wa=t(ac,"ES6 Modules"),ac.forEach(s),$a=t(it," provides way for us to specify what files we are dependening on, and which of their interface we are using in our file."),it.forEach(s),Na=c(h),ze=l(h,"DIV",{class:!0});var yh=n(ze);yh.forEach(s),h.forEach(s),pt=c(v),x=l(v,"SECTION",{});var b=n(x);io=l(b,"H2",{});var lc=n(io);fe=l(lc,"A",{href:!0,id:!0});var nc=n(fe);Ra=t(nc,"How do we bundle?"),nc.forEach(s),lc.forEach(s),Ja=c(b),co=l(b,"P",{});var rc=n(co);za=t(rc,"With the information gathered from the module system, how do we link the files together and generate the bundle file that encapsulates everything?"),rc.forEach(s),Ga=c(b),S=l(b,"P",{});var $=n(S);Va=t($,"If you scrutinize the bundle generated by "),me=l($,"A",{href:!0,rel:!0});var ic=n(me);Ua=t(ic,"webpack"),ic.forEach(s),Ba=t($," and "),we=l($,"A",{href:!0,rel:!0});var cc=n(we);Fa=t(cc,"rollup"),cc.forEach(s),Ya=t($,", you would notice that the 2 most popular bundler takes a totally different approach in bundling, and here I coined them, the "),po=l($,"EM",{});var pc=n(po);ho=l(pc,"STRONG",{});var hc=n(ho);Qa=t(hc,'"webpack way"'),hc.forEach(s),pc.forEach(s),Za=t($," and the "),ko=l($,"EM",{});var dc=n(ko);vo=l(dc,"STRONG",{});var kc=n(vo);Ka=t(kc,'"rollup way"'),kc.forEach(s),dc.forEach(s),Xa=t($,"."),$.forEach(s),el=c(b),uo=l(b,"P",{});var vc=n(uo);sl=t(vc,"Let's illustrate this with an example:"),vc.forEach(s),ol=c(b),L=l(b,"P",{});var se=n(L);tl=t(se,"Say you have 3 files, "),Ge=l(se,"CODE",{class:!0});var uc=n(Ge);al=t(uc,"circle.js"),uc.forEach(s),ll=t(se,", "),Ve=l(se,"CODE",{class:!0});var yc=n(Ve);nl=t(yc,"square.js"),yc.forEach(s),rl=t(se," and "),Ue=l(se,"CODE",{class:!0});var fc=n(Ue);il=t(fc,"app.js"),fc.forEach(s),cl=t(se,":"),se.forEach(s),pl=c(b),Be=l(b,"DIV",{class:!0});var fh=n(Be);fh.forEach(s),hl=c(b),Fe=l(b,"DIV",{class:!0});var mh=n(Fe);mh.forEach(s),dl=c(b),Ye=l(b,"DIV",{class:!0});var wh=n(Ye);wh.forEach(s),b.forEach(s),ht=c(v),u=l(v,"SECTION",{});var m=n(u);yo=l(m,"H3",{});var mc=n(yo);xe=l(mc,"A",{href:!0,id:!0});var wc=n(xe);kl=t(wc,'The "webpack way"'),wc.forEach(s),mc.forEach(s),vl=c(m),fo=l(m,"P",{});var xc=n(fo);ul=t(xc,'What would be the "webpack way" bundle looks like?'),xc.forEach(s),yl=c(m),Qe=l(m,"DIV",{class:!0});var xh=n(Qe);xh.forEach(s),fl=c(m),mo=l(m,"P",{});var gc=n(mo);wo=l(gc,"EM",{});var _c=n(wo);ml=t(_c,"I have made some slight modifications for easier illustration"),_c.forEach(s),gc.forEach(s),wl=c(m),ge=l(m,"P",{});var xt=n(ge);xl=t(xt,"First thing you would notice is the "),xo=l(xt,"STRONG",{});var bc=n(xo);gl=t(bc,'"module map"'),bc.forEach(s),_l=t(xt,'. It is a dictionary that maps the module name to the module itself, which is wrapped by a function. The "module map" is like a registry, it makes it easy to register modules by adding entries.'),xt.forEach(s),bl=c(m),_e=l(m,"P",{});var gt=n(_e);El=t(gt,"Secondly, "),go=l(gt,"STRONG",{});var Ec=n(go);Il=t(Ec,"each module is wrapped by a function"),Ec.forEach(s),ql=t(gt,'. The function simulates the module scope, where everything declared within the module is scoped within itself. The function itself is called the "module factory function". As you can see, it takes in a few parameters, to allow the module to exports its interface, as well as to require from other modules.'),gt.forEach(s),Sl=c(m),D=l(m,"P",{});var oe=n(D);Pl=t(oe,"Thirdly, the application is start via "),Ze=l(oe,"CODE",{class:!0});var Ic=n(Ze);jl=t(Ic,"webpackStart"),Ic.forEach(s),Tl=t(oe,", which is "),_o=l(oe,"STRONG",{});var qc=n(_o);Al=t(qc,"a function that glues everything together"),qc.forEach(s),Ol=t(oe,". The function itself, often called as the "),bo=l(oe,"EM",{});var Sc=n(bo);Cl=t(Sc,'"runtime"'),Sc.forEach(s),Ll=t(oe,', is the most important piece of the bundle. It uses the "module map" and the entry module to start the application.'),oe.forEach(s),Dl=c(m),Ke=l(m,"DIV",{class:!0});var gh=n(Ke);gh.forEach(s),Ml=c(m),Eo=l(m,"P",{});var Pc=n(Eo);Io=l(Pc,"EM",{});var jc=n(Io);Hl=t(jc,"I have made some slight modifications for easier illustration"),jc.forEach(s),Pc.forEach(s),Wl=c(m),j=l(m,"P",{});var Q=n(j);Xe=l(Q,"CODE",{class:!0});var Tc=n(Xe);$l=t(Tc,"webpackStart"),Tc.forEach(s),Nl=t(Q,' defines 2 things, the "require" function and the module cache. The "require" function is not the same as the '),es=l(Q,"CODE",{class:!0});var Ac=n(es);Rl=t(Ac,"require"),Ac.forEach(s),Jl=t(Q,' from CommonJS. "require" takes in the module name, and returns the exported interface from a module, eg: for '),ss=l(Q,"CODE",{class:!0});var Oc=n(ss);zl=t(Oc,"circle.js"),Oc.forEach(s),Gl=t(Q," it would be "),os=l(Q,"CODE",{class:!0});var Cc=n(os);Vl=t(Cc,"{ default: function area(radius){ ... } }"),Cc.forEach(s),Ul=t(Q,'. The exported interface is cached in the module cache, so that if we call "require" of the same module name repeatedly, the "module factory function" will only be executed once.'),Q.forEach(s),Bl=c(m),qo=l(m,"P",{});var Lc=n(qo);Fl=t(Lc,'With "require" defined, starting the application would be just "require"ing the entry module.'),Lc.forEach(s),m.forEach(s),dt=c(v),p=l(v,"SECTION",{});var d=n(p);So=l(d,"H3",{});var Dc=n(So);be=l(Dc,"A",{href:!0,id:!0});var Mc=n(be);Yl=t(Mc,'The "rollup way"'),Mc.forEach(s),Dc.forEach(s),Ql=c(d),Po=l(d,"P",{});var Hc=n(Po);Zl=t(Hc,`Now you've seen how webpack bundle looked like, let's take a look at the "rollup way" bundle:`),Hc.forEach(s),Kl=c(d),ts=l(d,"DIV",{class:!0});var _h=n(ts);_h.forEach(s),Xl=c(d),jo=l(d,"P",{});var Wc=n(jo);To=l(Wc,"EM",{});var $c=n(To);en=t($c,"I have made some slight modifications for easier illustration"),$c.forEach(s),Wc.forEach(s),sn=c(d),U=l(d,"P",{});var Ws=n(U);on=t(Ws,"Firstly, the key difference in the rollup bundle, is that it is much smaller compared to the webpack bundle. There is "),Ao=l(Ws,"STRONG",{});var Nc=n(Ao);tn=t(Nc,"no module map"),Nc.forEach(s),an=t(Ws,', as compared to the "webpack way". All the modules are '),Oo=l(Ws,"STRONG",{});var Rc=n(Oo);ln=t(Rc,'"flatten" into the bundle'),Rc.forEach(s),nn=t(Ws,". There is no function wrapping of modules. All the variables/functions that were declared within the module, is now declared into the global scope."),Ws.forEach(s),rn=c(d),as=l(d,"P",{});var _i=n(as);cn=t(_i,"If everything declared in individual module scope is now declared into the global scope, "),Co=l(_i,"EM",{});var Jc=n(Co);pn=t(Jc,"what happened if 2 modules declare variable/function of the same name?"),Jc.forEach(s),_i.forEach(s),hn=c(d),P=l(d,"P",{});var N=n(P);dn=t(N,"Well, rollup will "),Lo=l(N,"STRONG",{});var zc=n(Lo);kn=t(zc,"rename the variable/function name"),zc.forEach(s),vn=t(N,", such that name collision do not happen. In our example, both "),ls=l(N,"CODE",{class:!0});var Gc=n(ls);un=t(Gc,"circle.js"),Gc.forEach(s),yn=t(N," and "),ns=l(N,"CODE",{class:!0});var Vc=n(ns);fn=t(Vc,"square.js"),Vc.forEach(s),mn=t(N," have declared "),rs=l(N,"CODE",{class:!0});var Uc=n(rs);wn=t(Uc,"function area(){}"),Uc.forEach(s),xn=t(N," within the module, when bundled, you see that both functions and their usage were renamed to avoid collision."),N.forEach(s),gn=c(d),Do=l(d,"BLOCKQUOTE",{});var Bc=n(Do);Mo=l(Bc,"P",{});var Fc=n(Mo);B=l(Fc,"EM",{});var $s=n(B);_n=t($s,"One of the side effects of not wrapping module with a function is the behavior of "),is=l($s,"CODE",{class:!0});var Yc=n(is);bn=t(Yc,"eval"),Yc.forEach(s),En=t($s,", see "),Ee=l($s,"A",{href:!0,rel:!0});var Qc=n(Ee);In=t(Qc,"here"),Qc.forEach(s),qn=t($s," for more in-depth explanation"),$s.forEach(s),Fc.forEach(s),Bc.forEach(s),Sn=c(d),g=l(d,"P",{});var E=n(g);Pn=t(E,"Secondly, "),Ho=l(E,"STRONG",{});var Zc=n(Ho);jn=t(Zc,"the order of the modules within the bundle matters"),Zc.forEach(s),Tn=t(E,". Well you can argue that "),cs=l(E,"CODE",{class:!0});var Kc=n(cs);An=t(Kc,"circle$area"),Kc.forEach(s),On=t(E," and "),ps=l(E,"CODE",{class:!0});var Xc=n(ps);Cn=t(Xc,"square$area"),Xc.forEach(s),Ln=t(E," can come after "),hs=l(E,"CODE",{class:!0});var ep=n(hs);Dn=t(ep,"console.log"),ep.forEach(s),Mn=t(E," and it will still work, yet "),ds=l(E,"CODE",{class:!0});var sp=n(ds);Hn=t(sp,"PI"),sp.forEach(s),Wn=t(E," has to be declared before the "),ks=l(E,"CODE",{class:!0});var op=n(ks);$n=t(op,"console.log"),op.forEach(s),Nn=t(E,", because of "),Ie=l(E,"A",{href:!0,rel:!0});var tp=n(Ie);Rn=t(tp,"temporal dead zone"),tp.forEach(s),Jn=t(E,'. So, sorting modules in order of their dependency matters for the "rollup way".'),E.forEach(s),zn=c(d),Wo=l(d,"P",{});var ap=n(Wo);Gn=t(ap,'All in all, the "rollup way" seemed to be better than the "webpack way". It has a smaller bundle and less runtime overhead by removing all the functions.'),ap.forEach(s),Vn=c(d),$o=l(d,"P",{});var lp=n($o);No=l(lp,"EM",{});var np=n(No);Un=t(np,'Is there a drawback of the "rollup way"?'),np.forEach(s),lp.forEach(s),Bn=c(d),Ro=l(d,"P",{});var rp=n(Ro);Fn=t(rp,"Well, sometimes it does not work well with circular dependency. Let's take a look at this contrived example:"),rp.forEach(s),Yn=c(d),vs=l(d,"DIV",{class:!0});var bh=n(vs);bh.forEach(s),Qn=c(d),us=l(d,"DIV",{class:!0});var Eh=n(us);Eh.forEach(s),Zn=c(d),Jo=l(d,"P",{});var ip=n(Jo);zo=l(ip,"EM",{});var cp=n(zo);Kn=t(cp,"I have made some slight modifications for easier illustration"),cp.forEach(s),ip.forEach(s),Xn=c(d),w=l(d,"P",{});var _=n(w);er=t(_,"In this example "),ys=l(_,"CODE",{class:!0});var pp=n(ys);sr=t(pp,"shape.js"),pp.forEach(s),or=t(_," is depending on "),fs=l(_,"CODE",{class:!0});var hp=n(fs);tr=t(hp,"circle.js"),hp.forEach(s),ar=t(_," and "),ms=l(_,"CODE",{class:!0});var dp=n(ms);lr=t(dp,"circle.js"),dp.forEach(s),nr=t(_," is depending on "),ws=l(_,"CODE",{class:!0});var kp=n(ws);rr=t(kp,"shape.js"),kp.forEach(s),ir=t(_,`. So, for rollup to sort out which module to come first than another in the output bundle, there's no "correct" answer for it. Either `),xs=l(_,"CODE",{class:!0});var vp=n(xs);cr=t(vp,"circle.js"),vp.forEach(s),pr=t(_," then "),gs=l(_,"CODE",{class:!0});var up=n(gs);hr=t(up,"shape.js"),up.forEach(s),dr=t(_," or "),_s=l(_,"CODE",{class:!0});var yp=n(_s);kr=t(yp,"shape.js"),yp.forEach(s),vr=t(_," then "),bs=l(_,"CODE",{class:!0});var fp=n(bs);ur=t(fp,"circle.js"),fp.forEach(s),yr=t(_," is reasonable. So, you could possibly get the following output bundle:"),_.forEach(s),fr=c(d),Es=l(d,"DIV",{class:!0});var Ih=n(Es);Ih.forEach(s),mr=c(d),Go=l(d,"P",{});var mp=n(Go);wr=t(mp,"You can tell this will be problematic right?"),mp.forEach(s),xr=c(d),qe=l(d,"P",{});var _t=n(qe);gr=t(_t,"Is there a solution for this? A short answer is "),Vo=l(_t,"STRONG",{});var wp=n(Vo);_r=t(wp,"no"),wp.forEach(s),br=t(_t,"."),_t.forEach(s),Er=c(d),Se=l(d,"P",{});var bt=n(Se);Ir=t(bt,'A "simple" fix is to not use a circular dependency. Rollup will '),Uo=l(bt,"STRONG",{});var xp=n(Uo);qr=t(xp,"throw warnings at you"),xp.forEach(s),Sr=t(bt," if it encountered one."),bt.forEach(s),Pr=c(d),Pe=l(d,"P",{});var Et=n(Pe);jr=t(Et,'Well, what makes the example "works" is that we have statements that are immediately evaluated within the module. If we change the evaluation of '),Is=l(Et,"CODE",{class:!0});var gp=n(Is);Tr=t(gp,"_PI"),gp.forEach(s),Ar=t(Et," to be lazy:"),Et.forEach(s),Or=c(d),qs=l(d,"DIV",{class:!0});var qh=n(qs);qh.forEach(s),Cr=c(d),Bo=l(d,"P",{});var _p=n(Bo);Lr=t(_p,"the order of modules now does not really matter much:"),_p.forEach(s),Dr=c(d),Ss=l(d,"DIV",{class:!0});var Sh=n(Ss);Sh.forEach(s),Mr=c(d),F=l(d,"P",{});var Ns=n(F);Hr=t(Ns,"This is because at the time "),Ps=l(Ns,"CODE",{class:!0});var bp=n(Ps);Wr=t(bp,"_PI"),bp.forEach(s),$r=t(Ns," is evaluated, "),js=l(Ns,"CODE",{class:!0});var Ep=n(js);Nr=t(Ep,"PI"),Ep.forEach(s),Rr=t(Ns," has already been defined."),Ns.forEach(s),d.forEach(s),kt=c(v),W=l(v,"SECTION",{});var Rs=n(W);Fo=l(Rs,"H2",{});var Ip=n(Fo);je=l(Ip,"A",{href:!0,id:!0});var qp=n(je);Jr=t(qp,"Summary"),qp.forEach(s),Ip.forEach(s),zr=c(Rs),Yo=l(Rs,"P",{});var Sp=n(Yo);Gr=t(Sp,"So, let's summarize what we've learned so far:"),Sp.forEach(s),Vr=c(Rs),M=l(Rs,"UL",{});var te=n(M);Ts=l(te,"LI",{});var bi=n(Ts);Qo=l(bi,"EM",{});var Pp=n(Qo);Ur=t(Pp,"Module bundler"),Pp.forEach(s),Br=t(bi," helped us to combine multiple JavaScript modules into 1 JavaScript file."),bi.forEach(s),Fr=c(te),X=l(te,"LI",{});var ct=n(X);Yr=t(ct,"Different bundler bundles differently, and we've looked into 2 of the modern bundler, "),As=l(ct,"CODE",{class:!0});var jp=n(As);Qr=t(jp,"webpack"),jp.forEach(s),Zr=t(ct," and "),Os=l(ct,"CODE",{class:!0});var Tp=n(Os);Kr=t(Tp,"rollup"),Tp.forEach(s),ct.forEach(s),Xr=c(te),Cs=l(te,"LI",{});var Ei=n(Cs);ei=t(Ei,'the "webpack way":'),Y=l(Ei,"UL",{});var Js=n(Y);Zo=l(Js,"LI",{});var Ap=n(Zo);si=t(Ap,"uses module map"),Ap.forEach(s),oi=c(Js),Ko=l(Js,"LI",{});var Op=n(Ko);ti=t(Op,"uses function to wrap each module"),Op.forEach(s),ai=c(Js),Xo=l(Js,"LI",{});var Cp=n(Xo);li=t(Cp,"has a runtime code that glues the module together"),Cp.forEach(s),Js.forEach(s),Ei.forEach(s),ni=c(te),Ls=l(te,"LI",{});var Ii=n(Ls);ri=t(Ii,'the "rollup way":'),H=l(Ii,"UL",{});var ae=n(H);et=l(ae,"LI",{});var Lp=n(et);ii=t(Lp,"flatter and smaller bundle"),Lp.forEach(s),ci=c(ae),st=l(ae,"LI",{});var Dp=n(st);pi=t(Dp,"does not use function to wrap module"),Dp.forEach(s),hi=c(ae),ot=l(ae,"LI",{});var Mp=n(ot);di=t(Mp,"order matters, require sorting based on dependency"),Mp.forEach(s),ki=c(ae),tt=l(ae,"LI",{});var Hp=n(tt);vi=t(Hp,"circular dependency may not work"),Hp.forEach(s),ae.forEach(s),Ii.forEach(s),te.forEach(s),Rs.forEach(s),vt=c(v),ee=l(v,"SECTION",{});var It=n(ee);at=l(It,"H2",{});var Wp=n(at);Te=l(Wp,"A",{href:!0,id:!0});var $p=n(Te);ui=t($p,"References"),$p.forEach(s),Wp.forEach(s),yi=c(It),Ae=l(It,"UL",{});var qt=n(Ae);lt=l(qt,"LI",{});var Np=n(lt);Oe=l(Np,"A",{href:!0,rel:!0});var Rp=n(Oe);fi=t(Rp,"Webpack"),Rp.forEach(s),Np.forEach(s),mi=c(qt),nt=l(qt,"LI",{});var Jp=n(nt);Ce=l(Jp,"A",{href:!0,rel:!0});var zp=n(Ce);wi=t(zp,"Rollup"),zp.forEach(s),Jp.forEach(s),qt.forEach(s),It.forEach(s),this.h()},h(){r(f,"href","#what-is-a-module-bundler"),r(f,"id","what-is-a-module-bundler"),r(Gs,"type","image/webp"),r(Gs,"srcset",$h+", "+Wh+" 2x"),Ch(q.src,Si=Up)||r(q,"src",Si),r(q,"srcset",Up+", "+Nh+" 2x"),r(q,"loading","lazy"),le(q,"position","absolute"),le(q,"top","0"),le(q,"width","100%"),le(q,"height","100%"),r(q,"alt","module bundlers"),r(q,"title","Module Bundlers: (left to right) Rollup, FuseBox, webpack, parcel"),le(J,"display","block"),le(J,"position","relative"),le(J,"padding-top","31.542%"),le(J,"width","100%"),r(He,"href","/javascript-modules/"),r(re,"href","https://webpack.js.org"),r(re,"rel","nofollow"),r(ie,"href","https://rollupjs.org"),r(ie,"rel","nofollow"),r(ce,"href","https://fuse-box.org"),r(ce,"rel","nofollow"),r(pe,"href","https://parceljs.org"),r(pe,"rel","nofollow"),r(he,"href","https://philipwalton.com/articles/using-native-javascript-modules-in-production-today/"),r(he,"rel","nofollow"),r($e,"class","code-section"),r(Ne,"class","code-section"),r(Re,"class","inline"),r(Je,"href","/javascript-modules/"),r(ue,"href","https://requirejs.org/docs/commonjs.html"),r(ue,"rel","nofollow"),r(ye,"href","https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import"),r(ye,"rel","nofollow"),r(ze,"class","code-section"),r(fe,"href","#how-do-we-bundle"),r(fe,"id","how-do-we-bundle"),r(me,"href","https://webpack.js.org"),r(me,"rel","nofollow"),r(we,"href","https://rollupjs.org"),r(we,"rel","nofollow"),r(Ge,"class","inline"),r(Ve,"class","inline"),r(Ue,"class","inline"),r(Be,"class","code-section"),r(Fe,"class","code-section"),r(Ye,"class","code-section"),r(xe,"href","#the-webpack-way"),r(xe,"id","the-webpack-way"),r(Qe,"class","code-section"),r(Ze,"class","inline"),r(Ke,"class","code-section"),r(Xe,"class","inline"),r(es,"class","inline"),r(ss,"class","inline"),r(os,"class","inline"),r(be,"href","#the-rollup-way"),r(be,"id","the-rollup-way"),r(ts,"class","code-section"),r(ls,"class","inline"),r(ns,"class","inline"),r(rs,"class","inline"),r(is,"class","inline"),r(Ee,"href","http://rollupjs.org/guide/en/#avoiding-eval"),r(Ee,"rel","nofollow"),r(cs,"class","inline"),r(ps,"class","inline"),r(hs,"class","inline"),r(ds,"class","inline"),r(ks,"class","inline"),r(Ie,"href","https://wesbos.com/temporal-dead-zone/"),r(Ie,"rel","nofollow"),r(vs,"class","code-section"),r(us,"class","code-section"),r(ys,"class","inline"),r(fs,"class","inline"),r(ms,"class","inline"),r(ws,"class","inline"),r(xs,"class","inline"),r(gs,"class","inline"),r(_s,"class","inline"),r(bs,"class","inline"),r(Es,"class","code-section"),r(Is,"class","inline"),r(qs,"class","code-section"),r(Ss,"class","code-section"),r(Ps,"class","inline"),r(js,"class","inline"),r(je,"href","#summary"),r(je,"id","summary"),r(As,"class","inline"),r(Os,"class","inline"),r(Te,"href","#references"),r(Te,"id","references"),r(Oe,"href","https://webpack.js.org"),r(Oe,"rel","nofollow"),r(Ce,"href","http://rollupjs.org/guide/en/"),r(Ce,"rel","nofollow")},m(v,h){Qp(y,v,h),A(v,O,h),A(v,k,h),e(k,R),e(R,f),e(f,C),e(k,De),e(k,zs),e(zs,J),e(J,Me),e(Me,Gs),e(Me,q),e(k,St),e(k,ne),e(ne,Pt),e(ne,He),e(He,jt),e(ne,Tt),e(k,At),e(k,I),e(I,Ot),e(I,Vs),e(Vs,Ct),e(I,Lt),e(I,re),e(re,Dt),e(I,Mt),e(I,ie),e(ie,Ht),e(I,Wt),e(I,ce),e(ce,$t),e(I,Nt),e(I,pe),e(pe,Rt),e(I,Jt),e(k,zt),e(k,Us),e(Us,Gt),e(k,Vt),e(k,z),e(z,We),e(We,Ut),e(We,he),e(he,Bt),e(z,Ft),e(z,Bs),e(Bs,Yt),e(z,Qt),e(z,Fs),e(Fs,Zt),e(k,Kt),e(k,Ys),e(Ys,Xt),e(k,ea),e(k,$e),$e.innerHTML=eh,e(k,sa),e(k,Qs),e(Qs,oa),e(k,ta),e(k,Ne),Ne.innerHTML=sh,e(k,aa),e(k,Zs),e(Zs,la),e(k,na),e(k,de),e(de,ra),e(de,Re),e(Re,ia),e(de,ca),e(k,pa),e(k,Ks),e(Ks,ha),e(k,da),e(k,G),e(G,Z),e(Z,ka),e(Z,Xs),e(Xs,va),e(Z,ua),e(Z,eo),e(eo,so),e(so,ya),e(G,fa),e(G,ke),e(ke,ma),e(ke,oo),e(oo,wa),e(ke,xa),e(G,ga),e(G,to),e(to,_a),e(k,ba),e(k,ao),e(ao,Ea),e(k,Ia),e(k,V),e(V,lo),e(lo,qa),e(V,Sa),e(V,no),e(no,Pa),e(V,ja),e(V,ro),e(ro,Ta),e(k,Aa),e(k,ve),e(ve,Oa),e(ve,Je),e(Je,Ca),e(ve,La),e(k,Da),e(k,K),e(K,ue),e(ue,Ma),e(K,Ha),e(K,ye),e(ye,Wa),e(K,$a),e(k,Na),e(k,ze),ze.innerHTML=oh,A(v,pt,h),A(v,x,h),e(x,io),e(io,fe),e(fe,Ra),e(x,Ja),e(x,co),e(co,za),e(x,Ga),e(x,S),e(S,Va),e(S,me),e(me,Ua),e(S,Ba),e(S,we),e(we,Fa),e(S,Ya),e(S,po),e(po,ho),e(ho,Qa),e(S,Za),e(S,ko),e(ko,vo),e(vo,Ka),e(S,Xa),e(x,el),e(x,uo),e(uo,sl),e(x,ol),e(x,L),e(L,tl),e(L,Ge),e(Ge,al),e(L,ll),e(L,Ve),e(Ve,nl),e(L,rl),e(L,Ue),e(Ue,il),e(L,cl),e(x,pl),e(x,Be),Be.innerHTML=th,e(x,hl),e(x,Fe),Fe.innerHTML=ah,e(x,dl),e(x,Ye),Ye.innerHTML=lh,A(v,ht,h),A(v,u,h),e(u,yo),e(yo,xe),e(xe,kl),e(u,vl),e(u,fo),e(fo,ul),e(u,yl),e(u,Qe),Qe.innerHTML=nh,e(u,fl),e(u,mo),e(mo,wo),e(wo,ml),e(u,wl),e(u,ge),e(ge,xl),e(ge,xo),e(xo,gl),e(ge,_l),e(u,bl),e(u,_e),e(_e,El),e(_e,go),e(go,Il),e(_e,ql),e(u,Sl),e(u,D),e(D,Pl),e(D,Ze),e(Ze,jl),e(D,Tl),e(D,_o),e(_o,Al),e(D,Ol),e(D,bo),e(bo,Cl),e(D,Ll),e(u,Dl),e(u,Ke),Ke.innerHTML=rh,e(u,Ml),e(u,Eo),e(Eo,Io),e(Io,Hl),e(u,Wl),e(u,j),e(j,Xe),e(Xe,$l),e(j,Nl),e(j,es),e(es,Rl),e(j,Jl),e(j,ss),e(ss,zl),e(j,Gl),e(j,os),e(os,Vl),e(j,Ul),e(u,Bl),e(u,qo),e(qo,Fl),A(v,dt,h),A(v,p,h),e(p,So),e(So,be),e(be,Yl),e(p,Ql),e(p,Po),e(Po,Zl),e(p,Kl),e(p,ts),ts.innerHTML=ih,e(p,Xl),e(p,jo),e(jo,To),e(To,en),e(p,sn),e(p,U),e(U,on),e(U,Ao),e(Ao,tn),e(U,an),e(U,Oo),e(Oo,ln),e(U,nn),e(p,rn),e(p,as),e(as,cn),e(as,Co),e(Co,pn),e(p,hn),e(p,P),e(P,dn),e(P,Lo),e(Lo,kn),e(P,vn),e(P,ls),e(ls,un),e(P,yn),e(P,ns),e(ns,fn),e(P,mn),e(P,rs),e(rs,wn),e(P,xn),e(p,gn),e(p,Do),e(Do,Mo),e(Mo,B),e(B,_n),e(B,is),e(is,bn),e(B,En),e(B,Ee),e(Ee,In),e(B,qn),e(p,Sn),e(p,g),e(g,Pn),e(g,Ho),e(Ho,jn),e(g,Tn),e(g,cs),e(cs,An),e(g,On),e(g,ps),e(ps,Cn),e(g,Ln),e(g,hs),e(hs,Dn),e(g,Mn),e(g,ds),e(ds,Hn),e(g,Wn),e(g,ks),e(ks,$n),e(g,Nn),e(g,Ie),e(Ie,Rn),e(g,Jn),e(p,zn),e(p,Wo),e(Wo,Gn),e(p,Vn),e(p,$o),e($o,No),e(No,Un),e(p,Bn),e(p,Ro),e(Ro,Fn),e(p,Yn),e(p,vs),vs.innerHTML=ch,e(p,Qn),e(p,us),us.innerHTML=ph,e(p,Zn),e(p,Jo),e(Jo,zo),e(zo,Kn),e(p,Xn),e(p,w),e(w,er),e(w,ys),e(ys,sr),e(w,or),e(w,fs),e(fs,tr),e(w,ar),e(w,ms),e(ms,lr),e(w,nr),e(w,ws),e(ws,rr),e(w,ir),e(w,xs),e(xs,cr),e(w,pr),e(w,gs),e(gs,hr),e(w,dr),e(w,_s),e(_s,kr),e(w,vr),e(w,bs),e(bs,ur),e(w,yr),e(p,fr),e(p,Es),Es.innerHTML=hh,e(p,mr),e(p,Go),e(Go,wr),e(p,xr),e(p,qe),e(qe,gr),e(qe,Vo),e(Vo,_r),e(qe,br),e(p,Er),e(p,Se),e(Se,Ir),e(Se,Uo),e(Uo,qr),e(Se,Sr),e(p,Pr),e(p,Pe),e(Pe,jr),e(Pe,Is),e(Is,Tr),e(Pe,Ar),e(p,Or),e(p,qs),qs.innerHTML=dh,e(p,Cr),e(p,Bo),e(Bo,Lr),e(p,Dr),e(p,Ss),Ss.innerHTML=kh,e(p,Mr),e(p,F),e(F,Hr),e(F,Ps),e(Ps,Wr),e(F,$r),e(F,js),e(js,Nr),e(F,Rr),A(v,kt,h),A(v,W,h),e(W,Fo),e(Fo,je),e(je,Jr),e(W,zr),e(W,Yo),e(Yo,Gr),e(W,Vr),e(W,M),e(M,Ts),e(Ts,Qo),e(Qo,Ur),e(Ts,Br),e(M,Fr),e(M,X),e(X,Yr),e(X,As),e(As,Qr),e(X,Zr),e(X,Os),e(Os,Kr),e(M,Xr),e(M,Cs),e(Cs,ei),e(Cs,Y),e(Y,Zo),e(Zo,si),e(Y,oi),e(Y,Ko),e(Ko,ti),e(Y,ai),e(Y,Xo),e(Xo,li),e(M,ni),e(M,Ls),e(Ls,ri),e(Ls,H),e(H,et),e(et,ii),e(H,ci),e(H,st),e(st,pi),e(H,hi),e(H,ot),e(ot,di),e(H,ki),e(H,tt),e(tt,vi),A(v,vt,h),A(v,ee,h),e(ee,at),e(at,Te),e(Te,ui),e(ee,yi),e(ee,Ae),e(Ae,lt),e(lt,Oe),e(Oe,fi),e(Ae,mi),e(Ae,nt),e(nt,Ce),e(Ce,wi),ut=!0},p:Lh,i(v){ut||(Zp(y.$$.fragment,v),ut=!0)},o(v){Kp(y.$$.fragment,v),ut=!1},d(v){Xp(y,v),v&&s(O),v&&s(k),v&&s(pt),v&&s(x),v&&s(ht),v&&s(u),v&&s(dt),v&&s(p),v&&s(kt),v&&s(W),v&&s(vt),v&&s(ee)}}}function Jh(Le){let y,O;const k=[Le[0],Bp];let R={$$slots:{default:[Rh]},$$scope:{ctx:Le}};for(let f=0;f<k.length;f+=1)R=qi(R,k[f]);return y=new Dh({props:R}),{c(){Fp(y.$$.fragment)},l(f){Yp(y.$$.fragment,f)},m(f,C){Qp(y,f,C),O=!0},p(f,[C]){const De=C&1?Ah(k,[C&1&&Gp(f[0]),C&0&&Gp(Bp)]):{};C&2&&(De.$$scope={dirty:C,ctx:f}),y.$set(De)},i(f){O||(Zp(y.$$.fragment,f),O=!0)},o(f){Kp(y.$$.fragment,f),O=!1},d(f){Xp(y,f)}}}const Bp={title:"What is module bundler and how does it work?",date:"2019-08-30T08:00:00Z",lastUpdated:"2019-08-30T15:05:00Z",description:"understand how module bundler works",tags:["JavaScript","module bundler","dev tool","webpack"],series:"Write a module bundler",label:"blog"};function zh(Le,y,O){return Oh("blog",{image:Hh}),Le.$$set=k=>{O(0,y=qi(qi({},y),Vp(k)))},y=Vp(y),[y]}class Zh extends Ph{constructor(y){super();jh(this,y,zh,Jh,Th,{})}}export{Zh as default,Bp as metadata};
