import{S as br,i as mr,s as gr,C as kt,w as vr,x as yr,y as xr,z as kr,A as cr,q as Er,o as Sr,B as Pr,r as Cr,Y as nr,e as t,t as c,k as f,c as r,a as l,h as n,d as o,m as h,b as a,X as le,f as s,g as P,H as e,J as Ir}from"../../chunks/vendor-da4388d4.js";import{B as Ar}from"../../chunks/BlogLayout-86707f1c.js";import{_ as Fr}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-1fad7c36.js";import"../../chunks/ldjson-b0805387.js";/* empty css                                */var Or="/_app/assets/safari-console-context-ddba86ad.webp",Ur="/_app/assets/safari-console-context-42ce6da1.webp",Rr="/_app/assets/safari-console-context-f08a749e.png",pr="/_app/assets/safari-console-context-8909ad46.png",Tr="/_app/assets/firefox-shared-worker-a6706529.webp",Wr="/_app/assets/firefox-shared-worker-cee5b6a0.webp",Nr="/_app/assets/firefox-shared-worker-292b9a75.png",_r="/_app/assets/firefox-shared-worker-0b7fd443.png",$r="/_app/assets/chrome-shared-worker-e8ee7320.webp",zr="/_app/assets/chrome-shared-worker-b25591fe.webp",Dr="/_app/assets/chrome-shared-worker-35b32fa4.png",ur="/_app/assets/chrome-shared-worker-6aa863de.png",Gr="/_app/assets/chrome-worker-context-29a132bc.webp",Yr="/_app/assets/chrome-worker-context-9e48eebb.webp",Hr="/_app/assets/chrome-worker-context-f6ab9fd1.png",dr="/_app/assets/chrome-worker-context-9af5924c.png",Mr="/_app/assets/chrome-console-context-b40a1c4c.webp",Jr="/_app/assets/chrome-console-context-ce111b78.webp",jr="/_app/assets/chrome-console-context-3e43ff20.png",fr="/_app/assets/chrome-console-context-453338cb.png",qr="/_app/assets/chrome-console-2f355457.webp",Br="/_app/assets/chrome-console-bf4aa172.webp",Lr="/_app/assets/chrome-console-588dca4a.png",hr="/_app/assets/chrome-console-a6389f70.png";function Xr(M){let _,b,F,$,d,m,J,Ce,j,Re,Ie,p,ie,z,Te,We,ce,Ne,$e,ne,O,q,pe,v,Et,ze,_e,U,B,ue,y,St,De,de,Ge,Ye,g,He,L,Me,Je,X,je,qe,Z,Be,Le,K,Xe,Ze,Ke,fe,R,Q,he,x,Pt,Qe,D,Ve,V,et,tt,rt,we,T,ee,be,k,Ct,ot,me,at,st,ge,lt,Ae,C,ve,G,it,ct,Y,nt,te,pt,_t,ut,ye,W,re,xe,E,It,Fe,I,ke,H,dt,ft,Ee,ht,wt,Se,N,oe,Pe,S,At;return{c(){_=t("p"),b=t("a"),F=c("Web Workers API"),$=c(" allows you to start a separate worker thread and receives and execute tasks off the main thread."),d=f(),m=t("p"),J=c("Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?"),Ce=f(),j=t("p"),Re=c("Here's how you would do it for various major browsers:"),Ie=f(),p=t("section"),ie=t("h2"),z=t("a"),Te=c("Chrome"),We=f(),ce=t("p"),Ne=c(`If you are debugging service worker or worker, you can head down to the console. There's a dropdown menu, if you haven't noticed previously, that says "JavaScript context".`),$e=f(),ne=t("p"),O=t("span"),q=t("picture"),pe=t("source"),v=t("img"),ze=f(),_e=t("p"),U=t("span"),B=t("picture"),ue=t("source"),y=t("img"),De=f(),de=t("p"),Ge=c("For worker context, you would see a cog logo beside the name."),Ye=f(),g=t("p"),He=c("After you choose the worker context, you can type "),L=t("code"),Me=c("self"),Je=c(" into the console, and you should see "),X=t("code"),je=c("self"),qe=c(" is an instance of "),Z=t("code"),Be=c("DedicatedWorkerGlobalScope"),Le=c(" instead of "),K=t("code"),Xe=c("window"),Ze=c("."),Ke=f(),fe=t("p"),R=t("span"),Q=t("picture"),he=t("source"),x=t("img"),Qe=f(),D=t("p"),Ve=c("For shared worker, you would need to go to "),V=t("a"),et=c("chrome://inspect/#workers"),tt=c('. Select "Shared workers" on the left panel.'),rt=f(),we=t("p"),T=t("span"),ee=t("picture"),be=t("source"),k=t("img"),ot=f(),me=t("p"),at=c("You would be able to see a list of shared workers if you have any running."),st=f(),ge=t("p"),lt=c('You can click "inspect", which will open a new console for you to debug.'),Ae=f(),C=t("section"),ve=t("h2"),G=t("a"),it=c("Firefox"),ct=f(),Y=t("p"),nt=c("For Firefox, you could go to "),te=t("a"),pt=c("about:debugging#workers"),_t=c(". You will be able to see a list of service workers, and shared workers registered to the browser."),ut=f(),ye=t("p"),W=t("span"),re=t("picture"),xe=t("source"),E=t("img"),Fe=f(),I=t("section"),ke=t("h2"),H=t("a"),dt=c("Safari"),ft=f(),Ee=t("p"),ht=c("For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console."),wt=f(),Se=t("p"),N=t("span"),oe=t("picture"),Pe=t("source"),S=t("img"),this.h()},l(i){_=r(i,"P",{});var w=l(_);b=r(w,"A",{href:!0,rel:!0});var Ft=l(b);F=n(Ft,"Web Workers API"),Ft.forEach(o),$=n(w," allows you to start a separate worker thread and receives and execute tasks off the main thread."),w.forEach(o),d=h(i),m=r(i,"P",{});var Ot=l(m);J=n(Ot,"Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?"),Ot.forEach(o),Ce=h(i),j=r(i,"P",{});var Ut=l(j);Re=n(Ut,"Here's how you would do it for various major browsers:"),Ut.forEach(o),Ie=h(i),p=r(i,"SECTION",{});var u=l(p);ie=r(u,"H2",{});var Rt=l(ie);z=r(Rt,"A",{href:!0,id:!0});var Tt=l(z);Te=n(Tt,"Chrome"),Tt.forEach(o),Rt.forEach(o),We=h(u),ce=r(u,"P",{});var Wt=l(ce);Ne=n(Wt,`If you are debugging service worker or worker, you can head down to the console. There's a dropdown menu, if you haven't noticed previously, that says "JavaScript context".`),Wt.forEach(o),$e=h(u),ne=r(u,"P",{});var Nt=l(ne);O=r(Nt,"SPAN",{style:!0});var $t=l(O);q=r($t,"PICTURE",{});var bt=l(q);pe=r(bt,"SOURCE",{type:!0,srcset:!0}),v=r(bt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),bt.forEach(o),$t.forEach(o),Nt.forEach(o),ze=h(u),_e=r(u,"P",{});var zt=l(_e);U=r(zt,"SPAN",{style:!0});var Dt=l(U);B=r(Dt,"PICTURE",{});var mt=l(B);ue=r(mt,"SOURCE",{type:!0,srcset:!0}),y=r(mt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),mt.forEach(o),Dt.forEach(o),zt.forEach(o),De=h(u),de=r(u,"P",{});var Gt=l(de);Ge=n(Gt,"For worker context, you would see a cog logo beside the name."),Gt.forEach(o),Ye=h(u),g=r(u,"P",{});var A=l(g);He=n(A,"After you choose the worker context, you can type "),L=r(A,"CODE",{class:!0});var Yt=l(L);Me=n(Yt,"self"),Yt.forEach(o),Je=n(A," into the console, and you should see "),X=r(A,"CODE",{class:!0});var Ht=l(X);je=n(Ht,"self"),Ht.forEach(o),qe=n(A," is an instance of "),Z=r(A,"CODE",{class:!0});var Mt=l(Z);Be=n(Mt,"DedicatedWorkerGlobalScope"),Mt.forEach(o),Le=n(A," instead of "),K=r(A,"CODE",{class:!0});var Jt=l(K);Xe=n(Jt,"window"),Jt.forEach(o),Ze=n(A,"."),A.forEach(o),Ke=h(u),fe=r(u,"P",{});var jt=l(fe);R=r(jt,"SPAN",{style:!0});var qt=l(R);Q=r(qt,"PICTURE",{});var gt=l(Q);he=r(gt,"SOURCE",{type:!0,srcset:!0}),x=r(gt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),gt.forEach(o),qt.forEach(o),jt.forEach(o),Qe=h(u),D=r(u,"P",{});var Oe=l(D);Ve=n(Oe,"For shared worker, you would need to go to "),V=r(Oe,"A",{href:!0});var Bt=l(V);et=n(Bt,"chrome://inspect/#workers"),Bt.forEach(o),tt=n(Oe,'. Select "Shared workers" on the left panel.'),Oe.forEach(o),rt=h(u),we=r(u,"P",{});var Lt=l(we);T=r(Lt,"SPAN",{style:!0});var Xt=l(T);ee=r(Xt,"PICTURE",{});var vt=l(ee);be=r(vt,"SOURCE",{type:!0,srcset:!0}),k=r(vt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),vt.forEach(o),Xt.forEach(o),Lt.forEach(o),ot=h(u),me=r(u,"P",{});var Zt=l(me);at=n(Zt,"You would be able to see a list of shared workers if you have any running."),Zt.forEach(o),st=h(u),ge=r(u,"P",{});var Kt=l(ge);lt=n(Kt,'You can click "inspect", which will open a new console for you to debug.'),Kt.forEach(o),u.forEach(o),Ae=h(i),C=r(i,"SECTION",{});var ae=l(C);ve=r(ae,"H2",{});var Qt=l(ve);G=r(Qt,"A",{href:!0,id:!0});var Vt=l(G);it=n(Vt,"Firefox"),Vt.forEach(o),Qt.forEach(o),ct=h(ae),Y=r(ae,"P",{});var Ue=l(Y);nt=n(Ue,"For Firefox, you could go to "),te=r(Ue,"A",{href:!0});var er=l(te);pt=n(er,"about:debugging#workers"),er.forEach(o),_t=n(Ue,". You will be able to see a list of service workers, and shared workers registered to the browser."),Ue.forEach(o),ut=h(ae),ye=r(ae,"P",{});var tr=l(ye);W=r(tr,"SPAN",{style:!0});var rr=l(W);re=r(rr,"PICTURE",{});var yt=l(re);xe=r(yt,"SOURCE",{type:!0,srcset:!0}),E=r(yt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),yt.forEach(o),rr.forEach(o),tr.forEach(o),ae.forEach(o),Fe=h(i),I=r(i,"SECTION",{});var se=l(I);ke=r(se,"H2",{});var or=l(ke);H=r(or,"A",{href:!0,id:!0});var ar=l(H);dt=n(ar,"Safari"),ar.forEach(o),or.forEach(o),ft=h(se),Ee=r(se,"P",{});var sr=l(Ee);ht=n(sr,"For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console."),sr.forEach(o),wt=h(se),Se=r(se,"P",{});var lr=l(Se);N=r(lr,"SPAN",{style:!0});var ir=l(N);oe=r(ir,"PICTURE",{});var xt=l(oe);Pe=r(xt,"SOURCE",{type:!0,srcset:!0}),S=r(xt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),xt.forEach(o),ir.forEach(o),lr.forEach(o),se.forEach(o),this.h()},h(){a(b,"href","https://developer.mozilla.org/en-US/docs/Web/API/Worker"),a(b,"rel","nofollow"),a(z,"href","#chrome"),a(z,"id","chrome"),a(pe,"type","image/webp"),a(pe,"srcset",Br+", "+qr+" 2x"),le(v.src,Et=hr)||a(v,"src",Et),a(v,"srcset",hr+", "+Lr+" 2x"),a(v,"loading","lazy"),s(v,"position","absolute"),s(v,"top","0"),s(v,"width","100%"),s(v,"height","100%"),a(v,"alt","chrome console"),s(O,"display","block"),s(O,"position","relative"),s(O,"padding-top","46.033%"),s(O,"width","100%"),a(ue,"type","image/webp"),a(ue,"srcset",Jr+", "+Mr+" 2x"),le(y.src,St=fr)||a(y,"src",St),a(y,"srcset",fr+", "+jr+" 2x"),a(y,"loading","lazy"),s(y,"position","absolute"),s(y,"top","0"),s(y,"width","100%"),s(y,"height","100%"),a(y,"alt","chrome console context"),s(U,"display","block"),s(U,"position","relative"),s(U,"padding-top","36.313%"),s(U,"width","100%"),a(L,"class","inline"),a(X,"class","inline"),a(Z,"class","inline"),a(K,"class","inline"),a(he,"type","image/webp"),a(he,"srcset",Yr+", "+Gr+" 2x"),le(x.src,Pt=dr)||a(x,"src",Pt),a(x,"srcset",dr+", "+Hr+" 2x"),a(x,"loading","lazy"),s(x,"position","absolute"),s(x,"top","0"),s(x,"width","100%"),s(x,"height","100%"),a(x,"alt","chrome worker context"),s(R,"display","block"),s(R,"position","relative"),s(R,"padding-top","33.981%"),s(R,"width","100%"),a(V,"href","chrome://inspect/#workers"),a(be,"type","image/webp"),a(be,"srcset",zr+", "+$r+" 2x"),le(k.src,Ct=ur)||a(k,"src",Ct),a(k,"srcset",ur+", "+Dr+" 2x"),a(k,"loading","lazy"),s(k,"position","absolute"),s(k,"top","0"),s(k,"width","100%"),s(k,"height","100%"),a(k,"alt","chrome shared worker"),s(T,"display","block"),s(T,"position","relative"),s(T,"padding-top","79.926%"),s(T,"width","100%"),a(G,"href","#firefox"),a(G,"id","firefox"),a(te,"href","about:debugging#workers"),a(xe,"type","image/webp"),a(xe,"srcset",Wr+", "+Tr+" 2x"),le(E.src,It=_r)||a(E,"src",It),a(E,"srcset",_r+", "+Nr+" 2x"),a(E,"loading","lazy"),s(E,"position","absolute"),s(E,"top","0"),s(E,"width","100%"),s(E,"height","100%"),a(E,"alt","firefox shared worker"),s(W,"display","block"),s(W,"position","relative"),s(W,"padding-top","79.451%"),s(W,"width","100%"),a(H,"href","#safari"),a(H,"id","safari"),a(Pe,"type","image/webp"),a(Pe,"srcset",Ur+", "+Or+" 2x"),le(S.src,At=pr)||a(S,"src",At),a(S,"srcset",pr+", "+Rr+" 2x"),a(S,"loading","lazy"),s(S,"position","absolute"),s(S,"top","0"),s(S,"width","100%"),s(S,"height","100%"),a(S,"alt","safari console context"),s(N,"display","block"),s(N,"position","relative"),s(N,"padding-top","83.396%"),s(N,"width","100%")},m(i,w){P(i,_,w),e(_,b),e(b,F),e(_,$),P(i,d,w),P(i,m,w),e(m,J),P(i,Ce,w),P(i,j,w),e(j,Re),P(i,Ie,w),P(i,p,w),e(p,ie),e(ie,z),e(z,Te),e(p,We),e(p,ce),e(ce,Ne),e(p,$e),e(p,ne),e(ne,O),e(O,q),e(q,pe),e(q,v),e(p,ze),e(p,_e),e(_e,U),e(U,B),e(B,ue),e(B,y),e(p,De),e(p,de),e(de,Ge),e(p,Ye),e(p,g),e(g,He),e(g,L),e(L,Me),e(g,Je),e(g,X),e(X,je),e(g,qe),e(g,Z),e(Z,Be),e(g,Le),e(g,K),e(K,Xe),e(g,Ze),e(p,Ke),e(p,fe),e(fe,R),e(R,Q),e(Q,he),e(Q,x),e(p,Qe),e(p,D),e(D,Ve),e(D,V),e(V,et),e(D,tt),e(p,rt),e(p,we),e(we,T),e(T,ee),e(ee,be),e(ee,k),e(p,ot),e(p,me),e(me,at),e(p,st),e(p,ge),e(ge,lt),P(i,Ae,w),P(i,C,w),e(C,ve),e(ve,G),e(G,it),e(C,ct),e(C,Y),e(Y,nt),e(Y,te),e(te,pt),e(Y,_t),e(C,ut),e(C,ye),e(ye,W),e(W,re),e(re,xe),e(re,E),P(i,Fe,w),P(i,I,w),e(I,ke),e(ke,H),e(H,dt),e(I,ft),e(I,Ee),e(Ee,ht),e(I,wt),e(I,Se),e(Se,N),e(N,oe),e(oe,Pe),e(oe,S)},p:Ir,d(i){i&&o(_),i&&o(d),i&&o(m),i&&o(Ce),i&&o(j),i&&o(Ie),i&&o(p),i&&o(Ae),i&&o(C),i&&o(Fe),i&&o(I)}}}function Zr(M){let _,b;const F=[M[0],wr];let $={$$slots:{default:[Xr]},$$scope:{ctx:M}};for(let d=0;d<F.length;d+=1)$=kt($,F[d]);return _=new Ar({props:$}),{c(){vr(_.$$.fragment)},l(d){yr(_.$$.fragment,d)},m(d,m){xr(_,d,m),b=!0},p(d,[m]){const J=m&1?kr(F,[m&1&&cr(d[0]),m&0&&cr(wr)]):{};m&2&&(J.$$scope={dirty:m,ctx:d}),_.$set(J)},i(d){b||(Er(_.$$.fragment,d),b=!0)},o(d){Sr(_.$$.fragment,d),b=!1},d(d){Pr(_,d)}}}const wr={title:"Debugging Web Workers",date:"2019-05-22T08:00:00Z",description:"...for Chrome, Firefox and Safari",label:"blog",tableOfContents:[{link:"chrome",title:"Chrome"},{link:"firefox",title:"Firefox"},{link:"safari",title:"Safari"}]};function Kr(M,_,b){return Cr("blog",{image:Fr}),M.$$set=F=>{b(0,_=kt(kt({},_),nr(F)))},_=nr(_),[_]}class ao extends br{constructor(_){super();mr(this,_,Kr,Zr,gr,{})}}export{ao as default,wr as metadata};
