import{S as Pr,i as Cr,s as Ir,C as Pt,w as vr,x as yr,y as xr,z as Ar,A as _r,q as kr,o as Er,B as Sr,r as $r,R as ur,k as f,e as t,t as c,m as h,c as r,a as i,h as n,d as o,b as a,Q as ie,f as s,g as S,F as e,O as Fr}from"../../chunks/vendor-569a3c5c.js";import{B as Or}from"../../chunks/BlogLayout-17b76cb2.js";import{T as Tr}from"../../chunks/TableOfContent-dbc18cb8.js";import{_ as Rr}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-ee936cd4.js";import"../../chunks/WebMentions-968cc380.js";/* empty css                                */var Ur="/_app/assets/safari-console-context-ddba86ad.webp",Wr="/_app/assets/safari-console-context-42ce6da1.webp",Nr="/_app/assets/safari-console-context-f08a749e.png",dr="/_app/assets/safari-console-context-8909ad46.png",zr="/_app/assets/firefox-shared-worker-a6706529.webp",Dr="/_app/assets/firefox-shared-worker-cee5b6a0.webp",Gr="/_app/assets/firefox-shared-worker-292b9a75.png",fr="/_app/assets/firefox-shared-worker-0b7fd443.png",Mr="/_app/assets/chrome-shared-worker-e8ee7320.webp",Yr="/_app/assets/chrome-shared-worker-b25591fe.webp",Hr="/_app/assets/chrome-shared-worker-35b32fa4.png",hr="/_app/assets/chrome-shared-worker-6aa863de.png",Jr="/_app/assets/chrome-worker-context-29a132bc.webp",jr="/_app/assets/chrome-worker-context-9e48eebb.webp",qr="/_app/assets/chrome-worker-context-f6ab9fd1.png",wr="/_app/assets/chrome-worker-context-9af5924c.png",Br="/_app/assets/chrome-console-context-b40a1c4c.webp",Lr="/_app/assets/chrome-console-context-ce111b78.webp",Qr="/_app/assets/chrome-console-context-3e43ff20.png",mr="/_app/assets/chrome-console-context-453338cb.png",Zr="/_app/assets/chrome-console-2f355457.webp",Kr="/_app/assets/chrome-console-bf4aa172.webp",Vr="/_app/assets/chrome-console-588dca4a.png",br="/_app/assets/chrome-console-a6389f70.png";function Xr(J){let _,P,m,C,d,I,z,j,Ue,Ie,q,We,Ae,p,ce,D,Ne,ze,ne,De,Ge,pe,O,B,_e,g,Ct,Me,ue,T,L,de,v,It,Ye,fe,He,Je,b,je,Q,qe,Be,Z,Le,Qe,K,Ze,Ke,V,Ve,Xe,et,he,R,X,we,y,At,tt,G,rt,ee,ot,at,st,me,U,te,be,x,$t,lt,ge,it,ct,ve,nt,$e,A,ye,M,pt,_t,Y,ut,re,dt,ft,ht,xe,W,oe,ke,k,Ft,Fe,$,Ee,H,wt,mt,Se,bt,gt,Pe,N,ae,Ce,E,Ot,Oe;return _=new Tr({props:{data:[{link:"chrome",title:"Chrome"},{link:"firefox",title:"Firefox"},{link:"safari",title:"Safari"}]}}),{c(){vr(_.$$.fragment),P=f(),m=t("p"),C=t("a"),d=c("Web Workers API"),I=c(" allows you to start a separate worker thread and receives and execute tasks off the main thread."),z=f(),j=t("p"),Ue=c("Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?"),Ie=f(),q=t("p"),We=c("Here's how you would do it for various major browsers:"),Ae=f(),p=t("section"),ce=t("h2"),D=t("a"),Ne=c("Chrome"),ze=f(),ne=t("p"),De=c(`If you are debugging service worker or worker, you can head down to the console. There's a dropdown menu, if you haven't noticed previously, that says "JavaScript context".`),Ge=f(),pe=t("p"),O=t("span"),B=t("picture"),_e=t("source"),g=t("img"),Me=f(),ue=t("p"),T=t("span"),L=t("picture"),de=t("source"),v=t("img"),Ye=f(),fe=t("p"),He=c("For worker context, you would see a cog logo beside the name."),Je=f(),b=t("p"),je=c("After you choose the worker context, you can type "),Q=t("code"),qe=c("self"),Be=c(" into the console, and you should see "),Z=t("code"),Le=c("self"),Qe=c(" is an instance of "),K=t("code"),Ze=c("DedicatedWorkerGlobalScope"),Ke=c(" instead of "),V=t("code"),Ve=c("window"),Xe=c("."),et=f(),he=t("p"),R=t("span"),X=t("picture"),we=t("source"),y=t("img"),tt=f(),G=t("p"),rt=c("For shared worker, you would need to go to "),ee=t("a"),ot=c("chrome://inspect/#workers"),at=c('. Select "Shared workers" on the left panel.'),st=f(),me=t("p"),U=t("span"),te=t("picture"),be=t("source"),x=t("img"),lt=f(),ge=t("p"),it=c("You would be able to see a list of shared workers if you have any running."),ct=f(),ve=t("p"),nt=c('You can click "inspect", which will open a new console for you to debug.'),$e=f(),A=t("section"),ye=t("h2"),M=t("a"),pt=c("Firefox"),_t=f(),Y=t("p"),ut=c("For Firefox, you could go to "),re=t("a"),dt=c("about:debugging#workers"),ft=c(". You will be able to see a list of service workers, and shared workers registered to the browser."),ht=f(),xe=t("p"),W=t("span"),oe=t("picture"),ke=t("source"),k=t("img"),Fe=f(),$=t("section"),Ee=t("h2"),H=t("a"),wt=c("Safari"),mt=f(),Se=t("p"),bt=c("For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console."),gt=f(),Pe=t("p"),N=t("span"),ae=t("picture"),Ce=t("source"),E=t("img"),this.h()},l(l){yr(_.$$.fragment,l),P=h(l),m=r(l,"P",{});var w=i(m);C=r(w,"A",{href:!0,rel:!0});var Tt=i(C);d=n(Tt,"Web Workers API"),Tt.forEach(o),I=n(w," allows you to start a separate worker thread and receives and execute tasks off the main thread."),w.forEach(o),z=h(l),j=r(l,"P",{});var Rt=i(j);Ue=n(Rt,"Since worker runs in a separate worker thread, how would you debug, ie set breakpoint, console log, and inspect your worker script?"),Rt.forEach(o),Ie=h(l),q=r(l,"P",{});var Ut=i(q);We=n(Ut,"Here's how you would do it for various major browsers:"),Ut.forEach(o),Ae=h(l),p=r(l,"SECTION",{});var u=i(p);ce=r(u,"H2",{});var Wt=i(ce);D=r(Wt,"A",{href:!0,id:!0});var Nt=i(D);Ne=n(Nt,"Chrome"),Nt.forEach(o),Wt.forEach(o),ze=h(u),ne=r(u,"P",{});var zt=i(ne);De=n(zt,`If you are debugging service worker or worker, you can head down to the console. There's a dropdown menu, if you haven't noticed previously, that says "JavaScript context".`),zt.forEach(o),Ge=h(u),pe=r(u,"P",{});var Dt=i(pe);O=r(Dt,"SPAN",{style:!0});var Gt=i(O);B=r(Gt,"PICTURE",{});var vt=i(B);_e=r(vt,"SOURCE",{type:!0,srcset:!0}),g=r(vt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),vt.forEach(o),Gt.forEach(o),Dt.forEach(o),Me=h(u),ue=r(u,"P",{});var Mt=i(ue);T=r(Mt,"SPAN",{style:!0});var Yt=i(T);L=r(Yt,"PICTURE",{});var yt=i(L);de=r(yt,"SOURCE",{type:!0,srcset:!0}),v=r(yt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),yt.forEach(o),Yt.forEach(o),Mt.forEach(o),Ye=h(u),fe=r(u,"P",{});var Ht=i(fe);He=n(Ht,"For worker context, you would see a cog logo beside the name."),Ht.forEach(o),Je=h(u),b=r(u,"P",{});var F=i(b);je=n(F,"After you choose the worker context, you can type "),Q=r(F,"CODE",{class:!0});var Jt=i(Q);qe=n(Jt,"self"),Jt.forEach(o),Be=n(F," into the console, and you should see "),Z=r(F,"CODE",{class:!0});var jt=i(Z);Le=n(jt,"self"),jt.forEach(o),Qe=n(F," is an instance of "),K=r(F,"CODE",{class:!0});var qt=i(K);Ze=n(qt,"DedicatedWorkerGlobalScope"),qt.forEach(o),Ke=n(F," instead of "),V=r(F,"CODE",{class:!0});var Bt=i(V);Ve=n(Bt,"window"),Bt.forEach(o),Xe=n(F,"."),F.forEach(o),et=h(u),he=r(u,"P",{});var Lt=i(he);R=r(Lt,"SPAN",{style:!0});var Qt=i(R);X=r(Qt,"PICTURE",{});var xt=i(X);we=r(xt,"SOURCE",{type:!0,srcset:!0}),y=r(xt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),xt.forEach(o),Qt.forEach(o),Lt.forEach(o),tt=h(u),G=r(u,"P",{});var Te=i(G);rt=n(Te,"For shared worker, you would need to go to "),ee=r(Te,"A",{href:!0});var Zt=i(ee);ot=n(Zt,"chrome://inspect/#workers"),Zt.forEach(o),at=n(Te,'. Select "Shared workers" on the left panel.'),Te.forEach(o),st=h(u),me=r(u,"P",{});var Kt=i(me);U=r(Kt,"SPAN",{style:!0});var Vt=i(U);te=r(Vt,"PICTURE",{});var kt=i(te);be=r(kt,"SOURCE",{type:!0,srcset:!0}),x=r(kt,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),kt.forEach(o),Vt.forEach(o),Kt.forEach(o),lt=h(u),ge=r(u,"P",{});var Xt=i(ge);it=n(Xt,"You would be able to see a list of shared workers if you have any running."),Xt.forEach(o),ct=h(u),ve=r(u,"P",{});var er=i(ve);nt=n(er,'You can click "inspect", which will open a new console for you to debug.'),er.forEach(o),u.forEach(o),$e=h(l),A=r(l,"SECTION",{});var se=i(A);ye=r(se,"H2",{});var tr=i(ye);M=r(tr,"A",{href:!0,id:!0});var rr=i(M);pt=n(rr,"Firefox"),rr.forEach(o),tr.forEach(o),_t=h(se),Y=r(se,"P",{});var Re=i(Y);ut=n(Re,"For Firefox, you could go to "),re=r(Re,"A",{href:!0});var or=i(re);dt=n(or,"about:debugging#workers"),or.forEach(o),ft=n(Re,". You will be able to see a list of service workers, and shared workers registered to the browser."),Re.forEach(o),ht=h(se),xe=r(se,"P",{});var ar=i(xe);W=r(ar,"SPAN",{style:!0});var sr=i(W);oe=r(sr,"PICTURE",{});var Et=i(oe);ke=r(Et,"SOURCE",{type:!0,srcset:!0}),k=r(Et,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),Et.forEach(o),sr.forEach(o),ar.forEach(o),se.forEach(o),Fe=h(l),$=r(l,"SECTION",{});var le=i($);Ee=r(le,"H2",{});var lr=i(Ee);H=r(lr,"A",{href:!0,id:!0});var ir=i(H);wt=n(ir,"Safari"),ir.forEach(o),lr.forEach(o),mt=h(le),Se=r(le,"P",{});var cr=i(Se);bt=n(cr,"For Safari, you could find the JavaScript context dropdown at the bottom right corner of your console."),cr.forEach(o),gt=h(le),Pe=r(le,"P",{});var nr=i(Pe);N=r(nr,"SPAN",{style:!0});var pr=i(N);ae=r(pr,"PICTURE",{});var St=i(ae);Ce=r(St,"SOURCE",{type:!0,srcset:!0}),E=r(St,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),St.forEach(o),pr.forEach(o),nr.forEach(o),le.forEach(o),this.h()},h(){a(C,"href","https://developer.mozilla.org/en-US/docs/Web/API/Worker"),a(C,"rel","nofollow"),a(D,"href","#chrome"),a(D,"id","chrome"),a(_e,"type","image/webp"),a(_e,"srcset",Kr+", "+Zr+" 2x"),ie(g.src,Ct=br)||a(g,"src",Ct),a(g,"srcset",br+", "+Vr+" 2x"),a(g,"loading","lazy"),s(g,"position","absolute"),s(g,"top","0"),s(g,"width","100%"),s(g,"height","100%"),a(g,"alt","chrome console"),s(O,"display","block"),s(O,"position","relative"),s(O,"padding-top","46.033%"),s(O,"width","100%"),a(de,"type","image/webp"),a(de,"srcset",Lr+", "+Br+" 2x"),ie(v.src,It=mr)||a(v,"src",It),a(v,"srcset",mr+", "+Qr+" 2x"),a(v,"loading","lazy"),s(v,"position","absolute"),s(v,"top","0"),s(v,"width","100%"),s(v,"height","100%"),a(v,"alt","chrome console context"),s(T,"display","block"),s(T,"position","relative"),s(T,"padding-top","36.313%"),s(T,"width","100%"),a(Q,"class","inline"),a(Z,"class","inline"),a(K,"class","inline"),a(V,"class","inline"),a(we,"type","image/webp"),a(we,"srcset",jr+", "+Jr+" 2x"),ie(y.src,At=wr)||a(y,"src",At),a(y,"srcset",wr+", "+qr+" 2x"),a(y,"loading","lazy"),s(y,"position","absolute"),s(y,"top","0"),s(y,"width","100%"),s(y,"height","100%"),a(y,"alt","chrome worker context"),s(R,"display","block"),s(R,"position","relative"),s(R,"padding-top","33.981%"),s(R,"width","100%"),a(ee,"href","chrome://inspect/#workers"),a(be,"type","image/webp"),a(be,"srcset",Yr+", "+Mr+" 2x"),ie(x.src,$t=hr)||a(x,"src",$t),a(x,"srcset",hr+", "+Hr+" 2x"),a(x,"loading","lazy"),s(x,"position","absolute"),s(x,"top","0"),s(x,"width","100%"),s(x,"height","100%"),a(x,"alt","chrome shared worker"),s(U,"display","block"),s(U,"position","relative"),s(U,"padding-top","79.926%"),s(U,"width","100%"),a(M,"href","#firefox"),a(M,"id","firefox"),a(re,"href","about:debugging#workers"),a(ke,"type","image/webp"),a(ke,"srcset",Dr+", "+zr+" 2x"),ie(k.src,Ft=fr)||a(k,"src",Ft),a(k,"srcset",fr+", "+Gr+" 2x"),a(k,"loading","lazy"),s(k,"position","absolute"),s(k,"top","0"),s(k,"width","100%"),s(k,"height","100%"),a(k,"alt","firefox shared worker"),s(W,"display","block"),s(W,"position","relative"),s(W,"padding-top","79.451%"),s(W,"width","100%"),a(H,"href","#safari"),a(H,"id","safari"),a(Ce,"type","image/webp"),a(Ce,"srcset",Wr+", "+Ur+" 2x"),ie(E.src,Ot=dr)||a(E,"src",Ot),a(E,"srcset",dr+", "+Nr+" 2x"),a(E,"loading","lazy"),s(E,"position","absolute"),s(E,"top","0"),s(E,"width","100%"),s(E,"height","100%"),a(E,"alt","safari console context"),s(N,"display","block"),s(N,"position","relative"),s(N,"padding-top","83.396%"),s(N,"width","100%")},m(l,w){xr(_,l,w),S(l,P,w),S(l,m,w),e(m,C),e(C,d),e(m,I),S(l,z,w),S(l,j,w),e(j,Ue),S(l,Ie,w),S(l,q,w),e(q,We),S(l,Ae,w),S(l,p,w),e(p,ce),e(ce,D),e(D,Ne),e(p,ze),e(p,ne),e(ne,De),e(p,Ge),e(p,pe),e(pe,O),e(O,B),e(B,_e),e(B,g),e(p,Me),e(p,ue),e(ue,T),e(T,L),e(L,de),e(L,v),e(p,Ye),e(p,fe),e(fe,He),e(p,Je),e(p,b),e(b,je),e(b,Q),e(Q,qe),e(b,Be),e(b,Z),e(Z,Le),e(b,Qe),e(b,K),e(K,Ze),e(b,Ke),e(b,V),e(V,Ve),e(b,Xe),e(p,et),e(p,he),e(he,R),e(R,X),e(X,we),e(X,y),e(p,tt),e(p,G),e(G,rt),e(G,ee),e(ee,ot),e(G,at),e(p,st),e(p,me),e(me,U),e(U,te),e(te,be),e(te,x),e(p,lt),e(p,ge),e(ge,it),e(p,ct),e(p,ve),e(ve,nt),S(l,$e,w),S(l,A,w),e(A,ye),e(ye,M),e(M,pt),e(A,_t),e(A,Y),e(Y,ut),e(Y,re),e(re,dt),e(Y,ft),e(A,ht),e(A,xe),e(xe,W),e(W,oe),e(oe,ke),e(oe,k),S(l,Fe,w),S(l,$,w),e($,Ee),e(Ee,H),e(H,wt),e($,mt),e($,Se),e(Se,bt),e($,gt),e($,Pe),e(Pe,N),e(N,ae),e(ae,Ce),e(ae,E),Oe=!0},p:Fr,i(l){Oe||(kr(_.$$.fragment,l),Oe=!0)},o(l){Er(_.$$.fragment,l),Oe=!1},d(l){Sr(_,l),l&&o(P),l&&o(m),l&&o(z),l&&o(j),l&&o(Ie),l&&o(q),l&&o(Ae),l&&o(p),l&&o($e),l&&o(A),l&&o(Fe),l&&o($)}}}function eo(J){let _,P;const m=[J[0],gr];let C={$$slots:{default:[Xr]},$$scope:{ctx:J}};for(let d=0;d<m.length;d+=1)C=Pt(C,m[d]);return _=new Or({props:C}),{c(){vr(_.$$.fragment)},l(d){yr(_.$$.fragment,d)},m(d,I){xr(_,d,I),P=!0},p(d,[I]){const z=I&1?Ar(m,[I&1&&_r(d[0]),I&0&&_r(gr)]):{};I&2&&(z.$$scope={dirty:I,ctx:d}),_.$set(z)},i(d){P||(kr(_.$$.fragment,d),P=!0)},o(d){Er(_.$$.fragment,d),P=!1},d(d){Sr(_,d)}}}const gr={title:"Debugging Web Workers",date:"2019-05-22T08:00:00Z",description:"...for Chrome, Firefox and Safari",label:"blog"};function to(J,_,P){return $r("blog",{image:Rr}),J.$$set=m=>{P(0,_=Pt(Pt({},_),ur(m)))},_=ur(_),[_]}class no extends Pr{constructor(_){super();Cr(this,_,to,eo,Ir,{})}}export{no as default,gr as metadata};
