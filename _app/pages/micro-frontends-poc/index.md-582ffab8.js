import{S as Xn,i as es,s as ts,C as wl,w as os,x as rs,y as as,z as ls,A as Kn,q as ns,o as ss,B as is,r as cs,Y as Qn,e as a,t,k as c,c as l,a as n,h as o,d as r,m as h,b as s,g as v,H as e}from"../../chunks/vendor-da4388d4.js";import{B as hs}from"../../chunks/BlogLayout-14cfab6f.js";import{_ as ds}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-1fad7c36.js";import"../../chunks/ldjson-b0805387.js";/* empty css                                */function fs(Se){let d,S,b,ee,m,P,D,po,te,vo,go,Zt,J,mt,oe,_o,Eo,H,re,pt,vt,bo,wo,gt,yo,Po,ae,_t,Et,Co,Oo,_,Ao,Re,To,Io,Be,Do,xo,bt,ko,So,Le,Ro,Bo,Ne,Lo,No,jo,G,wt,yt,Fo,Ho,le,Go,ne,Wo,$o,Mo,Pt,Uo,Jt,g,Ct,se,Yo,zo,ie,qo,ce,Zo,Jo,Ko,Ot,Qo,Vo,he,At,Xo,er,Tt,tr,or,C,It,rr,ar,de,lr,nr,Dt,sr,ir,fe,cr,hr,dr,xt,fr,Kt,f,kt,ue,ur,mr,w,pr,me,vr,gr,pe,_r,Er,je,br,wr,St,yr,Pr,Cr,W,Or,Fe,Ar,Tr,He,Ir,Dr,xr,Rt,kr,Sr,ve,Rr,ge,Br,Lr,Nr,Bt,jr,Fr,_e,Hr,Ee,Gr,Wr,$r,be,Mr,Ge,Ur,Yr,zr,$,qr,We,Zr,Jr,$e,Kr,Qr,Qt,E,Lt,we,Vr,Xr,x,ea,Me,ta,oa,Ue,ra,aa,Ye,la,na,sa,ye,Nt,R,jt,ia,ca,ze,ha,da,qe,fa,ua,ma,Ft,O,Ht,pa,va,Ze,ga,_a,Je,Ea,ba,Gt,wa,ya,Pa,k,Ca,Ke,Oa,Aa,Qe,Ta,Ia,M,Da,Ve,xa,ka,Sa,Ra,y,Ba,Wt,La,Na,Pe,ja,Fa,Ce,Ha,Ga,Xe,Wa,$a,Vt,A,$t,Oe,Ma,Ua,et,Ya,B,za,tt,qa,Za,ot,Ja,Ka,U,Qa,Ae,Va,Xa,Te,el,tl,ol,Mt,rl,Xt,L,Ut,Ie,al,ll,Y,nl,rt,sl,il,De,cl,hl,dl,z,fl,at,ul,ml,lt,pl,vl,eo,K,Yt,xe,gl,_l,zt,El;return{c(){d=a("p"),S=t("Yes, this is "),b=a("a"),ee=t("yet another proof of concept for micro frontend architecture"),m=t("."),P=c(),D=a("p"),po=t("Please "),te=a("a"),vo=t("check out the code"),go=t(" and try to play with it locally."),Zt=c(),J=a("section"),mt=a("h2"),oe=a("a"),_o=t("What is this different?"),Eo=c(),H=a("ul"),re=a("li"),pt=a("p"),vt=a("strong"),bo=t("No centralised routing definition"),wo=c(),gt=a("p"),yo=t("Once the main SPA is deployed, new routes can be added to the SPA without redeploying the main SPA."),Po=c(),ae=a("li"),_t=a("p"),Et=a("strong"),Co=t("A central registry"),Oo=c(),_=a("p"),Ao=t("Individual micro frontend does not need to bundle in common dependencies like "),Re=a("code"),To=t("react"),Io=t(", "),Be=a("code"),Do=t("react-router"),xo=t(", eg. Furthermore, they "),bt=a("strong"),ko=t("shouldn't be"),So=t(" bundled into the micro frontend as multiple instance of "),Le=a("code"),Ro=t("react"),Bo=t(" or "),Ne=a("code"),Lo=t("react-router"),No=t(" may cause some bugs."),jo=c(),G=a("li"),wt=a("p"),yt=a("strong"),Fo=t("A shared global state"),Ho=c(),le=a("p"),Go=t("In this demo, I am using "),ne=a("a"),Wo=t("redux"),$o=t(" for state management."),Mo=c(),Pt=a("p"),Uo=t("Each micro-frontend is connected to the same global store, so data is easily shared across the application."),Jt=c(),g=a("section"),Ct=a("h2"),se=a("a"),Yo=t("The Bridge"),zo=c(),ie=a("p"),qo=t("The center piece of this micro frontend architecture is "),ce=a("a"),Zo=t("the Bridge"),Jo=t("."),Ko=c(),Ot=a("p"),Qo=t("It contains 2 types of communication method:"),Vo=c(),he=a("ul"),At=a("li"),Xo=t("message passing"),er=c(),Tt=a("li"),tr=t("shared memory"),or=c(),C=a("p"),It=a("strong"),rr=t("Message passing"),ar=t(" is done via a pub sub mechanism called "),de=a("a"),lr=t("the Channel"),nr=t(", whereas "),Dt=a("strong"),sr=t("shared memory"),ir=t(" is done via "),fe=a("a"),cr=t("the Registry"),hr=t("."),dr=c(),xt=a("p"),fr=t("I attach the Bridge to the window, so each micro frontend can connect to the bridge."),Kt=c(),f=a("section"),kt=a("h2"),ue=a("a"),ur=t("The routing mechanism"),mr=c(),w=a("p"),pr=t("In the PoC, I used "),me=a("a"),vr=t("react-router"),gr=t(" as the routing library. The "),pe=a("a"),_r=t("route definition"),Er=t(" is dynamic, as it listens "),je=a("code"),br=t('"registerRoute"'),wr=t(" event through "),St=a("em"),yr=t("the Bridge"),Pr=t(", and add it to the route definition."),Cr=c(),W=a("p"),Or=t("One thing to note is that, I use "),Fe=a("code"),Ar=t("<Switch />"),Tr=t(", which will render the first "),He=a("code"),Ir=t("<Route />"),Dr=t(" that matches the url."),xr=c(),Rt=a("p"),kr=t("The magic happens in the last route, which will be rendered when none of the routes in the route definition matches."),Sr=c(),ve=a("p"),Rr=t("The last route renders the "),ge=a("a"),Br=t("Fallback Discovery"),Lr=t(" component, which will based on the current location and some pre-defined rules, tries to find the micro frontend manifest for the unknown route."),Nr=c(),Bt=a("p"),jr=t("If the micro frontend manifest does not exist, it will render a 404 page. However, if the manifest exists, it will fetch the manifest file."),Fr=c(),_e=a("p"),Hr=t("The micro frontend manifest file is nothing but a json file that contains the "),Ee=a("a"),Gr=t("entry asset"),Wr=t(" for the route micro frontend."),$r=c(),be=a("p"),Mr=t("Once the entry asset is loaded, the new micro frontend itself will register a new route to the route definition via "),Ge=a("code"),Ur=t('"registerRoute"'),Yr=t(" event, which has to be the route that matches the current URL."),zr=c(),$=a("p"),qr=t("Whenever there's a new route added, the "),We=a("code"),Zr=t("react-router"),Jr=t("'s "),$e=a("code"),Kr=t("<Router />"),Qr=t(" component will re-render and it will match the newly added route, which renders our newly added micro-frontend."),Qt=c(),E=a("section"),Lt=a("h2"),we=a("a"),Vr=t("The global registry"),Xr=c(),x=a("p"),ea=t("There's 2 main reasons why I am not bundling "),Me=a("code"),ta=t("react"),oa=t(", "),Ue=a("code"),ra=t("react-redux"),aa=t(", and "),Ye=a("code"),la=t("react-router"),na=t(" into each micro frontends:"),sa=c(),ye=a("ul"),Nt=a("li"),R=a("p"),jt=a("strong"),ia=t("Bundle size"),ca=t(", there's no reason to download duplicate copies of "),ze=a("code"),ha=t("react"),da=t(" or "),qe=a("code"),fa=t("react-redux"),ua=t("."),ma=c(),Ft=a("li"),O=a("p"),Ht=a("strong"),pa=t("No multiple instance"),va=t(", both "),Ze=a("code"),ga=t("react-redux"),_a=t(" and "),Je=a("code"),Ea=t("react-router"),ba=t(" uses React Context to pass information down the React component tree. However, this way of data passing disallow multiple instances of the "),Gt=a("em"),wa=t("Context"),ya=t(" object, as each instances has a different memory reference."),Pa=c(),k=a("p"),Ca=t("So, the main SPA runtime bundles "),Ke=a("code"),Oa=t("react"),Aa=t(", "),Qe=a("code"),Ta=t("react-redux"),Ia=t(", etc and "),M=a("a"),Da=t("set it into the "),Ve=a("code"),xa=t("Bridge.Registry"),ka=t("."),Sa=t("."),Ra=c(),y=a("p"),Ba=t("When each micro-frontend is built, the "),Wt=a("em"),La=t("import statement"),Na=t(" for these modules "),Pe=a("a"),ja=t("will be transformed"),Fa=t(" into the "),Ce=a("a"),Ha=t("some aliases"),Ga=t(", that reads the module from the "),Xe=a("code"),Wa=t("Bridge.Registry"),$a=t("."),Vt=c(),A=a("section"),$t=a("h2"),Oe=a("a"),Ma=t("Shared Global State"),Ua=c(),et=a("p"),Ya=t("In the PoC, the micro frontends are "),B=a("a"),za=t("connected to the shared global store via "),tt=a("code"),qa=t("connect()"),Za=t(" from "),ot=a("code"),Ja=t("react-redux"),Ka=c(),U=a("p"),Qa=t("Interesting to note is that both "),Ae=a("a"),Va=t("the food detail"),Xa=t(" and "),Te=a("a"),el=t("the food list"),tl=t(" register the same key for the reducer, but yet both of the works seamlessly."),ol=c(),Mt=a("p"),rl=t("Note that when we transit from Food List page to Food Detail page, we already have the food detail information from the store, therefore there is no need to fetch the food detail anymore."),Xt=c(),L=a("section"),Ut=a("h2"),Ie=a("a"),al=t("Trying it out locally"),ll=c(),Y=a("p"),nl=t("Run "),rt=a("code"),sl=t("yarn start"),il=t(" in the root folder, which will "),De=a("a"),cl=t("start a simple express server"),hl=t(". The express server is used to serve static files based on specific rules."),dl=c(),z=a("p"),fl=t("To build individual micro frontends, you need to go to each folder and run "),at=a("code"),ul=t("yarn build"),ml=t(". Alternatively, you can start the watch mode via "),lt=a("code"),pl=t("yarn dev"),vl=t("."),eo=c(),K=a("section"),Yt=a("h3"),xe=a("a"),gl=t("Developing the micro frontend individually"),_l=c(),zt=a("p"),El=t("WIP"),this.h()},l(i){d=l(i,"P",{});var u=n(d);S=o(u,"Yes, this is "),b=l(u,"A",{href:!0,rel:!0});var yl=n(b);ee=o(yl,"yet another proof of concept for micro frontend architecture"),yl.forEach(r),m=o(u,"."),u.forEach(r),P=h(i),D=l(i,"P",{});var to=n(D);po=o(to,"Please "),te=l(to,"A",{href:!0,rel:!0});var Pl=n(te);vo=o(Pl,"check out the code"),Pl.forEach(r),go=o(to," and try to play with it locally."),to.forEach(r),Zt=h(i),J=l(i,"SECTION",{});var oo=n(J);mt=l(oo,"H2",{});var Cl=n(mt);oe=l(Cl,"A",{href:!0,id:!0});var Ol=n(oe);_o=o(Ol,"What is this different?"),Ol.forEach(r),Cl.forEach(r),Eo=h(oo),H=l(oo,"UL",{});var nt=n(H);re=l(nt,"LI",{});var ro=n(re);pt=l(ro,"P",{});var Al=n(pt);vt=l(Al,"STRONG",{});var Tl=n(vt);bo=o(Tl,"No centralised routing definition"),Tl.forEach(r),Al.forEach(r),wo=h(ro),gt=l(ro,"P",{});var Il=n(gt);yo=o(Il,"Once the main SPA is deployed, new routes can be added to the SPA without redeploying the main SPA."),Il.forEach(r),ro.forEach(r),Po=h(nt),ae=l(nt,"LI",{});var ao=n(ae);_t=l(ao,"P",{});var Dl=n(_t);Et=l(Dl,"STRONG",{});var xl=n(Et);Co=o(xl,"A central registry"),xl.forEach(r),Dl.forEach(r),Oo=h(ao),_=l(ao,"P",{});var T=n(_);Ao=o(T,"Individual micro frontend does not need to bundle in common dependencies like "),Re=l(T,"CODE",{class:!0});var kl=n(Re);To=o(kl,"react"),kl.forEach(r),Io=o(T,", "),Be=l(T,"CODE",{class:!0});var Sl=n(Be);Do=o(Sl,"react-router"),Sl.forEach(r),xo=o(T,", eg. Furthermore, they "),bt=l(T,"STRONG",{});var Rl=n(bt);ko=o(Rl,"shouldn't be"),Rl.forEach(r),So=o(T," bundled into the micro frontend as multiple instance of "),Le=l(T,"CODE",{class:!0});var Bl=n(Le);Ro=o(Bl,"react"),Bl.forEach(r),Bo=o(T," or "),Ne=l(T,"CODE",{class:!0});var Ll=n(Ne);Lo=o(Ll,"react-router"),Ll.forEach(r),No=o(T," may cause some bugs."),T.forEach(r),ao.forEach(r),jo=h(nt),G=l(nt,"LI",{});var st=n(G);wt=l(st,"P",{});var Nl=n(wt);yt=l(Nl,"STRONG",{});var jl=n(yt);Fo=o(jl,"A shared global state"),jl.forEach(r),Nl.forEach(r),Ho=h(st),le=l(st,"P",{});var lo=n(le);Go=o(lo,"In this demo, I am using "),ne=l(lo,"A",{href:!0,rel:!0});var Fl=n(ne);Wo=o(Fl,"redux"),Fl.forEach(r),$o=o(lo," for state management."),lo.forEach(r),Mo=h(st),Pt=l(st,"P",{});var Hl=n(Pt);Uo=o(Hl,"Each micro-frontend is connected to the same global store, so data is easily shared across the application."),Hl.forEach(r),st.forEach(r),nt.forEach(r),oo.forEach(r),Jt=h(i),g=l(i,"SECTION",{});var I=n(g);Ct=l(I,"H2",{});var Gl=n(Ct);se=l(Gl,"A",{href:!0,id:!0});var Wl=n(se);Yo=o(Wl,"The Bridge"),Wl.forEach(r),Gl.forEach(r),zo=h(I),ie=l(I,"P",{});var no=n(ie);qo=o(no,"The center piece of this micro frontend architecture is "),ce=l(no,"A",{href:!0,rel:!0});var $l=n(ce);Zo=o($l,"the Bridge"),$l.forEach(r),Jo=o(no,"."),no.forEach(r),Ko=h(I),Ot=l(I,"P",{});var Ml=n(Ot);Qo=o(Ml,"It contains 2 types of communication method:"),Ml.forEach(r),Vo=h(I),he=l(I,"UL",{});var so=n(he);At=l(so,"LI",{});var Ul=n(At);Xo=o(Ul,"message passing"),Ul.forEach(r),er=h(so),Tt=l(so,"LI",{});var Yl=n(Tt);tr=o(Yl,"shared memory"),Yl.forEach(r),so.forEach(r),or=h(I),C=l(I,"P",{});var q=n(C);It=l(q,"STRONG",{});var zl=n(It);rr=o(zl,"Message passing"),zl.forEach(r),ar=o(q," is done via a pub sub mechanism called "),de=l(q,"A",{href:!0,rel:!0});var ql=n(de);lr=o(ql,"the Channel"),ql.forEach(r),nr=o(q,", whereas "),Dt=l(q,"STRONG",{});var Zl=n(Dt);sr=o(Zl,"shared memory"),Zl.forEach(r),ir=o(q," is done via "),fe=l(q,"A",{href:!0,rel:!0});var Jl=n(fe);cr=o(Jl,"the Registry"),Jl.forEach(r),hr=o(q,"."),q.forEach(r),dr=h(I),xt=l(I,"P",{});var Kl=n(xt);fr=o(Kl,"I attach the Bridge to the window, so each micro frontend can connect to the bridge."),Kl.forEach(r),I.forEach(r),Kt=h(i),f=l(i,"SECTION",{});var p=n(f);kt=l(p,"H2",{});var Ql=n(kt);ue=l(Ql,"A",{href:!0,id:!0});var Vl=n(ue);ur=o(Vl,"The routing mechanism"),Vl.forEach(r),Ql.forEach(r),mr=h(p),w=l(p,"P",{});var N=n(w);pr=o(N,"In the PoC, I used "),me=l(N,"A",{href:!0,rel:!0});var Xl=n(me);vr=o(Xl,"react-router"),Xl.forEach(r),gr=o(N," as the routing library. The "),pe=l(N,"A",{href:!0,rel:!0});var en=n(pe);_r=o(en,"route definition"),en.forEach(r),Er=o(N," is dynamic, as it listens "),je=l(N,"CODE",{class:!0});var tn=n(je);br=o(tn,'"registerRoute"'),tn.forEach(r),wr=o(N," event through "),St=l(N,"EM",{});var on=n(St);yr=o(on,"the Bridge"),on.forEach(r),Pr=o(N,", and add it to the route definition."),N.forEach(r),Cr=h(p),W=l(p,"P",{});var it=n(W);Or=o(it,"One thing to note is that, I use "),Fe=l(it,"CODE",{class:!0});var rn=n(Fe);Ar=o(rn,"<Switch />"),rn.forEach(r),Tr=o(it,", which will render the first "),He=l(it,"CODE",{class:!0});var an=n(He);Ir=o(an,"<Route />"),an.forEach(r),Dr=o(it," that matches the url."),it.forEach(r),xr=h(p),Rt=l(p,"P",{});var ln=n(Rt);kr=o(ln,"The magic happens in the last route, which will be rendered when none of the routes in the route definition matches."),ln.forEach(r),Sr=h(p),ve=l(p,"P",{});var io=n(ve);Rr=o(io,"The last route renders the "),ge=l(io,"A",{href:!0,rel:!0});var nn=n(ge);Br=o(nn,"Fallback Discovery"),nn.forEach(r),Lr=o(io," component, which will based on the current location and some pre-defined rules, tries to find the micro frontend manifest for the unknown route."),io.forEach(r),Nr=h(p),Bt=l(p,"P",{});var sn=n(Bt);jr=o(sn,"If the micro frontend manifest does not exist, it will render a 404 page. However, if the manifest exists, it will fetch the manifest file."),sn.forEach(r),Fr=h(p),_e=l(p,"P",{});var co=n(_e);Hr=o(co,"The micro frontend manifest file is nothing but a json file that contains the "),Ee=l(co,"A",{href:!0,rel:!0});var cn=n(Ee);Gr=o(cn,"entry asset"),cn.forEach(r),Wr=o(co," for the route micro frontend."),co.forEach(r),$r=h(p),be=l(p,"P",{});var ho=n(be);Mr=o(ho,"Once the entry asset is loaded, the new micro frontend itself will register a new route to the route definition via "),Ge=l(ho,"CODE",{class:!0});var hn=n(Ge);Ur=o(hn,'"registerRoute"'),hn.forEach(r),Yr=o(ho," event, which has to be the route that matches the current URL."),ho.forEach(r),zr=h(p),$=l(p,"P",{});var ct=n($);qr=o(ct,"Whenever there's a new route added, the "),We=l(ct,"CODE",{class:!0});var dn=n(We);Zr=o(dn,"react-router"),dn.forEach(r),Jr=o(ct,"'s "),$e=l(ct,"CODE",{class:!0});var fn=n($e);Kr=o(fn,"<Router />"),fn.forEach(r),Qr=o(ct," component will re-render and it will match the newly added route, which renders our newly added micro-frontend."),ct.forEach(r),p.forEach(r),Qt=h(i),E=l(i,"SECTION",{});var j=n(E);Lt=l(j,"H2",{});var un=n(Lt);we=l(un,"A",{href:!0,id:!0});var mn=n(we);Vr=o(mn,"The global registry"),mn.forEach(r),un.forEach(r),Xr=h(j),x=l(j,"P",{});var Q=n(x);ea=o(Q,"There's 2 main reasons why I am not bundling "),Me=l(Q,"CODE",{class:!0});var pn=n(Me);ta=o(pn,"react"),pn.forEach(r),oa=o(Q,", "),Ue=l(Q,"CODE",{class:!0});var vn=n(Ue);ra=o(vn,"react-redux"),vn.forEach(r),aa=o(Q,", and "),Ye=l(Q,"CODE",{class:!0});var gn=n(Ye);la=o(gn,"react-router"),gn.forEach(r),na=o(Q," into each micro frontends:"),Q.forEach(r),sa=h(j),ye=l(j,"UL",{});var fo=n(ye);Nt=l(fo,"LI",{});var _n=n(Nt);R=l(_n,"P",{});var ke=n(R);jt=l(ke,"STRONG",{});var En=n(jt);ia=o(En,"Bundle size"),En.forEach(r),ca=o(ke,", there's no reason to download duplicate copies of "),ze=l(ke,"CODE",{class:!0});var bn=n(ze);ha=o(bn,"react"),bn.forEach(r),da=o(ke," or "),qe=l(ke,"CODE",{class:!0});var wn=n(qe);fa=o(wn,"react-redux"),wn.forEach(r),ua=o(ke,"."),ke.forEach(r),_n.forEach(r),ma=h(fo),Ft=l(fo,"LI",{});var yn=n(Ft);O=l(yn,"P",{});var Z=n(O);Ht=l(Z,"STRONG",{});var Pn=n(Ht);pa=o(Pn,"No multiple instance"),Pn.forEach(r),va=o(Z,", both "),Ze=l(Z,"CODE",{class:!0});var Cn=n(Ze);ga=o(Cn,"react-redux"),Cn.forEach(r),_a=o(Z," and "),Je=l(Z,"CODE",{class:!0});var On=n(Je);Ea=o(On,"react-router"),On.forEach(r),ba=o(Z," uses React Context to pass information down the React component tree. However, this way of data passing disallow multiple instances of the "),Gt=l(Z,"EM",{});var An=n(Gt);wa=o(An,"Context"),An.forEach(r),ya=o(Z," object, as each instances has a different memory reference."),Z.forEach(r),yn.forEach(r),fo.forEach(r),Pa=h(j),k=l(j,"P",{});var V=n(k);Ca=o(V,"So, the main SPA runtime bundles "),Ke=l(V,"CODE",{class:!0});var Tn=n(Ke);Oa=o(Tn,"react"),Tn.forEach(r),Aa=o(V,", "),Qe=l(V,"CODE",{class:!0});var In=n(Qe);Ta=o(In,"react-redux"),In.forEach(r),Ia=o(V,", etc and "),M=l(V,"A",{href:!0,rel:!0});var uo=n(M);Da=o(uo,"set it into the "),Ve=l(uo,"CODE",{class:!0});var Dn=n(Ve);xa=o(Dn,"Bridge.Registry"),Dn.forEach(r),ka=o(uo,"."),uo.forEach(r),Sa=o(V,"."),V.forEach(r),Ra=h(j),y=l(j,"P",{});var F=n(y);Ba=o(F,"When each micro-frontend is built, the "),Wt=l(F,"EM",{});var xn=n(Wt);La=o(xn,"import statement"),xn.forEach(r),Na=o(F," for these modules "),Pe=l(F,"A",{href:!0,rel:!0});var kn=n(Pe);ja=o(kn,"will be transformed"),kn.forEach(r),Fa=o(F," into the "),Ce=l(F,"A",{href:!0,rel:!0});var Sn=n(Ce);Ha=o(Sn,"some aliases"),Sn.forEach(r),Ga=o(F,", that reads the module from the "),Xe=l(F,"CODE",{class:!0});var Rn=n(Xe);Wa=o(Rn,"Bridge.Registry"),Rn.forEach(r),$a=o(F,"."),F.forEach(r),j.forEach(r),Vt=h(i),A=l(i,"SECTION",{});var X=n(A);$t=l(X,"H2",{});var Bn=n($t);Oe=l(Bn,"A",{href:!0,id:!0});var Ln=n(Oe);Ma=o(Ln,"Shared Global State"),Ln.forEach(r),Bn.forEach(r),Ua=h(X),et=l(X,"P",{});var bl=n(et);Ya=o(bl,"In the PoC, the micro frontends are "),B=l(bl,"A",{href:!0,rel:!0});var qt=n(B);za=o(qt,"connected to the shared global store via "),tt=l(qt,"CODE",{class:!0});var Nn=n(tt);qa=o(Nn,"connect()"),Nn.forEach(r),Za=o(qt," from "),ot=l(qt,"CODE",{class:!0});var jn=n(ot);Ja=o(jn,"react-redux"),jn.forEach(r),qt.forEach(r),bl.forEach(r),Ka=h(X),U=l(X,"P",{});var ht=n(U);Qa=o(ht,"Interesting to note is that both "),Ae=l(ht,"A",{href:!0,rel:!0});var Fn=n(Ae);Va=o(Fn,"the food detail"),Fn.forEach(r),Xa=o(ht," and "),Te=l(ht,"A",{href:!0,rel:!0});var Hn=n(Te);el=o(Hn,"the food list"),Hn.forEach(r),tl=o(ht," register the same key for the reducer, but yet both of the works seamlessly."),ht.forEach(r),ol=h(X),Mt=l(X,"P",{});var Gn=n(Mt);rl=o(Gn,"Note that when we transit from Food List page to Food Detail page, we already have the food detail information from the store, therefore there is no need to fetch the food detail anymore."),Gn.forEach(r),X.forEach(r),Xt=h(i),L=l(i,"SECTION",{});var dt=n(L);Ut=l(dt,"H2",{});var Wn=n(Ut);Ie=l(Wn,"A",{href:!0,id:!0});var $n=n(Ie);al=o($n,"Trying it out locally"),$n.forEach(r),Wn.forEach(r),ll=h(dt),Y=l(dt,"P",{});var ft=n(Y);nl=o(ft,"Run "),rt=l(ft,"CODE",{class:!0});var Mn=n(rt);sl=o(Mn,"yarn start"),Mn.forEach(r),il=o(ft," in the root folder, which will "),De=l(ft,"A",{href:!0,rel:!0});var Un=n(De);cl=o(Un,"start a simple express server"),Un.forEach(r),hl=o(ft,". The express server is used to serve static files based on specific rules."),ft.forEach(r),dl=h(dt),z=l(dt,"P",{});var ut=n(z);fl=o(ut,"To build individual micro frontends, you need to go to each folder and run "),at=l(ut,"CODE",{class:!0});var Yn=n(at);ul=o(Yn,"yarn build"),Yn.forEach(r),ml=o(ut,". Alternatively, you can start the watch mode via "),lt=l(ut,"CODE",{class:!0});var zn=n(lt);pl=o(zn,"yarn dev"),zn.forEach(r),vl=o(ut,"."),ut.forEach(r),dt.forEach(r),eo=h(i),K=l(i,"SECTION",{});var mo=n(K);Yt=l(mo,"H3",{});var qn=n(Yt);xe=l(qn,"A",{href:!0,id:!0});var Zn=n(xe);gl=o(Zn,"Developing the micro frontend individually"),Zn.forEach(r),qn.forEach(r),_l=h(mo),zt=l(mo,"P",{});var Jn=n(zt);El=o(Jn,"WIP"),Jn.forEach(r),mo.forEach(r),this.h()},h(){s(b,"href","https://github.com/tanhauhau/micro-frontend"),s(b,"rel","nofollow"),s(te,"href","https://github.com/tanhauhau/micro-frontend"),s(te,"rel","nofollow"),s(oe,"href","#what-is-this-different"),s(oe,"id","what-is-this-different"),s(Re,"class","inline"),s(Be,"class","inline"),s(Le,"class","inline"),s(Ne,"class","inline"),s(ne,"href","https://redux.js.org"),s(ne,"rel","nofollow"),s(se,"href","#the-bridge"),s(se,"id","the-bridge"),s(ce,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/index.js"),s(ce,"rel","nofollow"),s(de,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/Channel.js"),s(de,"rel","nofollow"),s(fe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/Registry.js"),s(fe,"rel","nofollow"),s(ue,"href","#the-routing-mechanism"),s(ue,"id","the-routing-mechanism"),s(me,"href","https://reacttraining.com/react-router/web"),s(me,"rel","nofollow"),s(pe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/Routes.js#L17"),s(pe,"rel","nofollow"),s(je,"class","inline"),s(Fe,"class","inline"),s(He,"class","inline"),s(ge,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/FallbackDiscovery.js"),s(ge,"rel","nofollow"),s(Ee,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/FallbackDiscovery.js#L31"),s(Ee,"rel","nofollow"),s(Ge,"class","inline"),s(We,"class","inline"),s($e,"class","inline"),s(we,"href","#the-global-registry"),s(we,"id","the-global-registry"),s(Me,"class","inline"),s(Ue,"class","inline"),s(Ye,"class","inline"),s(ze,"class","inline"),s(qe,"class","inline"),s(Ze,"class","inline"),s(Je,"class","inline"),s(Ke,"class","inline"),s(Qe,"class","inline"),s(Ve,"class","inline"),s(M,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/initRegistry.js#L9"),s(M,"rel","nofollow"),s(Pe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/webpack.config.js#L23"),s(Pe,"rel","nofollow"),s(Ce,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/build/BridgeAliasPlugin/aliases/react.js"),s(Ce,"rel","nofollow"),s(Xe,"class","inline"),s(Oe,"href","#shared-global-state"),s(Oe,"id","shared-global-state"),s(tt,"class","inline"),s(ot,"class","inline"),s(B,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/src/FoodDetail.js#L36"),s(B,"rel","nofollow"),s(Ae,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/src/FoodDetail.js#L13"),s(Ae,"rel","nofollow"),s(Te,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/foods/src/FoodList.js"),s(Te,"rel","nofollow"),s(Ie,"href","#trying-it-out-locally"),s(Ie,"id","trying-it-out-locally"),s(rt,"class","inline"),s(De,"href","https://github.com/tanhauhau/micro-frontend/blob/master/scripts/start-dev-server.js"),s(De,"rel","nofollow"),s(at,"class","inline"),s(lt,"class","inline"),s(xe,"href","#developing-the-micro-frontend-individually"),s(xe,"id","developing-the-micro-frontend-individually")},m(i,u){v(i,d,u),e(d,S),e(d,b),e(b,ee),e(d,m),v(i,P,u),v(i,D,u),e(D,po),e(D,te),e(te,vo),e(D,go),v(i,Zt,u),v(i,J,u),e(J,mt),e(mt,oe),e(oe,_o),e(J,Eo),e(J,H),e(H,re),e(re,pt),e(pt,vt),e(vt,bo),e(re,wo),e(re,gt),e(gt,yo),e(H,Po),e(H,ae),e(ae,_t),e(_t,Et),e(Et,Co),e(ae,Oo),e(ae,_),e(_,Ao),e(_,Re),e(Re,To),e(_,Io),e(_,Be),e(Be,Do),e(_,xo),e(_,bt),e(bt,ko),e(_,So),e(_,Le),e(Le,Ro),e(_,Bo),e(_,Ne),e(Ne,Lo),e(_,No),e(H,jo),e(H,G),e(G,wt),e(wt,yt),e(yt,Fo),e(G,Ho),e(G,le),e(le,Go),e(le,ne),e(ne,Wo),e(le,$o),e(G,Mo),e(G,Pt),e(Pt,Uo),v(i,Jt,u),v(i,g,u),e(g,Ct),e(Ct,se),e(se,Yo),e(g,zo),e(g,ie),e(ie,qo),e(ie,ce),e(ce,Zo),e(ie,Jo),e(g,Ko),e(g,Ot),e(Ot,Qo),e(g,Vo),e(g,he),e(he,At),e(At,Xo),e(he,er),e(he,Tt),e(Tt,tr),e(g,or),e(g,C),e(C,It),e(It,rr),e(C,ar),e(C,de),e(de,lr),e(C,nr),e(C,Dt),e(Dt,sr),e(C,ir),e(C,fe),e(fe,cr),e(C,hr),e(g,dr),e(g,xt),e(xt,fr),v(i,Kt,u),v(i,f,u),e(f,kt),e(kt,ue),e(ue,ur),e(f,mr),e(f,w),e(w,pr),e(w,me),e(me,vr),e(w,gr),e(w,pe),e(pe,_r),e(w,Er),e(w,je),e(je,br),e(w,wr),e(w,St),e(St,yr),e(w,Pr),e(f,Cr),e(f,W),e(W,Or),e(W,Fe),e(Fe,Ar),e(W,Tr),e(W,He),e(He,Ir),e(W,Dr),e(f,xr),e(f,Rt),e(Rt,kr),e(f,Sr),e(f,ve),e(ve,Rr),e(ve,ge),e(ge,Br),e(ve,Lr),e(f,Nr),e(f,Bt),e(Bt,jr),e(f,Fr),e(f,_e),e(_e,Hr),e(_e,Ee),e(Ee,Gr),e(_e,Wr),e(f,$r),e(f,be),e(be,Mr),e(be,Ge),e(Ge,Ur),e(be,Yr),e(f,zr),e(f,$),e($,qr),e($,We),e(We,Zr),e($,Jr),e($,$e),e($e,Kr),e($,Qr),v(i,Qt,u),v(i,E,u),e(E,Lt),e(Lt,we),e(we,Vr),e(E,Xr),e(E,x),e(x,ea),e(x,Me),e(Me,ta),e(x,oa),e(x,Ue),e(Ue,ra),e(x,aa),e(x,Ye),e(Ye,la),e(x,na),e(E,sa),e(E,ye),e(ye,Nt),e(Nt,R),e(R,jt),e(jt,ia),e(R,ca),e(R,ze),e(ze,ha),e(R,da),e(R,qe),e(qe,fa),e(R,ua),e(ye,ma),e(ye,Ft),e(Ft,O),e(O,Ht),e(Ht,pa),e(O,va),e(O,Ze),e(Ze,ga),e(O,_a),e(O,Je),e(Je,Ea),e(O,ba),e(O,Gt),e(Gt,wa),e(O,ya),e(E,Pa),e(E,k),e(k,Ca),e(k,Ke),e(Ke,Oa),e(k,Aa),e(k,Qe),e(Qe,Ta),e(k,Ia),e(k,M),e(M,Da),e(M,Ve),e(Ve,xa),e(M,ka),e(k,Sa),e(E,Ra),e(E,y),e(y,Ba),e(y,Wt),e(Wt,La),e(y,Na),e(y,Pe),e(Pe,ja),e(y,Fa),e(y,Ce),e(Ce,Ha),e(y,Ga),e(y,Xe),e(Xe,Wa),e(y,$a),v(i,Vt,u),v(i,A,u),e(A,$t),e($t,Oe),e(Oe,Ma),e(A,Ua),e(A,et),e(et,Ya),e(et,B),e(B,za),e(B,tt),e(tt,qa),e(B,Za),e(B,ot),e(ot,Ja),e(A,Ka),e(A,U),e(U,Qa),e(U,Ae),e(Ae,Va),e(U,Xa),e(U,Te),e(Te,el),e(U,tl),e(A,ol),e(A,Mt),e(Mt,rl),v(i,Xt,u),v(i,L,u),e(L,Ut),e(Ut,Ie),e(Ie,al),e(L,ll),e(L,Y),e(Y,nl),e(Y,rt),e(rt,sl),e(Y,il),e(Y,De),e(De,cl),e(Y,hl),e(L,dl),e(L,z),e(z,fl),e(z,at),e(at,ul),e(z,ml),e(z,lt),e(lt,pl),e(z,vl),v(i,eo,u),v(i,K,u),e(K,Yt),e(Yt,xe),e(xe,gl),e(K,_l),e(K,zt),e(zt,El)},d(i){i&&r(d),i&&r(P),i&&r(D),i&&r(Zt),i&&r(J),i&&r(Jt),i&&r(g),i&&r(Kt),i&&r(f),i&&r(Qt),i&&r(E),i&&r(Vt),i&&r(A),i&&r(Xt),i&&r(L),i&&r(eo),i&&r(K)}}}function us(Se){let d,S;const b=[Se[0],Vn];let ee={$$slots:{default:[fs]},$$scope:{ctx:Se}};for(let m=0;m<b.length;m+=1)ee=wl(ee,b[m]);return d=new hs({props:ee}),{c(){os(d.$$.fragment)},l(m){rs(d.$$.fragment,m)},m(m,P){as(d,m,P),S=!0},p(m,[P]){const D=P&1?ls(b,[P&1&&Kn(m[0]),P&0&&Kn(Vn)]):{};P&2&&(D.$$scope={dirty:P,ctx:m}),d.$set(D)},i(m){S||(ns(d.$$.fragment,m),S=!0)},o(m){ss(d.$$.fragment,m),S=!1},d(m){is(d,m)}}}const Vn={title:"Yet Another Micro Frontend Proof of Concept",date:"2019-07-15T08:00:00Z",description:"A decentralised router definition",wip:!0,label:"blog",tableOfContents:[{link:"what-is-this-different",title:"What is this different?"},{link:"the-bridge",title:"The Bridge"},{link:"the-routing-mechanism",title:"The routing mechanism"},{link:"the-global-registry",title:"The global registry"},{link:"shared-global-state",title:"Shared Global State"},{link:"trying-it-out-locally",title:"Trying it out locally",nested:[{link:"developing-the-micro-frontend-individually",title:"Developing the micro frontend individually"}]}]};function ms(Se,d,S){return cs("blog",{image:ds}),Se.$$set=b=>{S(0,d=wl(wl({},d),Qn(b)))},d=Qn(d),[d]}class ws extends Xn{constructor(d){super();es(this,d,ms,us,ts,{})}}export{ws as default,Vn as metadata};
