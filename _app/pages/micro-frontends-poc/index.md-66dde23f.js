import{S as is,i as cs,s as hs,C as Cl,w as os,x as rs,y as as,z as ds,A as Xn,q as ls,o as ns,B as ss,r as fs,R as es,k as c,e as a,t,m as h,c as l,a as n,h as o,d as r,b as s,g as v,F as e,O as us}from"../../chunks/vendor-ea160616.js";import{B as ms}from"../../chunks/BlogLayout-1be3dc1e.js";import{T as ps}from"../../chunks/TableOfContent-c4f5cb6e.js";import{_ as vs}from"../../chunks/twitter-card-image-a57df29d.js";import"../../chunks/stores-7d7fda0c.js";import"../../chunks/WebMentions-d768a574.js";/* empty css                                */function gs(Se){let d,I,E,ee,f,D,Re,Jt,Z,_o,te,Eo,bo,Kt,J,pt,oe,wo,yo,$,re,vt,gt,Po,Co,_t,Oo,To,ae,Et,bt,Ao,Io,_,Do,Be,ko,xo,Le,So,Ro,wt,Bo,Lo,Ne,No,jo,je,$o,Fo,Go,F,yt,Pt,Ho,Wo,le,Mo,ne,Uo,zo,Yo,Ct,qo,Qt,g,Ot,se,Zo,Jo,ie,Ko,ce,Qo,Vo,Xo,Tt,er,tr,he,At,or,rr,It,ar,lr,P,Dt,nr,sr,de,ir,cr,kt,hr,dr,fe,fr,ur,mr,xt,pr,Vt,m,St,ue,vr,gr,w,_r,me,Er,br,pe,wr,yr,$e,Pr,Cr,Rt,Or,Tr,Ar,G,Ir,Fe,Dr,kr,Ge,xr,Sr,Rr,Bt,Br,Lr,ve,Nr,ge,jr,$r,Fr,Lt,Gr,Hr,_e,Wr,Ee,Mr,Ur,zr,be,Yr,He,qr,Zr,Jr,H,Kr,We,Qr,Vr,Me,Xr,ea,Xt,b,Nt,we,ta,oa,k,ra,Ue,aa,la,ze,na,sa,Ye,ia,ca,ha,ye,jt,S,$t,da,fa,qe,ua,ma,Ze,pa,va,ga,Ft,C,Gt,_a,Ea,Je,ba,wa,Ke,ya,Pa,Ht,Ca,Oa,Ta,x,Aa,Qe,Ia,Da,Ve,ka,xa,W,Sa,Xe,Ra,Ba,La,Na,y,ja,Wt,$a,Fa,Pe,Ga,Ha,Ce,Wa,Ma,et,Ua,za,eo,O,Mt,Oe,Ya,qa,tt,Za,R,Ja,ot,Ka,Qa,rt,Va,Xa,M,el,Te,tl,ol,Ae,rl,al,ll,Ut,nl,to,B,zt,Ie,sl,il,U,cl,at,hl,dl,De,fl,ul,ml,z,pl,lt,vl,gl,nt,_l,El,oo,K,Yt,ke,bl,wl,qt,yl,ro;return d=new ps({props:{data:[{link:"what-is-this-different",title:"What is this different?"},{link:"the-bridge",title:"The Bridge"},{link:"the-routing-mechanism",title:"The routing mechanism"},{link:"the-global-registry",title:"The global registry"},{link:"shared-global-state",title:"Shared Global State"},{link:"trying-it-out-locally",title:"Trying it out locally",nested:[{link:"developing-the-micro-frontend-individually",title:"Developing the micro frontend individually"}]}]}}),{c(){os(d.$$.fragment),I=c(),E=a("p"),ee=t("Yes, this is "),f=a("a"),D=t("yet another proof of concept for micro frontend architecture"),Re=t("."),Jt=c(),Z=a("p"),_o=t("Please "),te=a("a"),Eo=t("check out the code"),bo=t(" and try to play with it locally."),Kt=c(),J=a("section"),pt=a("h2"),oe=a("a"),wo=t("What is this different?"),yo=c(),$=a("ul"),re=a("li"),vt=a("p"),gt=a("strong"),Po=t("No centralised routing definition"),Co=c(),_t=a("p"),Oo=t("Once the main SPA is deployed, new routes can be added to the SPA without redeploying the main SPA."),To=c(),ae=a("li"),Et=a("p"),bt=a("strong"),Ao=t("A central registry"),Io=c(),_=a("p"),Do=t("Individual micro frontend does not need to bundle in common dependencies like "),Be=a("code"),ko=t("react"),xo=t(", "),Le=a("code"),So=t("react-router"),Ro=t(", eg. Furthermore, they "),wt=a("strong"),Bo=t("shouldn't be"),Lo=t(" bundled into the micro frontend as multiple instance of "),Ne=a("code"),No=t("react"),jo=t(" or "),je=a("code"),$o=t("react-router"),Fo=t(" may cause some bugs."),Go=c(),F=a("li"),yt=a("p"),Pt=a("strong"),Ho=t("A shared global state"),Wo=c(),le=a("p"),Mo=t("In this demo, I am using "),ne=a("a"),Uo=t("redux"),zo=t(" for state management."),Yo=c(),Ct=a("p"),qo=t("Each micro-frontend is connected to the same global store, so data is easily shared across the application."),Qt=c(),g=a("section"),Ot=a("h2"),se=a("a"),Zo=t("The Bridge"),Jo=c(),ie=a("p"),Ko=t("The center piece of this micro frontend architecture is "),ce=a("a"),Qo=t("the Bridge"),Vo=t("."),Xo=c(),Tt=a("p"),er=t("It contains 2 types of communication method:"),tr=c(),he=a("ul"),At=a("li"),or=t("message passing"),rr=c(),It=a("li"),ar=t("shared memory"),lr=c(),P=a("p"),Dt=a("strong"),nr=t("Message passing"),sr=t(" is done via a pub sub mechanism called "),de=a("a"),ir=t("the Channel"),cr=t(", whereas "),kt=a("strong"),hr=t("shared memory"),dr=t(" is done via "),fe=a("a"),fr=t("the Registry"),ur=t("."),mr=c(),xt=a("p"),pr=t("I attach the Bridge to the window, so each micro frontend can connect to the bridge."),Vt=c(),m=a("section"),St=a("h2"),ue=a("a"),vr=t("The routing mechanism"),gr=c(),w=a("p"),_r=t("In the PoC, I used "),me=a("a"),Er=t("react-router"),br=t(" as the routing library. The "),pe=a("a"),wr=t("route definition"),yr=t(" is dynamic, as it listens "),$e=a("code"),Pr=t('"registerRoute"'),Cr=t(" event through "),Rt=a("em"),Or=t("the Bridge"),Tr=t(", and add it to the route definition."),Ar=c(),G=a("p"),Ir=t("One thing to note is that, I use "),Fe=a("code"),Dr=t("<Switch />"),kr=t(", which will render the first "),Ge=a("code"),xr=t("<Route />"),Sr=t(" that matches the url."),Rr=c(),Bt=a("p"),Br=t("The magic happens in the last route, which will be rendered when none of the routes in the route definition matches."),Lr=c(),ve=a("p"),Nr=t("The last route renders the "),ge=a("a"),jr=t("Fallback Discovery"),$r=t(" component, which will based on the current location and some pre-defined rules, tries to find the micro frontend manifest for the unknown route."),Fr=c(),Lt=a("p"),Gr=t("If the micro frontend manifest does not exist, it will render a 404 page. However, if the manifest exists, it will fetch the manifest file."),Hr=c(),_e=a("p"),Wr=t("The micro frontend manifest file is nothing but a json file that contains the "),Ee=a("a"),Mr=t("entry asset"),Ur=t(" for the route micro frontend."),zr=c(),be=a("p"),Yr=t("Once the entry asset is loaded, the new micro frontend itself will register a new route to the route definition via "),He=a("code"),qr=t('"registerRoute"'),Zr=t(" event, which has to be the route that matches the current URL."),Jr=c(),H=a("p"),Kr=t("Whenever there's a new route added, the "),We=a("code"),Qr=t("react-router"),Vr=t("'s "),Me=a("code"),Xr=t("<Router />"),ea=t(" component will re-render and it will match the newly added route, which renders our newly added micro-frontend."),Xt=c(),b=a("section"),Nt=a("h2"),we=a("a"),ta=t("The global registry"),oa=c(),k=a("p"),ra=t("There's 2 main reasons why I am not bundling "),Ue=a("code"),aa=t("react"),la=t(", "),ze=a("code"),na=t("react-redux"),sa=t(", and "),Ye=a("code"),ia=t("react-router"),ca=t(" into each micro frontends:"),ha=c(),ye=a("ul"),jt=a("li"),S=a("p"),$t=a("strong"),da=t("Bundle size"),fa=t(", there's no reason to download duplicate copies of "),qe=a("code"),ua=t("react"),ma=t(" or "),Ze=a("code"),pa=t("react-redux"),va=t("."),ga=c(),Ft=a("li"),C=a("p"),Gt=a("strong"),_a=t("No multiple instance"),Ea=t(", both "),Je=a("code"),ba=t("react-redux"),wa=t(" and "),Ke=a("code"),ya=t("react-router"),Pa=t(" uses React Context to pass information down the React component tree. However, this way of data passing disallow multiple instances of the "),Ht=a("em"),Ca=t("Context"),Oa=t(" object, as each instances has a different memory reference."),Ta=c(),x=a("p"),Aa=t("So, the main SPA runtime bundles "),Qe=a("code"),Ia=t("react"),Da=t(", "),Ve=a("code"),ka=t("react-redux"),xa=t(", etc and "),W=a("a"),Sa=t("set it into the "),Xe=a("code"),Ra=t("Bridge.Registry"),Ba=t("."),La=t("."),Na=c(),y=a("p"),ja=t("When each micro-frontend is built, the "),Wt=a("em"),$a=t("import statement"),Fa=t(" for these modules "),Pe=a("a"),Ga=t("will be transformed"),Ha=t(" into the "),Ce=a("a"),Wa=t("some aliases"),Ma=t(", that reads the module from the "),et=a("code"),Ua=t("Bridge.Registry"),za=t("."),eo=c(),O=a("section"),Mt=a("h2"),Oe=a("a"),Ya=t("Shared Global State"),qa=c(),tt=a("p"),Za=t("In the PoC, the micro frontends are "),R=a("a"),Ja=t("connected to the shared global store via "),ot=a("code"),Ka=t("connect()"),Qa=t(" from "),rt=a("code"),Va=t("react-redux"),Xa=c(),M=a("p"),el=t("Interesting to note is that both "),Te=a("a"),tl=t("the food detail"),ol=t(" and "),Ae=a("a"),rl=t("the food list"),al=t(" register the same key for the reducer, but yet both of the works seamlessly."),ll=c(),Ut=a("p"),nl=t("Note that when we transit from Food List page to Food Detail page, we already have the food detail information from the store, therefore there is no need to fetch the food detail anymore."),to=c(),B=a("section"),zt=a("h2"),Ie=a("a"),sl=t("Trying it out locally"),il=c(),U=a("p"),cl=t("Run "),at=a("code"),hl=t("yarn start"),dl=t(" in the root folder, which will "),De=a("a"),fl=t("start a simple express server"),ul=t(". The express server is used to serve static files based on specific rules."),ml=c(),z=a("p"),pl=t("To build individual micro frontends, you need to go to each folder and run "),lt=a("code"),vl=t("yarn build"),gl=t(". Alternatively, you can start the watch mode via "),nt=a("code"),_l=t("yarn dev"),El=t("."),oo=c(),K=a("section"),Yt=a("h3"),ke=a("a"),bl=t("Developing the micro frontend individually"),wl=c(),qt=a("p"),yl=t("WIP"),this.h()},l(i){rs(d.$$.fragment,i),I=h(i),E=l(i,"P",{});var u=n(E);ee=o(u,"Yes, this is "),f=l(u,"A",{href:!0,rel:!0});var Ol=n(f);D=o(Ol,"yet another proof of concept for micro frontend architecture"),Ol.forEach(r),Re=o(u,"."),u.forEach(r),Jt=h(i),Z=l(i,"P",{});var ao=n(Z);_o=o(ao,"Please "),te=l(ao,"A",{href:!0,rel:!0});var Tl=n(te);Eo=o(Tl,"check out the code"),Tl.forEach(r),bo=o(ao," and try to play with it locally."),ao.forEach(r),Kt=h(i),J=l(i,"SECTION",{});var lo=n(J);pt=l(lo,"H2",{});var Al=n(pt);oe=l(Al,"A",{href:!0,id:!0});var Il=n(oe);wo=o(Il,"What is this different?"),Il.forEach(r),Al.forEach(r),yo=h(lo),$=l(lo,"UL",{});var st=n($);re=l(st,"LI",{});var no=n(re);vt=l(no,"P",{});var Dl=n(vt);gt=l(Dl,"STRONG",{});var kl=n(gt);Po=o(kl,"No centralised routing definition"),kl.forEach(r),Dl.forEach(r),Co=h(no),_t=l(no,"P",{});var xl=n(_t);Oo=o(xl,"Once the main SPA is deployed, new routes can be added to the SPA without redeploying the main SPA."),xl.forEach(r),no.forEach(r),To=h(st),ae=l(st,"LI",{});var so=n(ae);Et=l(so,"P",{});var Sl=n(Et);bt=l(Sl,"STRONG",{});var Rl=n(bt);Ao=o(Rl,"A central registry"),Rl.forEach(r),Sl.forEach(r),Io=h(so),_=l(so,"P",{});var T=n(_);Do=o(T,"Individual micro frontend does not need to bundle in common dependencies like "),Be=l(T,"CODE",{class:!0});var Bl=n(Be);ko=o(Bl,"react"),Bl.forEach(r),xo=o(T,", "),Le=l(T,"CODE",{class:!0});var Ll=n(Le);So=o(Ll,"react-router"),Ll.forEach(r),Ro=o(T,", eg. Furthermore, they "),wt=l(T,"STRONG",{});var Nl=n(wt);Bo=o(Nl,"shouldn't be"),Nl.forEach(r),Lo=o(T," bundled into the micro frontend as multiple instance of "),Ne=l(T,"CODE",{class:!0});var jl=n(Ne);No=o(jl,"react"),jl.forEach(r),jo=o(T," or "),je=l(T,"CODE",{class:!0});var $l=n(je);$o=o($l,"react-router"),$l.forEach(r),Fo=o(T," may cause some bugs."),T.forEach(r),so.forEach(r),Go=h(st),F=l(st,"LI",{});var it=n(F);yt=l(it,"P",{});var Fl=n(yt);Pt=l(Fl,"STRONG",{});var Gl=n(Pt);Ho=o(Gl,"A shared global state"),Gl.forEach(r),Fl.forEach(r),Wo=h(it),le=l(it,"P",{});var io=n(le);Mo=o(io,"In this demo, I am using "),ne=l(io,"A",{href:!0,rel:!0});var Hl=n(ne);Uo=o(Hl,"redux"),Hl.forEach(r),zo=o(io," for state management."),io.forEach(r),Yo=h(it),Ct=l(it,"P",{});var Wl=n(Ct);qo=o(Wl,"Each micro-frontend is connected to the same global store, so data is easily shared across the application."),Wl.forEach(r),it.forEach(r),st.forEach(r),lo.forEach(r),Qt=h(i),g=l(i,"SECTION",{});var A=n(g);Ot=l(A,"H2",{});var Ml=n(Ot);se=l(Ml,"A",{href:!0,id:!0});var Ul=n(se);Zo=o(Ul,"The Bridge"),Ul.forEach(r),Ml.forEach(r),Jo=h(A),ie=l(A,"P",{});var co=n(ie);Ko=o(co,"The center piece of this micro frontend architecture is "),ce=l(co,"A",{href:!0,rel:!0});var zl=n(ce);Qo=o(zl,"the Bridge"),zl.forEach(r),Vo=o(co,"."),co.forEach(r),Xo=h(A),Tt=l(A,"P",{});var Yl=n(Tt);er=o(Yl,"It contains 2 types of communication method:"),Yl.forEach(r),tr=h(A),he=l(A,"UL",{});var ho=n(he);At=l(ho,"LI",{});var ql=n(At);or=o(ql,"message passing"),ql.forEach(r),rr=h(ho),It=l(ho,"LI",{});var Zl=n(It);ar=o(Zl,"shared memory"),Zl.forEach(r),ho.forEach(r),lr=h(A),P=l(A,"P",{});var Y=n(P);Dt=l(Y,"STRONG",{});var Jl=n(Dt);nr=o(Jl,"Message passing"),Jl.forEach(r),sr=o(Y," is done via a pub sub mechanism called "),de=l(Y,"A",{href:!0,rel:!0});var Kl=n(de);ir=o(Kl,"the Channel"),Kl.forEach(r),cr=o(Y,", whereas "),kt=l(Y,"STRONG",{});var Ql=n(kt);hr=o(Ql,"shared memory"),Ql.forEach(r),dr=o(Y," is done via "),fe=l(Y,"A",{href:!0,rel:!0});var Vl=n(fe);fr=o(Vl,"the Registry"),Vl.forEach(r),ur=o(Y,"."),Y.forEach(r),mr=h(A),xt=l(A,"P",{});var Xl=n(xt);pr=o(Xl,"I attach the Bridge to the window, so each micro frontend can connect to the bridge."),Xl.forEach(r),A.forEach(r),Vt=h(i),m=l(i,"SECTION",{});var p=n(m);St=l(p,"H2",{});var en=n(St);ue=l(en,"A",{href:!0,id:!0});var tn=n(ue);vr=o(tn,"The routing mechanism"),tn.forEach(r),en.forEach(r),gr=h(p),w=l(p,"P",{});var L=n(w);_r=o(L,"In the PoC, I used "),me=l(L,"A",{href:!0,rel:!0});var on=n(me);Er=o(on,"react-router"),on.forEach(r),br=o(L," as the routing library. The "),pe=l(L,"A",{href:!0,rel:!0});var rn=n(pe);wr=o(rn,"route definition"),rn.forEach(r),yr=o(L," is dynamic, as it listens "),$e=l(L,"CODE",{class:!0});var an=n($e);Pr=o(an,'"registerRoute"'),an.forEach(r),Cr=o(L," event through "),Rt=l(L,"EM",{});var ln=n(Rt);Or=o(ln,"the Bridge"),ln.forEach(r),Tr=o(L,", and add it to the route definition."),L.forEach(r),Ar=h(p),G=l(p,"P",{});var ct=n(G);Ir=o(ct,"One thing to note is that, I use "),Fe=l(ct,"CODE",{class:!0});var nn=n(Fe);Dr=o(nn,"<Switch />"),nn.forEach(r),kr=o(ct,", which will render the first "),Ge=l(ct,"CODE",{class:!0});var sn=n(Ge);xr=o(sn,"<Route />"),sn.forEach(r),Sr=o(ct," that matches the url."),ct.forEach(r),Rr=h(p),Bt=l(p,"P",{});var cn=n(Bt);Br=o(cn,"The magic happens in the last route, which will be rendered when none of the routes in the route definition matches."),cn.forEach(r),Lr=h(p),ve=l(p,"P",{});var fo=n(ve);Nr=o(fo,"The last route renders the "),ge=l(fo,"A",{href:!0,rel:!0});var hn=n(ge);jr=o(hn,"Fallback Discovery"),hn.forEach(r),$r=o(fo," component, which will based on the current location and some pre-defined rules, tries to find the micro frontend manifest for the unknown route."),fo.forEach(r),Fr=h(p),Lt=l(p,"P",{});var dn=n(Lt);Gr=o(dn,"If the micro frontend manifest does not exist, it will render a 404 page. However, if the manifest exists, it will fetch the manifest file."),dn.forEach(r),Hr=h(p),_e=l(p,"P",{});var uo=n(_e);Wr=o(uo,"The micro frontend manifest file is nothing but a json file that contains the "),Ee=l(uo,"A",{href:!0,rel:!0});var fn=n(Ee);Mr=o(fn,"entry asset"),fn.forEach(r),Ur=o(uo," for the route micro frontend."),uo.forEach(r),zr=h(p),be=l(p,"P",{});var mo=n(be);Yr=o(mo,"Once the entry asset is loaded, the new micro frontend itself will register a new route to the route definition via "),He=l(mo,"CODE",{class:!0});var un=n(He);qr=o(un,'"registerRoute"'),un.forEach(r),Zr=o(mo," event, which has to be the route that matches the current URL."),mo.forEach(r),Jr=h(p),H=l(p,"P",{});var ht=n(H);Kr=o(ht,"Whenever there's a new route added, the "),We=l(ht,"CODE",{class:!0});var mn=n(We);Qr=o(mn,"react-router"),mn.forEach(r),Vr=o(ht,"'s "),Me=l(ht,"CODE",{class:!0});var pn=n(Me);Xr=o(pn,"<Router />"),pn.forEach(r),ea=o(ht," component will re-render and it will match the newly added route, which renders our newly added micro-frontend."),ht.forEach(r),p.forEach(r),Xt=h(i),b=l(i,"SECTION",{});var N=n(b);Nt=l(N,"H2",{});var vn=n(Nt);we=l(vn,"A",{href:!0,id:!0});var gn=n(we);ta=o(gn,"The global registry"),gn.forEach(r),vn.forEach(r),oa=h(N),k=l(N,"P",{});var Q=n(k);ra=o(Q,"There's 2 main reasons why I am not bundling "),Ue=l(Q,"CODE",{class:!0});var _n=n(Ue);aa=o(_n,"react"),_n.forEach(r),la=o(Q,", "),ze=l(Q,"CODE",{class:!0});var En=n(ze);na=o(En,"react-redux"),En.forEach(r),sa=o(Q,", and "),Ye=l(Q,"CODE",{class:!0});var bn=n(Ye);ia=o(bn,"react-router"),bn.forEach(r),ca=o(Q," into each micro frontends:"),Q.forEach(r),ha=h(N),ye=l(N,"UL",{});var po=n(ye);jt=l(po,"LI",{});var wn=n(jt);S=l(wn,"P",{});var xe=n(S);$t=l(xe,"STRONG",{});var yn=n($t);da=o(yn,"Bundle size"),yn.forEach(r),fa=o(xe,", there's no reason to download duplicate copies of "),qe=l(xe,"CODE",{class:!0});var Pn=n(qe);ua=o(Pn,"react"),Pn.forEach(r),ma=o(xe," or "),Ze=l(xe,"CODE",{class:!0});var Cn=n(Ze);pa=o(Cn,"react-redux"),Cn.forEach(r),va=o(xe,"."),xe.forEach(r),wn.forEach(r),ga=h(po),Ft=l(po,"LI",{});var On=n(Ft);C=l(On,"P",{});var q=n(C);Gt=l(q,"STRONG",{});var Tn=n(Gt);_a=o(Tn,"No multiple instance"),Tn.forEach(r),Ea=o(q,", both "),Je=l(q,"CODE",{class:!0});var An=n(Je);ba=o(An,"react-redux"),An.forEach(r),wa=o(q," and "),Ke=l(q,"CODE",{class:!0});var In=n(Ke);ya=o(In,"react-router"),In.forEach(r),Pa=o(q," uses React Context to pass information down the React component tree. However, this way of data passing disallow multiple instances of the "),Ht=l(q,"EM",{});var Dn=n(Ht);Ca=o(Dn,"Context"),Dn.forEach(r),Oa=o(q," object, as each instances has a different memory reference."),q.forEach(r),On.forEach(r),po.forEach(r),Ta=h(N),x=l(N,"P",{});var V=n(x);Aa=o(V,"So, the main SPA runtime bundles "),Qe=l(V,"CODE",{class:!0});var kn=n(Qe);Ia=o(kn,"react"),kn.forEach(r),Da=o(V,", "),Ve=l(V,"CODE",{class:!0});var xn=n(Ve);ka=o(xn,"react-redux"),xn.forEach(r),xa=o(V,", etc and "),W=l(V,"A",{href:!0,rel:!0});var vo=n(W);Sa=o(vo,"set it into the "),Xe=l(vo,"CODE",{class:!0});var Sn=n(Xe);Ra=o(Sn,"Bridge.Registry"),Sn.forEach(r),Ba=o(vo,"."),vo.forEach(r),La=o(V,"."),V.forEach(r),Na=h(N),y=l(N,"P",{});var j=n(y);ja=o(j,"When each micro-frontend is built, the "),Wt=l(j,"EM",{});var Rn=n(Wt);$a=o(Rn,"import statement"),Rn.forEach(r),Fa=o(j," for these modules "),Pe=l(j,"A",{href:!0,rel:!0});var Bn=n(Pe);Ga=o(Bn,"will be transformed"),Bn.forEach(r),Ha=o(j," into the "),Ce=l(j,"A",{href:!0,rel:!0});var Ln=n(Ce);Wa=o(Ln,"some aliases"),Ln.forEach(r),Ma=o(j,", that reads the module from the "),et=l(j,"CODE",{class:!0});var Nn=n(et);Ua=o(Nn,"Bridge.Registry"),Nn.forEach(r),za=o(j,"."),j.forEach(r),N.forEach(r),eo=h(i),O=l(i,"SECTION",{});var X=n(O);Mt=l(X,"H2",{});var jn=n(Mt);Oe=l(jn,"A",{href:!0,id:!0});var $n=n(Oe);Ya=o($n,"Shared Global State"),$n.forEach(r),jn.forEach(r),qa=h(X),tt=l(X,"P",{});var Pl=n(tt);Za=o(Pl,"In the PoC, the micro frontends are "),R=l(Pl,"A",{href:!0,rel:!0});var Zt=n(R);Ja=o(Zt,"connected to the shared global store via "),ot=l(Zt,"CODE",{class:!0});var Fn=n(ot);Ka=o(Fn,"connect()"),Fn.forEach(r),Qa=o(Zt," from "),rt=l(Zt,"CODE",{class:!0});var Gn=n(rt);Va=o(Gn,"react-redux"),Gn.forEach(r),Zt.forEach(r),Pl.forEach(r),Xa=h(X),M=l(X,"P",{});var dt=n(M);el=o(dt,"Interesting to note is that both "),Te=l(dt,"A",{href:!0,rel:!0});var Hn=n(Te);tl=o(Hn,"the food detail"),Hn.forEach(r),ol=o(dt," and "),Ae=l(dt,"A",{href:!0,rel:!0});var Wn=n(Ae);rl=o(Wn,"the food list"),Wn.forEach(r),al=o(dt," register the same key for the reducer, but yet both of the works seamlessly."),dt.forEach(r),ll=h(X),Ut=l(X,"P",{});var Mn=n(Ut);nl=o(Mn,"Note that when we transit from Food List page to Food Detail page, we already have the food detail information from the store, therefore there is no need to fetch the food detail anymore."),Mn.forEach(r),X.forEach(r),to=h(i),B=l(i,"SECTION",{});var ft=n(B);zt=l(ft,"H2",{});var Un=n(zt);Ie=l(Un,"A",{href:!0,id:!0});var zn=n(Ie);sl=o(zn,"Trying it out locally"),zn.forEach(r),Un.forEach(r),il=h(ft),U=l(ft,"P",{});var ut=n(U);cl=o(ut,"Run "),at=l(ut,"CODE",{class:!0});var Yn=n(at);hl=o(Yn,"yarn start"),Yn.forEach(r),dl=o(ut," in the root folder, which will "),De=l(ut,"A",{href:!0,rel:!0});var qn=n(De);fl=o(qn,"start a simple express server"),qn.forEach(r),ul=o(ut,". The express server is used to serve static files based on specific rules."),ut.forEach(r),ml=h(ft),z=l(ft,"P",{});var mt=n(z);pl=o(mt,"To build individual micro frontends, you need to go to each folder and run "),lt=l(mt,"CODE",{class:!0});var Zn=n(lt);vl=o(Zn,"yarn build"),Zn.forEach(r),gl=o(mt,". Alternatively, you can start the watch mode via "),nt=l(mt,"CODE",{class:!0});var Jn=n(nt);_l=o(Jn,"yarn dev"),Jn.forEach(r),El=o(mt,"."),mt.forEach(r),ft.forEach(r),oo=h(i),K=l(i,"SECTION",{});var go=n(K);Yt=l(go,"H3",{});var Kn=n(Yt);ke=l(Kn,"A",{href:!0,id:!0});var Qn=n(ke);bl=o(Qn,"Developing the micro frontend individually"),Qn.forEach(r),Kn.forEach(r),wl=h(go),qt=l(go,"P",{});var Vn=n(qt);yl=o(Vn,"WIP"),Vn.forEach(r),go.forEach(r),this.h()},h(){s(f,"href","https://github.com/tanhauhau/micro-frontend"),s(f,"rel","nofollow"),s(te,"href","https://github.com/tanhauhau/micro-frontend"),s(te,"rel","nofollow"),s(oe,"href","#what-is-this-different"),s(oe,"id","what-is-this-different"),s(Be,"class","inline"),s(Le,"class","inline"),s(Ne,"class","inline"),s(je,"class","inline"),s(ne,"href","https://redux.js.org"),s(ne,"rel","nofollow"),s(se,"href","#the-bridge"),s(se,"id","the-bridge"),s(ce,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/index.js"),s(ce,"rel","nofollow"),s(de,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/Channel.js"),s(de,"rel","nofollow"),s(fe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/Bridge/Registry.js"),s(fe,"rel","nofollow"),s(ue,"href","#the-routing-mechanism"),s(ue,"id","the-routing-mechanism"),s(me,"href","https://reacttraining.com/react-router/web"),s(me,"rel","nofollow"),s(pe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/Routes.js#L17"),s(pe,"rel","nofollow"),s($e,"class","inline"),s(Fe,"class","inline"),s(Ge,"class","inline"),s(ge,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/FallbackDiscovery.js"),s(ge,"rel","nofollow"),s(Ee,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/App/FallbackDiscovery.js#L31"),s(Ee,"rel","nofollow"),s(He,"class","inline"),s(We,"class","inline"),s(Me,"class","inline"),s(we,"href","#the-global-registry"),s(we,"id","the-global-registry"),s(Ue,"class","inline"),s(ze,"class","inline"),s(Ye,"class","inline"),s(qe,"class","inline"),s(Ze,"class","inline"),s(Je,"class","inline"),s(Ke,"class","inline"),s(Qe,"class","inline"),s(Ve,"class","inline"),s(Xe,"class","inline"),s(W,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/base/src/initRegistry.js#L9"),s(W,"rel","nofollow"),s(Pe,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/webpack.config.js#L23"),s(Pe,"rel","nofollow"),s(Ce,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/build/BridgeAliasPlugin/aliases/react.js"),s(Ce,"rel","nofollow"),s(et,"class","inline"),s(Oe,"href","#shared-global-state"),s(Oe,"id","shared-global-state"),s(ot,"class","inline"),s(rt,"class","inline"),s(R,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/src/FoodDetail.js#L36"),s(R,"rel","nofollow"),s(Te,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/food/src/FoodDetail.js#L13"),s(Te,"rel","nofollow"),s(Ae,"href","https://github.com/tanhauhau/micro-frontend/blob/master/packages/foods/src/FoodList.js"),s(Ae,"rel","nofollow"),s(Ie,"href","#trying-it-out-locally"),s(Ie,"id","trying-it-out-locally"),s(at,"class","inline"),s(De,"href","https://github.com/tanhauhau/micro-frontend/blob/master/scripts/start-dev-server.js"),s(De,"rel","nofollow"),s(lt,"class","inline"),s(nt,"class","inline"),s(ke,"href","#developing-the-micro-frontend-individually"),s(ke,"id","developing-the-micro-frontend-individually")},m(i,u){as(d,i,u),v(i,I,u),v(i,E,u),e(E,ee),e(E,f),e(f,D),e(E,Re),v(i,Jt,u),v(i,Z,u),e(Z,_o),e(Z,te),e(te,Eo),e(Z,bo),v(i,Kt,u),v(i,J,u),e(J,pt),e(pt,oe),e(oe,wo),e(J,yo),e(J,$),e($,re),e(re,vt),e(vt,gt),e(gt,Po),e(re,Co),e(re,_t),e(_t,Oo),e($,To),e($,ae),e(ae,Et),e(Et,bt),e(bt,Ao),e(ae,Io),e(ae,_),e(_,Do),e(_,Be),e(Be,ko),e(_,xo),e(_,Le),e(Le,So),e(_,Ro),e(_,wt),e(wt,Bo),e(_,Lo),e(_,Ne),e(Ne,No),e(_,jo),e(_,je),e(je,$o),e(_,Fo),e($,Go),e($,F),e(F,yt),e(yt,Pt),e(Pt,Ho),e(F,Wo),e(F,le),e(le,Mo),e(le,ne),e(ne,Uo),e(le,zo),e(F,Yo),e(F,Ct),e(Ct,qo),v(i,Qt,u),v(i,g,u),e(g,Ot),e(Ot,se),e(se,Zo),e(g,Jo),e(g,ie),e(ie,Ko),e(ie,ce),e(ce,Qo),e(ie,Vo),e(g,Xo),e(g,Tt),e(Tt,er),e(g,tr),e(g,he),e(he,At),e(At,or),e(he,rr),e(he,It),e(It,ar),e(g,lr),e(g,P),e(P,Dt),e(Dt,nr),e(P,sr),e(P,de),e(de,ir),e(P,cr),e(P,kt),e(kt,hr),e(P,dr),e(P,fe),e(fe,fr),e(P,ur),e(g,mr),e(g,xt),e(xt,pr),v(i,Vt,u),v(i,m,u),e(m,St),e(St,ue),e(ue,vr),e(m,gr),e(m,w),e(w,_r),e(w,me),e(me,Er),e(w,br),e(w,pe),e(pe,wr),e(w,yr),e(w,$e),e($e,Pr),e(w,Cr),e(w,Rt),e(Rt,Or),e(w,Tr),e(m,Ar),e(m,G),e(G,Ir),e(G,Fe),e(Fe,Dr),e(G,kr),e(G,Ge),e(Ge,xr),e(G,Sr),e(m,Rr),e(m,Bt),e(Bt,Br),e(m,Lr),e(m,ve),e(ve,Nr),e(ve,ge),e(ge,jr),e(ve,$r),e(m,Fr),e(m,Lt),e(Lt,Gr),e(m,Hr),e(m,_e),e(_e,Wr),e(_e,Ee),e(Ee,Mr),e(_e,Ur),e(m,zr),e(m,be),e(be,Yr),e(be,He),e(He,qr),e(be,Zr),e(m,Jr),e(m,H),e(H,Kr),e(H,We),e(We,Qr),e(H,Vr),e(H,Me),e(Me,Xr),e(H,ea),v(i,Xt,u),v(i,b,u),e(b,Nt),e(Nt,we),e(we,ta),e(b,oa),e(b,k),e(k,ra),e(k,Ue),e(Ue,aa),e(k,la),e(k,ze),e(ze,na),e(k,sa),e(k,Ye),e(Ye,ia),e(k,ca),e(b,ha),e(b,ye),e(ye,jt),e(jt,S),e(S,$t),e($t,da),e(S,fa),e(S,qe),e(qe,ua),e(S,ma),e(S,Ze),e(Ze,pa),e(S,va),e(ye,ga),e(ye,Ft),e(Ft,C),e(C,Gt),e(Gt,_a),e(C,Ea),e(C,Je),e(Je,ba),e(C,wa),e(C,Ke),e(Ke,ya),e(C,Pa),e(C,Ht),e(Ht,Ca),e(C,Oa),e(b,Ta),e(b,x),e(x,Aa),e(x,Qe),e(Qe,Ia),e(x,Da),e(x,Ve),e(Ve,ka),e(x,xa),e(x,W),e(W,Sa),e(W,Xe),e(Xe,Ra),e(W,Ba),e(x,La),e(b,Na),e(b,y),e(y,ja),e(y,Wt),e(Wt,$a),e(y,Fa),e(y,Pe),e(Pe,Ga),e(y,Ha),e(y,Ce),e(Ce,Wa),e(y,Ma),e(y,et),e(et,Ua),e(y,za),v(i,eo,u),v(i,O,u),e(O,Mt),e(Mt,Oe),e(Oe,Ya),e(O,qa),e(O,tt),e(tt,Za),e(tt,R),e(R,Ja),e(R,ot),e(ot,Ka),e(R,Qa),e(R,rt),e(rt,Va),e(O,Xa),e(O,M),e(M,el),e(M,Te),e(Te,tl),e(M,ol),e(M,Ae),e(Ae,rl),e(M,al),e(O,ll),e(O,Ut),e(Ut,nl),v(i,to,u),v(i,B,u),e(B,zt),e(zt,Ie),e(Ie,sl),e(B,il),e(B,U),e(U,cl),e(U,at),e(at,hl),e(U,dl),e(U,De),e(De,fl),e(U,ul),e(B,ml),e(B,z),e(z,pl),e(z,lt),e(lt,vl),e(z,gl),e(z,nt),e(nt,_l),e(z,El),v(i,oo,u),v(i,K,u),e(K,Yt),e(Yt,ke),e(ke,bl),e(K,wl),e(K,qt),e(qt,yl),ro=!0},p:us,i(i){ro||(ls(d.$$.fragment,i),ro=!0)},o(i){ns(d.$$.fragment,i),ro=!1},d(i){ss(d,i),i&&r(I),i&&r(E),i&&r(Jt),i&&r(Z),i&&r(Kt),i&&r(J),i&&r(Qt),i&&r(g),i&&r(Vt),i&&r(m),i&&r(Xt),i&&r(b),i&&r(eo),i&&r(O),i&&r(to),i&&r(B),i&&r(oo),i&&r(K)}}}function _s(Se){let d,I;const E=[Se[0],ts];let ee={$$slots:{default:[gs]},$$scope:{ctx:Se}};for(let f=0;f<E.length;f+=1)ee=Cl(ee,E[f]);return d=new ms({props:ee}),{c(){os(d.$$.fragment)},l(f){rs(d.$$.fragment,f)},m(f,D){as(d,f,D),I=!0},p(f,[D]){const Re=D&1?ds(E,[D&1&&Xn(f[0]),D&0&&Xn(ts)]):{};D&2&&(Re.$$scope={dirty:D,ctx:f}),d.$set(Re)},i(f){I||(ls(d.$$.fragment,f),I=!0)},o(f){ns(d.$$.fragment,f),I=!1},d(f){ss(d,f)}}}const ts={title:"Yet Another Micro Frontend Proof of Concept",date:"2019-07-15T08:00:00Z",description:"A decentralised router definition",wip:!0,label:"blog"};function Es(Se,d,I){return fs("blog",{image:vs}),Se.$$set=E=>{I(0,d=Cl(Cl({},d),es(E)))},d=es(d),[d]}class As extends is{constructor(d){super();cs(this,d,Es,_s,hs,{})}}export{As as default,ts as metadata};
