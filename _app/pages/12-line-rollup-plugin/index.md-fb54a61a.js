import{S as Er,i as br,s as Ir,C as jl,w as rr,x as ir,y as pr,z as jr,A as er,q as cr,o as hr,B as dr,r as Sr,R as tr,k as i,e as t,t as a,m as p,c as o,a as n,h as l,d as s,b as r,Q as yo,g as q,F as e,O as Pr}from"../../chunks/vendor-ea160616.js";import{B as Or}from"../../chunks/BlogLayout-1be3dc1e.js";import{T as Rr}from"../../chunks/TableOfContent-c4f5cb6e.js";import"../../chunks/stores-7d7fda0c.js";import"../../chunks/WebMentions-d768a574.js";/* empty css                                */var Ar="/_app/assets/dependencies-ea99ca83.webp",or="/_app/assets/dependencies-fd8db9f4.png",Cr="/_app/assets/rollup-plugin-copy-usage-a2ee5817.webp",sr="/_app/assets/rollup-plugin-copy-usage-8a013c03.png",Tr="/_app/assets/google-search-4b643dd7.webp",ar="/_app/assets/google-search-4357d1f5.png",Nr="/_app/assets/window-reference-error-6bc12ec2.webp",lr="/_app/assets/window-reference-error-6a8a2b10.png",Mr="/_app/assets/hero-twitter-65a339c5.jpg";function Dr(we){let g,x,u,S,f,E,xe,b,go,L,fo,mo,H,_o,wo,Y,xo,Eo,bo,Ee,ur='<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">worker</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Worker</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">);</span></span></code></pre>',Io,P,jo,Fe,So,Po,Ke,Oo,Ro,Ao,z,Co,F,To,No,Mo,be,kr=`<div class="filename">/build/worker.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(l</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> r) &#123; </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.getElementById</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;livereloadscript&#39;</span><span style="color: var(--shiki-color-text)">)) </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)">; r </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.createElement</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;script&#39;</span><span style="color: var(--shiki-color-text)">); </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.async </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.src </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;//&#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">location</span><span style="color: var(--shiki-color-text)">.host </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;localhost&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-function)">.split</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;:&#39;</span><span style="color: var(--shiki-color-text)">)[</span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-color-text)">] </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;:35729/livereload.js?snipver=1&#39;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.id </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;livereloadscript&#39;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)">head</span><span style="color: var(--shiki-token-function)">.appendChild</span><span style="color: var(--shiki-color-text)">(r) &#125;)(</span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-color-text)">.document);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// worker code ...</span></span></code></pre>`,Do,K,Bo,Ie,Go,Uo,Wo,Ve,V,Qe,Je,B,Sl,$o,O,qo,Q,Lo,Ho,Ze,Yo,zo,Fo,je,Ko,Xe,Vo,Qo,et,Jo,Qt,v,tt,J,Zo,Xo,Z,es,ot,ts,os,ss,R,as,X,ls,ns,st,rs,is,ps,at,ee,lt,nt,G,Pl,cs,rt,hs,ds,it,te,pt,ct,U,Ol,us,ht,ks,vs,dt,oe,ut,kt,se,Rl,ys,vt,gs,fs,yt,gt,ft,ms,_s,ae,ws,mt,xs,Es,bs,_t,Is,js,wt,A,Ss,xt,Ps,Os,Et,Rs,As,Jt,c,bt,le,Cs,Ts,ne,Ns,It,Ms,Ds,Bs,w,Gs,Se,Us,Ws,re,$s,qs,ie,Ls,Hs,pe,Ys,zs,Fs,jt,Ks,Vs,Pe,vr=`<div class="filename">rollup-plugin-xxx.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(options) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;plugin-name&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">load</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">resolveId</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Qs,St,Js,Zs,C,Pt,Xs,ea,ce,ta,Oe,oa,sa,aa,T,la,Ot,na,ra,Rt,ia,pa,ca,he,ha,Re,da,ua,ka,Ae,yr=`<div class="filename">rollup.config.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line dim"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">    &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;copy-worker&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">fs</span><span style="color: var(--shiki-token-function)">.copyFileSync</span><span style="color: var(--shiki-color-text)">(</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./public/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        );</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      &#125;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  ]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,va,At,ya,ga,N,fa,Ce,ma,_a,Te,wa,xa,Ea,de,ba,Ne,Ia,ja,Sa,ue,Pa,ke,Oa,Ra,Aa,I,Ca,Ct,Ta,Na,Tt,Ma,Da,ve,Ba,Ga,Ua,M,Wa,ye,Me,$a,qa,ge,La,Ha,Ya,Nt,Mt,za,Fa,Dt,Ka,Va,De,gr=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line dim"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;copy-worker&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">load</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.addWatchFile</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">fs</span><span style="color: var(--shiki-token-function)">.copyFileSync</span><span style="color: var(--shiki-color-text)">(</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./public/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">        );</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  ]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Qa,Bt,Ja,Zt,m,Gt,fe,Za,Xa,Ut,el,tl,me,ol,Wt,sl,al,ll,$t,nl,rl,qt,Lt,il,pl,Ht,cl,hl,_e,dl,Be,ul,kl,vl,Yt,zt,yl,gl,D,fl,Ft,ml,_l,Kt,wl,xl,El,Vt,bl,Xt;return g=new Rr({props:{data:[{link:"background",title:"Background"},{link:"need-something-install-a-plugin",title:"Need something? Install a plugin!"},{link:"writing-a-rollup-plugin",title:"Writing a Rollup plugin"},{link:"closing-notes",title:"Closing Notes"}]}}),{c(){rr(g.$$.fragment),x=i(),u=t("section"),S=t("h2"),f=t("a"),E=a("Background"),xe=i(),b=t("p"),go=a("I was building a web application using "),L=t("a"),fo=a("Svelte"),mo=a(" and "),H=t("a"),_o=a("Rollup"),wo=a(" this morning. I needed to use a "),Y=t("a"),xo=a("web worker"),Eo=a(", which the worker script has to be in another file:"),bo=i(),Ee=t("div"),Io=i(),P=t("p"),jo=a("So naturally, I was thinking of having 2 entries for my rollup application: "),Fe=t("em"),So=a("the main app"),Po=a(" and "),Ke=t("em"),Oo=a("the worker"),Ro=a("."),Ao=i(),z=t("p"),Co=a("It works fine, except the fact that the "),F=t("a"),To=a("rollup-plugin-livereload"),No=a(" injected a livereload script to every output file:"),Mo=i(),be=t("div"),Do=i(),K=t("p"),Bo=a("The livereload script includes a reference to "),Ie=t("code"),Go=a("window"),Uo=a(", which is not available to the worker script:"),Wo=i(),Ve=t("p"),V=t("picture"),Qe=t("source"),Je=t("source"),B=t("img"),$o=i(),O=t("p"),qo=a("I looked into "),Q=t("a"),Lo=a("the docs of the rollup-plugin-livereload"),Ho=a(", it doesn't seemed to have a option to exclude files from adding the "),Ze=t("em"),Yo=a("livereload script"),zo=a("."),Fo=i(),je=t("p"),Ko=a("At this point, I was thinking to myself, "),Xe=t("em"),Vo=a(`"I just need to copy the worker.js into the 'build/' folder, I don't need anything else, how hard can that be?"`),Qo=i(),et=t("p"),Jo=a("It turns out harder than I imagined. \u{1F92E}"),Qt=i(),v=t("section"),tt=t("h2"),J=t("a"),Zo=a("Need something? Install a plugin!"),Xo=i(),Z=t("p"),es=a("In todays JavaScript landscape, there's a "),ot=t("em"),ts=a('"node_module"'),os=a(" for everything."),ss=i(),R=t("p"),as=a("So I "),X=t("a"),ls=a("googled"),ns=i(),st=t("em"),rs=a('"rollup plugin copy files"'),is=a(", without a suprise, there are multiple rollup plugins published to npm:"),ps=i(),at=t("p"),ee=t("picture"),lt=t("source"),nt=t("source"),G=t("img"),cs=i(),rt=t("p"),hs=a("So I decided to install the first plugin, because it has the highest weekly downloads:"),ds=i(),it=t("p"),te=t("picture"),pt=t("source"),ct=t("source"),U=t("img"),us=i(),ht=t("p"),ks=a("When I installed the plugin, I realise I was installing much more than I needed:"),vs=i(),dt=t("p"),oe=t("picture"),ut=t("source"),kt=t("source"),se=t("img"),ys=i(),vt=t("p"),gs=a("Remember, my use case is simple:"),fs=i(),yt=t("blockquote"),gt=t("p"),ft=t("strong"),ms=a("I just need to copy the worker.js into the 'build/' folder."),_s=i(),ae=t("p"),ws=a("I "),mt=t("em"),xs=a("don't need any bells and whistles"),Es=a(" this plugin is providing me. \u{1F648}"),bs=i(),_t=t("p"),Is=a("So I uninstalled the plugin, thinking:"),js=i(),wt=t("blockquote"),A=t("p"),Ss=a("How hard is it to "),xt=t("strong"),Ps=a("write a plugin"),Os=a(" that "),Et=t("strong"),Rs=a("just"),As=a(" copy the worker.js into the 'build/' folder?"),Jt=i(),c=t("section"),bt=t("h2"),le=t("a"),Cs=a("Writing a Rollup plugin"),Ts=i(),ne=t("p"),Ns=a("Senpai once told me, "),It=t("em"),Ms=a('"writing rollup plugins is very straightforward,"'),Ds=a(", yet, no one told me how to get started writing it."),Bs=i(),w=t("p"),Gs=a("So, I dug into "),Se=t("code"),Us=a("node_modules/"),Ws=a(", and start skimming through the rollup plugins I have installed: "),re=t("a"),$s=a("rollup-plugin-svelte"),qs=a(", "),ie=t("a"),Ls=a("rollup-plugin-node-resolve"),Hs=a(", "),pe=t("a"),Ys=a("rollup-plugin-terser"),zs=a(", ..."),Fs=i(),jt=t("p"),Ks=a("And I noticed a common pattern:"),Vs=i(),Pe=t("div"),Qs=i(),St=t("p"),Js=a("So I guess, this is the general structure of a rollup plugin:"),Zs=i(),C=t("ul"),Pt=t("li"),Xs=a("It's an object, ..."),ea=i(),ce=t("li"),ta=a("with a property called "),Oe=t("code"),oa=a("name"),sa=a(" for the name of the plugin,"),aa=i(),T=t("li"),la=a("and functions like "),Ot=t("em"),na=a('"load"'),ra=a(", "),Rt=t("em"),ia=a('"load"'),pa=a(", ... that would be called by rollup when the time is right \u{1F914}"),ca=i(),he=t("p"),ha=a("OK. I know what I need, I need to copy my "),Re=t("code"),da=a("worker.js"),ua=a(" when rollup is generating a bundle:"),ka=i(),Ae=t("div"),va=i(),At=t("p"),ya=a("Great! It works! \u{1F60E}"),ga=i(),N=t("p"),fa=a("But, when I change the "),Ce=t("code"),ma=a("worker.js"),_a=a(" file, the "),Te=t("code"),wa=a("build/worker.js"),xa=a(" is not updated. \u{1F61E}"),Ea=i(),de=t("p"),ba=a("That's because the "),Ne=t("code"),Ia=a("worker.js"),ja=a(" is not watched!"),Sa=i(),ue=t("p"),Pa=a("After much googling, I ended up reading through the official docs of "),ke=t("a"),Oa=a("Rollup"),Ra=a("."),Aa=i(),I=t("p"),Ca=a("I learned that the functions like "),Ct=t("em"),Ta=a('"load"'),Na=a(", "),Tt=t("em"),Ma=a('"generateBundle"'),Da=a(", ... are called "),ve=t("a"),Ba=a('"hooks"'),Ga=a(", and the docs explained when these hooks will be called, the arguments and the expected return value."),Ua=i(),M=t("p"),Wa=a("In the docs, I found "),ye=t("a"),Me=t("code"),$a=a("this.addWatchFile(id: string)"),qa=a(" under "),ge=t("a"),La=a("plugin context"),Ha=a(", which according to the docs,"),Ya=i(),Nt=t("blockquote"),Mt=t("p"),za=a("[...] can be used to add additional files to be monitored by watch mode."),Fa=i(),Dt=t("p"),Ka=a("Sounds exactly what I am looking for! \u{1F601}"),Va=i(),De=t("div"),Qa=i(),Bt=t("p"),Ja=a("Great! It works! \u{1F389}\u{1F389}"),Zt=i(),m=t("section"),Gt=t("h2"),fe=t("a"),Za=a("Closing Notes"),Xa=i(),Ut=t("p"),el=a('After some researching, I wrote simple rollup plugin in 12 lines of code, that copies the worker.js into "build/" folder.'),tl=i(),me=t("p"),ol=a("This is something custom and specific, and "),Wt=t("strong"),sl=a("it works perfectly fine"),al=a("."),ll=i(),$t=t("p"),nl=a("So, why would I install a package that has so many files and dependencies, just to do a simple and specific task?"),rl=i(),qt=t("p"),Lt=t("strong"),il=a("Am I going to publish my plugin to npm?"),pl=i(),Ht=t("p"),cl=a("No. If you have a similar use case, you are free to copy these 12 lines of code."),hl=i(),_e=t("p"),dl=a("At the moment, I am having these 12 lines of code in my "),Be=t("code"),ul=a("rollup.config.js"),kl=a(" and have no intention to extract it out into its own package."),vl=i(),Yt=t("p"),zt=t("strong"),yl=a("What about DRY? What if you/someone else have the same use case, wouldn't it great to have it as a package?"),gl=i(),D=t("p"),fl=a("Sorry. No. Before "),Ft=t("strong"),ml=a("DRY (Dont Repeat Yourself)"),_l=a(", there's "),Kt=t("strong"),wl=a("YAGNI (You aren't gonna need it)"),xl=a("."),El=i(),Vt=t("p"),bl=a("Abstract code only when you need to."),this.h()},l(d){ir(g.$$.fragment,d),x=p(d),u=o(d,"SECTION",{});var k=n(u);S=o(k,"H2",{});var Al=n(S);f=o(Al,"A",{href:!0,id:!0});var Cl=n(f);E=l(Cl,"Background"),Cl.forEach(s),Al.forEach(s),xe=p(k),b=o(k,"P",{});var W=n(b);go=l(W,"I was building a web application using "),L=o(W,"A",{href:!0,rel:!0});var Tl=n(L);fo=l(Tl,"Svelte"),Tl.forEach(s),mo=l(W," and "),H=o(W,"A",{href:!0,rel:!0});var Nl=n(H);_o=l(Nl,"Rollup"),Nl.forEach(s),wo=l(W," this morning. I needed to use a "),Y=o(W,"A",{href:!0,rel:!0});var Ml=n(Y);xo=l(Ml,"web worker"),Ml.forEach(s),Eo=l(W,", which the worker script has to be in another file:"),W.forEach(s),bo=p(k),Ee=o(k,"DIV",{class:!0});var fr=n(Ee);fr.forEach(s),Io=p(k),P=o(k,"P",{});var Ge=n(P);jo=l(Ge,"So naturally, I was thinking of having 2 entries for my rollup application: "),Fe=o(Ge,"EM",{});var Dl=n(Fe);So=l(Dl,"the main app"),Dl.forEach(s),Po=l(Ge," and "),Ke=o(Ge,"EM",{});var Bl=n(Ke);Oo=l(Bl,"the worker"),Bl.forEach(s),Ro=l(Ge,"."),Ge.forEach(s),Ao=p(k),z=o(k,"P",{});var eo=n(z);Co=l(eo,"It works fine, except the fact that the "),F=o(eo,"A",{href:!0,rel:!0});var Gl=n(F);To=l(Gl,"rollup-plugin-livereload"),Gl.forEach(s),No=l(eo," injected a livereload script to every output file:"),eo.forEach(s),Mo=p(k),be=o(k,"DIV",{class:!0});var mr=n(be);mr.forEach(s),Do=p(k),K=o(k,"P",{});var to=n(K);Bo=l(to,"The livereload script includes a reference to "),Ie=o(to,"CODE",{class:!0});var Ul=n(Ie);Go=l(Ul,"window"),Ul.forEach(s),Uo=l(to,", which is not available to the worker script:"),to.forEach(s),Wo=p(k),Ve=o(k,"P",{});var Wl=n(Ve);V=o(Wl,"PICTURE",{});var oo=n(V);Qe=o(oo,"SOURCE",{type:!0,srcset:!0}),Je=o(oo,"SOURCE",{type:!0,srcset:!0}),B=o(oo,"IMG",{src:!0,loading:!0,alt:!0,title:!0}),oo.forEach(s),Wl.forEach(s),$o=p(k),O=o(k,"P",{});var Ue=n(O);qo=l(Ue,"I looked into "),Q=o(Ue,"A",{href:!0,rel:!0});var $l=n(Q);Lo=l($l,"the docs of the rollup-plugin-livereload"),$l.forEach(s),Ho=l(Ue,", it doesn't seemed to have a option to exclude files from adding the "),Ze=o(Ue,"EM",{});var ql=n(Ze);Yo=l(ql,"livereload script"),ql.forEach(s),zo=l(Ue,"."),Ue.forEach(s),Fo=p(k),je=o(k,"P",{});var Il=n(je);Ko=l(Il,"At this point, I was thinking to myself, "),Xe=o(Il,"EM",{});var Ll=n(Xe);Vo=l(Ll,`"I just need to copy the worker.js into the 'build/' folder, I don't need anything else, how hard can that be?"`),Ll.forEach(s),Il.forEach(s),Qo=p(k),et=o(k,"P",{});var Hl=n(et);Jo=l(Hl,"It turns out harder than I imagined. \u{1F92E}"),Hl.forEach(s),k.forEach(s),Qt=p(d),v=o(d,"SECTION",{});var y=n(v);tt=o(y,"H2",{});var Yl=n(tt);J=o(Yl,"A",{href:!0,id:!0});var zl=n(J);Zo=l(zl,"Need something? Install a plugin!"),zl.forEach(s),Yl.forEach(s),Xo=p(y),Z=o(y,"P",{});var so=n(Z);es=l(so,"In todays JavaScript landscape, there's a "),ot=o(so,"EM",{});var Fl=n(ot);ts=l(Fl,'"node_module"'),Fl.forEach(s),os=l(so," for everything."),so.forEach(s),ss=p(y),R=o(y,"P",{});var We=n(R);as=l(We,"So I "),X=o(We,"A",{href:!0,rel:!0});var Kl=n(X);ls=l(Kl,"googled"),Kl.forEach(s),ns=p(We),st=o(We,"EM",{});var Vl=n(st);rs=l(Vl,'"rollup plugin copy files"'),Vl.forEach(s),is=l(We,", without a suprise, there are multiple rollup plugins published to npm:"),We.forEach(s),ps=p(y),at=o(y,"P",{});var Ql=n(at);ee=o(Ql,"PICTURE",{});var ao=n(ee);lt=o(ao,"SOURCE",{type:!0,srcset:!0}),nt=o(ao,"SOURCE",{type:!0,srcset:!0}),G=o(ao,"IMG",{src:!0,loading:!0,alt:!0,title:!0}),ao.forEach(s),Ql.forEach(s),cs=p(y),rt=o(y,"P",{});var Jl=n(rt);hs=l(Jl,"So I decided to install the first plugin, because it has the highest weekly downloads:"),Jl.forEach(s),ds=p(y),it=o(y,"P",{});var Zl=n(it);te=o(Zl,"PICTURE",{});var lo=n(te);pt=o(lo,"SOURCE",{type:!0,srcset:!0}),ct=o(lo,"SOURCE",{type:!0,srcset:!0}),U=o(lo,"IMG",{src:!0,loading:!0,alt:!0,title:!0}),lo.forEach(s),Zl.forEach(s),us=p(y),ht=o(y,"P",{});var Xl=n(ht);ks=l(Xl,"When I installed the plugin, I realise I was installing much more than I needed:"),Xl.forEach(s),vs=p(y),dt=o(y,"P",{});var en=n(dt);oe=o(en,"PICTURE",{});var no=n(oe);ut=o(no,"SOURCE",{type:!0,srcset:!0}),kt=o(no,"SOURCE",{type:!0,srcset:!0}),se=o(no,"IMG",{src:!0,loading:!0,alt:!0}),no.forEach(s),en.forEach(s),ys=p(y),vt=o(y,"P",{});var tn=n(vt);gs=l(tn,"Remember, my use case is simple:"),tn.forEach(s),fs=p(y),yt=o(y,"BLOCKQUOTE",{});var on=n(yt);gt=o(on,"P",{});var sn=n(gt);ft=o(sn,"STRONG",{});var an=n(ft);ms=l(an,"I just need to copy the worker.js into the 'build/' folder."),an.forEach(s),sn.forEach(s),on.forEach(s),_s=p(y),ae=o(y,"P",{});var ro=n(ae);ws=l(ro,"I "),mt=o(ro,"EM",{});var ln=n(mt);xs=l(ln,"don't need any bells and whistles"),ln.forEach(s),Es=l(ro," this plugin is providing me. \u{1F648}"),ro.forEach(s),bs=p(y),_t=o(y,"P",{});var nn=n(_t);Is=l(nn,"So I uninstalled the plugin, thinking:"),nn.forEach(s),js=p(y),wt=o(y,"BLOCKQUOTE",{});var rn=n(wt);A=o(rn,"P",{});var $e=n(A);Ss=l($e,"How hard is it to "),xt=o($e,"STRONG",{});var pn=n(xt);Ps=l(pn,"write a plugin"),pn.forEach(s),Os=l($e," that "),Et=o($e,"STRONG",{});var cn=n(Et);Rs=l(cn,"just"),cn.forEach(s),As=l($e," copy the worker.js into the 'build/' folder?"),$e.forEach(s),rn.forEach(s),y.forEach(s),Jt=p(d),c=o(d,"SECTION",{});var h=n(c);bt=o(h,"H2",{});var hn=n(bt);le=o(hn,"A",{href:!0,id:!0});var dn=n(le);Cs=l(dn,"Writing a Rollup plugin"),dn.forEach(s),hn.forEach(s),Ts=p(h),ne=o(h,"P",{});var io=n(ne);Ns=l(io,"Senpai once told me, "),It=o(io,"EM",{});var un=n(It);Ms=l(un,'"writing rollup plugins is very straightforward,"'),un.forEach(s),Ds=l(io,", yet, no one told me how to get started writing it."),io.forEach(s),Bs=p(h),w=o(h,"P",{});var j=n(w);Gs=l(j,"So, I dug into "),Se=o(j,"CODE",{class:!0});var kn=n(Se);Us=l(kn,"node_modules/"),kn.forEach(s),Ws=l(j,", and start skimming through the rollup plugins I have installed: "),re=o(j,"A",{href:!0,rel:!0});var vn=n(re);$s=l(vn,"rollup-plugin-svelte"),vn.forEach(s),qs=l(j,", "),ie=o(j,"A",{href:!0,rel:!0});var yn=n(ie);Ls=l(yn,"rollup-plugin-node-resolve"),yn.forEach(s),Hs=l(j,", "),pe=o(j,"A",{href:!0,rel:!0});var gn=n(pe);Ys=l(gn,"rollup-plugin-terser"),gn.forEach(s),zs=l(j,", ..."),j.forEach(s),Fs=p(h),jt=o(h,"P",{});var fn=n(jt);Ks=l(fn,"And I noticed a common pattern:"),fn.forEach(s),Vs=p(h),Pe=o(h,"DIV",{class:!0});var _r=n(Pe);_r.forEach(s),Qs=p(h),St=o(h,"P",{});var mn=n(St);Js=l(mn,"So I guess, this is the general structure of a rollup plugin:"),mn.forEach(s),Zs=p(h),C=o(h,"UL",{});var qe=n(C);Pt=o(qe,"LI",{});var _n=n(Pt);Xs=l(_n,"It's an object, ..."),_n.forEach(s),ea=p(qe),ce=o(qe,"LI",{});var po=n(ce);ta=l(po,"with a property called "),Oe=o(po,"CODE",{class:!0});var wn=n(Oe);oa=l(wn,"name"),wn.forEach(s),sa=l(po," for the name of the plugin,"),po.forEach(s),aa=p(qe),T=o(qe,"LI",{});var Le=n(T);la=l(Le,"and functions like "),Ot=o(Le,"EM",{});var xn=n(Ot);na=l(xn,'"load"'),xn.forEach(s),ra=l(Le,", "),Rt=o(Le,"EM",{});var En=n(Rt);ia=l(En,'"load"'),En.forEach(s),pa=l(Le,", ... that would be called by rollup when the time is right \u{1F914}"),Le.forEach(s),qe.forEach(s),ca=p(h),he=o(h,"P",{});var co=n(he);ha=l(co,"OK. I know what I need, I need to copy my "),Re=o(co,"CODE",{class:!0});var bn=n(Re);da=l(bn,"worker.js"),bn.forEach(s),ua=l(co," when rollup is generating a bundle:"),co.forEach(s),ka=p(h),Ae=o(h,"DIV",{class:!0});var wr=n(Ae);wr.forEach(s),va=p(h),At=o(h,"P",{});var In=n(At);ya=l(In,"Great! It works! \u{1F60E}"),In.forEach(s),ga=p(h),N=o(h,"P",{});var He=n(N);fa=l(He,"But, when I change the "),Ce=o(He,"CODE",{class:!0});var jn=n(Ce);ma=l(jn,"worker.js"),jn.forEach(s),_a=l(He," file, the "),Te=o(He,"CODE",{class:!0});var Sn=n(Te);wa=l(Sn,"build/worker.js"),Sn.forEach(s),xa=l(He," is not updated. \u{1F61E}"),He.forEach(s),Ea=p(h),de=o(h,"P",{});var ho=n(de);ba=l(ho,"That's because the "),Ne=o(ho,"CODE",{class:!0});var Pn=n(Ne);Ia=l(Pn,"worker.js"),Pn.forEach(s),ja=l(ho," is not watched!"),ho.forEach(s),Sa=p(h),ue=o(h,"P",{});var uo=n(ue);Pa=l(uo,"After much googling, I ended up reading through the official docs of "),ke=o(uo,"A",{href:!0,rel:!0});var On=n(ke);Oa=l(On,"Rollup"),On.forEach(s),Ra=l(uo,"."),uo.forEach(s),Aa=p(h),I=o(h,"P",{});var $=n(I);Ca=l($,"I learned that the functions like "),Ct=o($,"EM",{});var Rn=n(Ct);Ta=l(Rn,'"load"'),Rn.forEach(s),Na=l($,", "),Tt=o($,"EM",{});var An=n(Tt);Ma=l(An,'"generateBundle"'),An.forEach(s),Da=l($,", ... are called "),ve=o($,"A",{href:!0,rel:!0});var Cn=n(ve);Ba=l(Cn,'"hooks"'),Cn.forEach(s),Ga=l($,", and the docs explained when these hooks will be called, the arguments and the expected return value."),$.forEach(s),Ua=p(h),M=o(h,"P",{});var Ye=n(M);Wa=l(Ye,"In the docs, I found "),ye=o(Ye,"A",{href:!0,rel:!0});var Tn=n(ye);Me=o(Tn,"CODE",{class:!0});var Nn=n(Me);$a=l(Nn,"this.addWatchFile(id: string)"),Nn.forEach(s),Tn.forEach(s),qa=l(Ye," under "),ge=o(Ye,"A",{href:!0,rel:!0});var Mn=n(ge);La=l(Mn,"plugin context"),Mn.forEach(s),Ha=l(Ye,", which according to the docs,"),Ye.forEach(s),Ya=p(h),Nt=o(h,"BLOCKQUOTE",{});var Dn=n(Nt);Mt=o(Dn,"P",{});var Bn=n(Mt);za=l(Bn,"[...] can be used to add additional files to be monitored by watch mode."),Bn.forEach(s),Dn.forEach(s),Fa=p(h),Dt=o(h,"P",{});var Gn=n(Dt);Ka=l(Gn,"Sounds exactly what I am looking for! \u{1F601}"),Gn.forEach(s),Va=p(h),De=o(h,"DIV",{class:!0});var xr=n(De);xr.forEach(s),Qa=p(h),Bt=o(h,"P",{});var Un=n(Bt);Ja=l(Un,"Great! It works! \u{1F389}\u{1F389}"),Un.forEach(s),h.forEach(s),Zt=p(d),m=o(d,"SECTION",{});var _=n(m);Gt=o(_,"H2",{});var Wn=n(Gt);fe=o(Wn,"A",{href:!0,id:!0});var $n=n(fe);Za=l($n,"Closing Notes"),$n.forEach(s),Wn.forEach(s),Xa=p(_),Ut=o(_,"P",{});var qn=n(Ut);el=l(qn,'After some researching, I wrote simple rollup plugin in 12 lines of code, that copies the worker.js into "build/" folder.'),qn.forEach(s),tl=p(_),me=o(_,"P",{});var ko=n(me);ol=l(ko,"This is something custom and specific, and "),Wt=o(ko,"STRONG",{});var Ln=n(Wt);sl=l(Ln,"it works perfectly fine"),Ln.forEach(s),al=l(ko,"."),ko.forEach(s),ll=p(_),$t=o(_,"P",{});var Hn=n($t);nl=l(Hn,"So, why would I install a package that has so many files and dependencies, just to do a simple and specific task?"),Hn.forEach(s),rl=p(_),qt=o(_,"P",{});var Yn=n(qt);Lt=o(Yn,"STRONG",{});var zn=n(Lt);il=l(zn,"Am I going to publish my plugin to npm?"),zn.forEach(s),Yn.forEach(s),pl=p(_),Ht=o(_,"P",{});var Fn=n(Ht);cl=l(Fn,"No. If you have a similar use case, you are free to copy these 12 lines of code."),Fn.forEach(s),hl=p(_),_e=o(_,"P",{});var vo=n(_e);dl=l(vo,"At the moment, I am having these 12 lines of code in my "),Be=o(vo,"CODE",{class:!0});var Kn=n(Be);ul=l(Kn,"rollup.config.js"),Kn.forEach(s),kl=l(vo," and have no intention to extract it out into its own package."),vo.forEach(s),vl=p(_),Yt=o(_,"P",{});var Vn=n(Yt);zt=o(Vn,"STRONG",{});var Qn=n(zt);yl=l(Qn,"What about DRY? What if you/someone else have the same use case, wouldn't it great to have it as a package?"),Qn.forEach(s),Vn.forEach(s),gl=p(_),D=o(_,"P",{});var ze=n(D);fl=l(ze,"Sorry. No. Before "),Ft=o(ze,"STRONG",{});var Jn=n(Ft);ml=l(Jn,"DRY (Dont Repeat Yourself)"),Jn.forEach(s),_l=l(ze,", there's "),Kt=o(ze,"STRONG",{});var Zn=n(Kt);wl=l(Zn,"YAGNI (You aren't gonna need it)"),Zn.forEach(s),xl=l(ze,"."),ze.forEach(s),El=p(_),Vt=o(_,"P",{});var Xn=n(Vt);bl=l(Xn,"Abstract code only when you need to."),Xn.forEach(s),_.forEach(s),this.h()},h(){r(f,"href","#background"),r(f,"id","background"),r(L,"href","http://svelte.dev/"),r(L,"rel","nofollow"),r(H,"href","https://rollupjs.org/guide/en/"),r(H,"rel","nofollow"),r(Y,"href","https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers"),r(Y,"rel","nofollow"),r(Ee,"class","code-section"),r(F,"href","https://www.npmjs.com/package/rollup-plugin-livereload"),r(F,"rel","nofollow"),r(be,"class","code-section"),r(Ie,"class","inline"),r(Qe,"type","image/webp"),r(Qe,"srcset",Nr),r(Je,"type","image/png"),r(Je,"srcset",lr),yo(B.src,Sl=lr)||r(B,"src",Sl),r(B,"loading","lazy"),r(B,"alt","window reference error"),r(B,"title","window is not defined"),r(Q,"href","https://www.npmjs.com/package/rollup-plugin-livereload"),r(Q,"rel","nofollow"),r(J,"href","#need-something-install-a-plugin"),r(J,"id","need-something-install-a-plugin"),r(X,"href","https://www.google.com/search?q=rollup+plugin+copy+files"),r(X,"rel","nofollow"),r(lt,"type","image/webp"),r(lt,"srcset",Tr),r(nt,"type","image/png"),r(nt,"srcset",ar),yo(G.src,Pl=ar)||r(G,"src",Pl),r(G,"loading","lazy"),r(G,"alt","google search"),r(G,"title",'Google result for "rollup plugin copy files"'),r(pt,"type","image/webp"),r(pt,"srcset",Cr),r(ct,"type","image/png"),r(ct,"srcset",sr),yo(U.src,Ol=sr)||r(U,"src",Ol),r(U,"loading","lazy"),r(U,"alt","rollup-plugin-copy weekly downloads"),r(U,"title","17K weekly downloads"),r(ut,"type","image/webp"),r(ut,"srcset",Ar),r(kt,"type","image/png"),r(kt,"srcset",or),yo(se.src,Rl=or)||r(se,"src",Rl),r(se,"loading","lazy"),r(se,"alt","rollup-plugin-copy dependencies"),r(le,"href","#writing-a-rollup-plugin"),r(le,"id","writing-a-rollup-plugin"),r(Se,"class","inline"),r(re,"href","https://github.com/sveltejs/rollup-plugin-svelte"),r(re,"rel","nofollow"),r(ie,"href","https://github.com/rollup/rollup-plugin-node-resolve"),r(ie,"rel","nofollow"),r(pe,"href","https://github.com/TrySound/rollup-plugin-terser"),r(pe,"rel","nofollow"),r(Pe,"class","code-section"),r(Oe,"class","inline"),r(Re,"class","inline"),r(Ae,"class","code-section"),r(Ce,"class","inline"),r(Te,"class","inline"),r(Ne,"class","inline"),r(ke,"href","https://rollupjs.org/guide/en/#plugin-development"),r(ke,"rel","nofollow"),r(ve,"href","https://rollupjs.org/guide/en/#hooks"),r(ve,"rel","nofollow"),r(Me,"class","inline"),r(ye,"href","https://rollupjs.org/guide/en/#thisaddwatchfileid-string--void"),r(ye,"rel","nofollow"),r(ge,"href","https://rollupjs.org/guide/en/#plugin-context"),r(ge,"rel","nofollow"),r(De,"class","code-section"),r(fe,"href","#closing-notes"),r(fe,"id","closing-notes"),r(Be,"class","inline")},m(d,k){pr(g,d,k),q(d,x,k),q(d,u,k),e(u,S),e(S,f),e(f,E),e(u,xe),e(u,b),e(b,go),e(b,L),e(L,fo),e(b,mo),e(b,H),e(H,_o),e(b,wo),e(b,Y),e(Y,xo),e(b,Eo),e(u,bo),e(u,Ee),Ee.innerHTML=ur,e(u,Io),e(u,P),e(P,jo),e(P,Fe),e(Fe,So),e(P,Po),e(P,Ke),e(Ke,Oo),e(P,Ro),e(u,Ao),e(u,z),e(z,Co),e(z,F),e(F,To),e(z,No),e(u,Mo),e(u,be),be.innerHTML=kr,e(u,Do),e(u,K),e(K,Bo),e(K,Ie),e(Ie,Go),e(K,Uo),e(u,Wo),e(u,Ve),e(Ve,V),e(V,Qe),e(V,Je),e(V,B),e(u,$o),e(u,O),e(O,qo),e(O,Q),e(Q,Lo),e(O,Ho),e(O,Ze),e(Ze,Yo),e(O,zo),e(u,Fo),e(u,je),e(je,Ko),e(je,Xe),e(Xe,Vo),e(u,Qo),e(u,et),e(et,Jo),q(d,Qt,k),q(d,v,k),e(v,tt),e(tt,J),e(J,Zo),e(v,Xo),e(v,Z),e(Z,es),e(Z,ot),e(ot,ts),e(Z,os),e(v,ss),e(v,R),e(R,as),e(R,X),e(X,ls),e(R,ns),e(R,st),e(st,rs),e(R,is),e(v,ps),e(v,at),e(at,ee),e(ee,lt),e(ee,nt),e(ee,G),e(v,cs),e(v,rt),e(rt,hs),e(v,ds),e(v,it),e(it,te),e(te,pt),e(te,ct),e(te,U),e(v,us),e(v,ht),e(ht,ks),e(v,vs),e(v,dt),e(dt,oe),e(oe,ut),e(oe,kt),e(oe,se),e(v,ys),e(v,vt),e(vt,gs),e(v,fs),e(v,yt),e(yt,gt),e(gt,ft),e(ft,ms),e(v,_s),e(v,ae),e(ae,ws),e(ae,mt),e(mt,xs),e(ae,Es),e(v,bs),e(v,_t),e(_t,Is),e(v,js),e(v,wt),e(wt,A),e(A,Ss),e(A,xt),e(xt,Ps),e(A,Os),e(A,Et),e(Et,Rs),e(A,As),q(d,Jt,k),q(d,c,k),e(c,bt),e(bt,le),e(le,Cs),e(c,Ts),e(c,ne),e(ne,Ns),e(ne,It),e(It,Ms),e(ne,Ds),e(c,Bs),e(c,w),e(w,Gs),e(w,Se),e(Se,Us),e(w,Ws),e(w,re),e(re,$s),e(w,qs),e(w,ie),e(ie,Ls),e(w,Hs),e(w,pe),e(pe,Ys),e(w,zs),e(c,Fs),e(c,jt),e(jt,Ks),e(c,Vs),e(c,Pe),Pe.innerHTML=vr,e(c,Qs),e(c,St),e(St,Js),e(c,Zs),e(c,C),e(C,Pt),e(Pt,Xs),e(C,ea),e(C,ce),e(ce,ta),e(ce,Oe),e(Oe,oa),e(ce,sa),e(C,aa),e(C,T),e(T,la),e(T,Ot),e(Ot,na),e(T,ra),e(T,Rt),e(Rt,ia),e(T,pa),e(c,ca),e(c,he),e(he,ha),e(he,Re),e(Re,da),e(he,ua),e(c,ka),e(c,Ae),Ae.innerHTML=yr,e(c,va),e(c,At),e(At,ya),e(c,ga),e(c,N),e(N,fa),e(N,Ce),e(Ce,ma),e(N,_a),e(N,Te),e(Te,wa),e(N,xa),e(c,Ea),e(c,de),e(de,ba),e(de,Ne),e(Ne,Ia),e(de,ja),e(c,Sa),e(c,ue),e(ue,Pa),e(ue,ke),e(ke,Oa),e(ue,Ra),e(c,Aa),e(c,I),e(I,Ca),e(I,Ct),e(Ct,Ta),e(I,Na),e(I,Tt),e(Tt,Ma),e(I,Da),e(I,ve),e(ve,Ba),e(I,Ga),e(c,Ua),e(c,M),e(M,Wa),e(M,ye),e(ye,Me),e(Me,$a),e(M,qa),e(M,ge),e(ge,La),e(M,Ha),e(c,Ya),e(c,Nt),e(Nt,Mt),e(Mt,za),e(c,Fa),e(c,Dt),e(Dt,Ka),e(c,Va),e(c,De),De.innerHTML=gr,e(c,Qa),e(c,Bt),e(Bt,Ja),q(d,Zt,k),q(d,m,k),e(m,Gt),e(Gt,fe),e(fe,Za),e(m,Xa),e(m,Ut),e(Ut,el),e(m,tl),e(m,me),e(me,ol),e(me,Wt),e(Wt,sl),e(me,al),e(m,ll),e(m,$t),e($t,nl),e(m,rl),e(m,qt),e(qt,Lt),e(Lt,il),e(m,pl),e(m,Ht),e(Ht,cl),e(m,hl),e(m,_e),e(_e,dl),e(_e,Be),e(Be,ul),e(_e,kl),e(m,vl),e(m,Yt),e(Yt,zt),e(zt,yl),e(m,gl),e(m,D),e(D,fl),e(D,Ft),e(Ft,ml),e(D,_l),e(D,Kt),e(Kt,wl),e(D,xl),e(m,El),e(m,Vt),e(Vt,bl),Xt=!0},p:Pr,i(d){Xt||(cr(g.$$.fragment,d),Xt=!0)},o(d){hr(g.$$.fragment,d),Xt=!1},d(d){dr(g,d),d&&s(x),d&&s(u),d&&s(Qt),d&&s(v),d&&s(Jt),d&&s(c),d&&s(Zt),d&&s(m)}}}function Br(we){let g,x;const u=[we[0],nr];let S={$$slots:{default:[Dr]},$$scope:{ctx:we}};for(let f=0;f<u.length;f+=1)S=jl(S,u[f]);return g=new Or({props:S}),{c(){rr(g.$$.fragment)},l(f){ir(g.$$.fragment,f)},m(f,E){pr(g,f,E),x=!0},p(f,[E]){const xe=E&1?jr(u,[E&1&&er(f[0]),E&0&&er(nr)]):{};E&2&&(xe.$$scope={dirty:E,ctx:f}),g.$set(xe)},i(f){x||(cr(g.$$.fragment,f),x=!0)},o(f){hr(g.$$.fragment,f),x=!1},d(f){dr(g,f)}}}const nr={title:"I wrote a 12-line Rollup plugin",date:"2019-11-30T08:00:00Z",description:"Why would I install a package with so many files and dependencies, just to do a something simple that can be done in 12 lines of code?",tags:["JavaScript","rollup","plugin"],label:"blog"};function Gr(we,g,x){return Sr("blog",{image:Mr}),we.$$set=u=>{x(0,g=jl(jl({},g),tr(u)))},g=tr(g),[g]}class Yr extends Er{constructor(g){super();br(this,g,Gr,Br,Ir,{})}}export{Yr as default,nr as metadata};
