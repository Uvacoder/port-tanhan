import{S as Sr,i as Ar,s as Or,C as jl,w as dr,x as ur,y as kr,z as Tr,A as lr,q as vr,o as gr,B as yr,r as Rr,R as nr,k as i,e as t,t as a,m as p,c as s,a as n,h as l,d as o,b as r,Q as ds,f as v,g as K,F as e,O as Cr}from"../../chunks/vendor-569a3c5c.js";import{B as Nr}from"../../chunks/BlogLayout-17b76cb2.js";import{T as Mr}from"../../chunks/TableOfContent-dbc18cb8.js";import"../../chunks/stores-ee936cd4.js";import"../../chunks/WebMentions-968cc380.js";/* empty css                                */var Dr="/_app/assets/dependencies-122095c0.webp",Br="/_app/assets/dependencies-ea99ca83.webp",Gr="/_app/assets/dependencies-67af14bb.png",rr="/_app/assets/dependencies-fd8db9f4.png",Wr="/_app/assets/rollup-plugin-copy-usage-7126a1d5.webp",$r="/_app/assets/rollup-plugin-copy-usage-a2ee5817.webp",Ur="/_app/assets/rollup-plugin-copy-usage-c45f8a36.png",ir="/_app/assets/rollup-plugin-copy-usage-8a013c03.png",qr="/_app/assets/google-search-292b3432.webp",Lr="/_app/assets/google-search-4b643dd7.webp",Hr="/_app/assets/google-search-81a5a53a.png",pr="/_app/assets/google-search-4357d1f5.png",Yr="/_app/assets/window-reference-error-e6ae4618.webp",zr="/_app/assets/window-reference-error-6bc12ec2.webp",Fr="/_app/assets/window-reference-error-01ef33d0.png",cr="/_app/assets/window-reference-error-69625f9c.png",Kr="/_app/assets/hero-twitter-65a339c5.jpg";function Vr(xe){let f,j,u,R,_,S,Ee,A,us,V,ks,vs,Q,gs,ys,J,fs,_s,ms,be,fr='<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">worker</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">new</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)">Worker</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">);</span></span></code></pre>',ws,C,xs,Ze,Es,bs,Xe,Is,Ps,js,Z,Ss,X,As,Os,Ts,Ie,_r=`<div class="filename">/build/worker.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(l</span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> r) &#123; </span><span style="color: var(--shiki-token-keyword)">if</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.getElementById</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;livereloadscript&#39;</span><span style="color: var(--shiki-color-text)">)) </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)">; r </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.createElement</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;script&#39;</span><span style="color: var(--shiki-color-text)">); </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.async </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">1</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.src </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;//&#39;</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> (</span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">location</span><span style="color: var(--shiki-color-text)">.host </span><span style="color: var(--shiki-token-keyword)">||</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;localhost&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-function)">.split</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;:&#39;</span><span style="color: var(--shiki-color-text)">)[</span><span style="color: var(--shiki-token-constant)">0</span><span style="color: var(--shiki-color-text)">] </span><span style="color: var(--shiki-token-keyword)">+</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;:35729/livereload.js?snipver=1&#39;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">r</span><span style="color: var(--shiki-color-text)">.id </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;livereloadscript&#39;</span><span style="color: var(--shiki-color-text)">; </span><span style="color: var(--shiki-token-constant)">l</span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)">head</span><span style="color: var(--shiki-token-function)">.appendChild</span><span style="color: var(--shiki-color-text)">(r) &#125;)(</span><span style="color: var(--shiki-token-constant)">window</span><span style="color: var(--shiki-color-text)">.document);</span></span>
<span class="line"></span>
<span class="line"><span style="color: var(--shiki-token-comment)">// worker code ...</span></span></code></pre>`,Rs,ee,Cs,Pe,Ns,Ms,Ds,et,N,je,tt,x,Sl,Bs,M,Gs,te,Ws,$s,st,Us,qs,Ls,Se,Hs,ot,Ys,zs,at,Fs,Jt,g,lt,se,Ks,Vs,oe,Qs,nt,Js,Zs,Xs,D,eo,ae,to,so,rt,oo,ao,lo,it,B,Ae,pt,E,Al,no,ct,ro,io,ht,G,Oe,dt,b,Ol,po,ut,co,ho,kt,W,Te,vt,P,Tl,uo,gt,ko,vo,yt,ft,_t,go,yo,le,fo,mt,_o,mo,wo,wt,xo,Eo,xt,$,bo,Et,Io,Po,bt,jo,So,Zt,c,It,ne,Ao,Oo,re,To,Pt,Ro,Co,No,I,Mo,Re,Do,Bo,ie,Go,Wo,pe,$o,Uo,ce,qo,Lo,Ho,jt,Yo,zo,Ce,mr=`<div class="filename">rollup-plugin-xxx.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line"><span style="color: var(--shiki-token-constant)">module</span><span style="color: var(--shiki-color-text)">.</span><span style="color: var(--shiki-token-constant)">exports</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">function</span><span style="color: var(--shiki-color-text)">(options) &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  </span><span style="color: var(--shiki-token-keyword)">return</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;plugin-name&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">load</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">resolveId</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123; </span><span style="color: var(--shiki-token-comment)">/* ... */</span><span style="color: var(--shiki-color-text)"> &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">  &#125;</span></span>
<span class="line"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Fo,St,Ko,Vo,U,At,Qo,Jo,he,Zo,Ne,Xo,ea,ta,q,sa,Ot,oa,aa,Tt,la,na,ra,de,ia,Me,pa,ca,ha,De,wr=`<div class="filename">rollup.config.js</div><pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line dim"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">    &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;copy-worker&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">fs</span><span style="color: var(--shiki-token-function)">.copyFileSync</span><span style="color: var(--shiki-color-text)">(</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./public/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        );</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      &#125;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  ]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,da,Rt,ua,ka,L,va,Be,ga,ya,Ge,fa,_a,ma,ue,wa,We,xa,Ea,ba,ke,Ia,ve,Pa,ja,Sa,O,Aa,Ct,Oa,Ta,Nt,Ra,Ca,ge,Na,Ma,Da,H,Ba,ye,$e,Ga,Wa,fe,$a,Ua,qa,Mt,Dt,La,Ha,Bt,Ya,za,Ue,xr=`<pre class="shiki" style="background-color: var(--shiki-color-background)"><code><span class="line dim"><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  plugins</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    </span><span style="color: var(--shiki-token-comment)">// ...</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      name</span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&#39;copy-worker&#39;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">load</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">this</span><span style="color: var(--shiki-token-function)">.addWatchFile</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">));</span></span>
<span class="line highlight"><span style="color: var(--shiki-color-text)">      &#125;</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      </span><span style="color: var(--shiki-token-function)">generateBundle</span><span style="color: var(--shiki-color-text)">() &#123;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">        </span><span style="color: var(--shiki-token-constant)">fs</span><span style="color: var(--shiki-token-function)">.copyFileSync</span><span style="color: var(--shiki-color-text)">(</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./src/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">          </span><span style="color: var(--shiki-token-constant)">path</span><span style="color: var(--shiki-token-function)">.resolve</span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">&#39;./public/build/worker.js&#39;</span><span style="color: var(--shiki-color-text)">)</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">        );</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">      &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">    &#125;</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">  ]</span><span style="color: var(--shiki-token-punctuation)">,</span></span>
<span class="line dim"><span style="color: var(--shiki-color-text)">&#125;</span></span></code></pre>`,Fa,Gt,Ka,Xt,m,Wt,_e,Va,Qa,$t,Ja,Za,me,Xa,Ut,el,tl,sl,qt,ol,al,Lt,Ht,ll,nl,Yt,rl,il,we,pl,qe,cl,hl,dl,zt,Ft,ul,kl,Y,vl,Kt,gl,yl,Vt,fl,_l,ml,Qt,wl,es;return f=new Mr({props:{data:[{link:"background",title:"Background"},{link:"need-something-install-a-plugin",title:"Need something? Install a plugin!"},{link:"writing-a-rollup-plugin",title:"Writing a Rollup plugin"},{link:"closing-notes",title:"Closing Notes"}]}}),{c(){dr(f.$$.fragment),j=i(),u=t("section"),R=t("h2"),_=t("a"),S=a("Background"),Ee=i(),A=t("p"),us=a("I was building a web application using "),V=t("a"),ks=a("Svelte"),vs=a(" and "),Q=t("a"),gs=a("Rollup"),ys=a(" this morning. I needed to use a "),J=t("a"),fs=a("web worker"),_s=a(", which the worker script has to be in another file:"),ms=i(),be=t("div"),ws=i(),C=t("p"),xs=a("So naturally, I was thinking of having 2 entries for my rollup application: "),Ze=t("em"),Es=a("the main app"),bs=a(" and "),Xe=t("em"),Is=a("the worker"),Ps=a("."),js=i(),Z=t("p"),Ss=a("It works fine, except the fact that the "),X=t("a"),As=a("rollup-plugin-livereload"),Os=a(" injected a livereload script to every output file:"),Ts=i(),Ie=t("div"),Rs=i(),ee=t("p"),Cs=a("The livereload script includes a reference to "),Pe=t("code"),Ns=a("window"),Ms=a(", which is not available to the worker script:"),Ds=i(),et=t("p"),N=t("span"),je=t("picture"),tt=t("source"),x=t("img"),Bs=i(),M=t("p"),Gs=a("I looked into "),te=t("a"),Ws=a("the docs of the rollup-plugin-livereload"),$s=a(", it doesn't seemed to have a option to exclude files from adding the "),st=t("em"),Us=a("livereload script"),qs=a("."),Ls=i(),Se=t("p"),Hs=a("At this point, I was thinking to myself, "),ot=t("em"),Ys=a(`"I just need to copy the worker.js into the 'build/' folder, I don't need anything else, how hard can that be?"`),zs=i(),at=t("p"),Fs=a("It turns out harder than I imagined. \u{1F92E}"),Jt=i(),g=t("section"),lt=t("h2"),se=t("a"),Ks=a("Need something? Install a plugin!"),Vs=i(),oe=t("p"),Qs=a("In todays JavaScript landscape, there's a "),nt=t("em"),Js=a('"node_module"'),Zs=a(" for everything."),Xs=i(),D=t("p"),eo=a("So I "),ae=t("a"),to=a("googled"),so=i(),rt=t("em"),oo=a('"rollup plugin copy files"'),ao=a(", without a suprise, there are multiple rollup plugins published to npm:"),lo=i(),it=t("p"),B=t("span"),Ae=t("picture"),pt=t("source"),E=t("img"),no=i(),ct=t("p"),ro=a("So I decided to install the first plugin, because it has the highest weekly downloads:"),io=i(),ht=t("p"),G=t("span"),Oe=t("picture"),dt=t("source"),b=t("img"),po=i(),ut=t("p"),co=a("When I installed the plugin, I realise I was installing much more than I needed:"),ho=i(),kt=t("p"),W=t("span"),Te=t("picture"),vt=t("source"),P=t("img"),uo=i(),gt=t("p"),ko=a("Remember, my use case is simple:"),vo=i(),yt=t("blockquote"),ft=t("p"),_t=t("strong"),go=a("I just need to copy the worker.js into the 'build/' folder."),yo=i(),le=t("p"),fo=a("I "),mt=t("em"),_o=a("don't need any bells and whistles"),mo=a(" this plugin is providing me. \u{1F648}"),wo=i(),wt=t("p"),xo=a("So I uninstalled the plugin, thinking:"),Eo=i(),xt=t("blockquote"),$=t("p"),bo=a("How hard is it to "),Et=t("strong"),Io=a("write a plugin"),Po=a(" that "),bt=t("strong"),jo=a("just"),So=a(" copy the worker.js into the 'build/' folder?"),Zt=i(),c=t("section"),It=t("h2"),ne=t("a"),Ao=a("Writing a Rollup plugin"),Oo=i(),re=t("p"),To=a("Senpai once told me, "),Pt=t("em"),Ro=a('"writing rollup plugins is very straightforward,"'),Co=a(", yet, no one told me how to get started writing it."),No=i(),I=t("p"),Mo=a("So, I dug into "),Re=t("code"),Do=a("node_modules/"),Bo=a(", and start skimming through the rollup plugins I have installed: "),ie=t("a"),Go=a("rollup-plugin-svelte"),Wo=a(", "),pe=t("a"),$o=a("rollup-plugin-node-resolve"),Uo=a(", "),ce=t("a"),qo=a("rollup-plugin-terser"),Lo=a(", ..."),Ho=i(),jt=t("p"),Yo=a("And I noticed a common pattern:"),zo=i(),Ce=t("div"),Fo=i(),St=t("p"),Ko=a("So I guess, this is the general structure of a rollup plugin:"),Vo=i(),U=t("ul"),At=t("li"),Qo=a("It's an object, ..."),Jo=i(),he=t("li"),Zo=a("with a property called "),Ne=t("code"),Xo=a("name"),ea=a(" for the name of the plugin,"),ta=i(),q=t("li"),sa=a("and functions like "),Ot=t("em"),oa=a('"load"'),aa=a(", "),Tt=t("em"),la=a('"load"'),na=a(", ... that would be called by rollup when the time is right \u{1F914}"),ra=i(),de=t("p"),ia=a("OK. I know what I need, I need to copy my "),Me=t("code"),pa=a("worker.js"),ca=a(" when rollup is generating a bundle:"),ha=i(),De=t("div"),da=i(),Rt=t("p"),ua=a("Great! It works! \u{1F60E}"),ka=i(),L=t("p"),va=a("But, when I change the "),Be=t("code"),ga=a("worker.js"),ya=a(" file, the "),Ge=t("code"),fa=a("build/worker.js"),_a=a(" is not updated. \u{1F61E}"),ma=i(),ue=t("p"),wa=a("That's because the "),We=t("code"),xa=a("worker.js"),Ea=a(" is not watched!"),ba=i(),ke=t("p"),Ia=a("After much googling, I ended up reading through the official docs of "),ve=t("a"),Pa=a("Rollup"),ja=a("."),Sa=i(),O=t("p"),Aa=a("I learned that the functions like "),Ct=t("em"),Oa=a('"load"'),Ta=a(", "),Nt=t("em"),Ra=a('"generateBundle"'),Ca=a(", ... are called "),ge=t("a"),Na=a('"hooks"'),Ma=a(", and the docs explained when these hooks will be called, the arguments and the expected return value."),Da=i(),H=t("p"),Ba=a("In the docs, I found "),ye=t("a"),$e=t("code"),Ga=a("this.addWatchFile(id: string)"),Wa=a(" under "),fe=t("a"),$a=a("plugin context"),Ua=a(", which according to the docs,"),qa=i(),Mt=t("blockquote"),Dt=t("p"),La=a("[...] can be used to add additional files to be monitored by watch mode."),Ha=i(),Bt=t("p"),Ya=a("Sounds exactly what I am looking for! \u{1F601}"),za=i(),Ue=t("div"),Fa=i(),Gt=t("p"),Ka=a("Great! It works! \u{1F389}\u{1F389}"),Xt=i(),m=t("section"),Wt=t("h2"),_e=t("a"),Va=a("Closing Notes"),Qa=i(),$t=t("p"),Ja=a('After some researching, I wrote simple rollup plugin in 12 lines of code, that copies the worker.js into "build/" folder.'),Za=i(),me=t("p"),Xa=a("This is something custom and specific, and "),Ut=t("strong"),el=a("it works perfectly fine"),tl=a("."),sl=i(),qt=t("p"),ol=a("So, why would I install a package that has so many files and dependencies, just to do a simple and specific task?"),al=i(),Lt=t("p"),Ht=t("strong"),ll=a("Am I going to publish my plugin to npm?"),nl=i(),Yt=t("p"),rl=a("No. If you have a similar use case, you are free to copy these 12 lines of code."),il=i(),we=t("p"),pl=a("At the moment, I am having these 12 lines of code in my "),qe=t("code"),cl=a("rollup.config.js"),hl=a(" and have no intention to extract it out into its own package."),dl=i(),zt=t("p"),Ft=t("strong"),ul=a("What about DRY? What if you/someone else have the same use case, wouldn't it great to have it as a package?"),kl=i(),Y=t("p"),vl=a("Sorry. No. Before "),Kt=t("strong"),gl=a("DRY (Dont Repeat Yourself)"),yl=a(", there's "),Vt=t("strong"),fl=a("YAGNI (You aren't gonna need it)"),_l=a("."),ml=i(),Qt=t("p"),wl=a("Abstract code only when you need to."),this.h()},l(d){ur(f.$$.fragment,d),j=p(d),u=s(d,"SECTION",{});var k=n(u);R=s(k,"H2",{});var Rl=n(R);_=s(Rl,"A",{href:!0,id:!0});var Cl=n(_);S=l(Cl,"Background"),Cl.forEach(o),Rl.forEach(o),Ee=p(k),A=s(k,"P",{});var z=n(A);us=l(z,"I was building a web application using "),V=s(z,"A",{href:!0,rel:!0});var Nl=n(V);ks=l(Nl,"Svelte"),Nl.forEach(o),vs=l(z," and "),Q=s(z,"A",{href:!0,rel:!0});var Ml=n(Q);gs=l(Ml,"Rollup"),Ml.forEach(o),ys=l(z," this morning. I needed to use a "),J=s(z,"A",{href:!0,rel:!0});var Dl=n(J);fs=l(Dl,"web worker"),Dl.forEach(o),_s=l(z,", which the worker script has to be in another file:"),z.forEach(o),ms=p(k),be=s(k,"DIV",{class:!0});var Er=n(be);Er.forEach(o),ws=p(k),C=s(k,"P",{});var Le=n(C);xs=l(Le,"So naturally, I was thinking of having 2 entries for my rollup application: "),Ze=s(Le,"EM",{});var Bl=n(Ze);Es=l(Bl,"the main app"),Bl.forEach(o),bs=l(Le," and "),Xe=s(Le,"EM",{});var Gl=n(Xe);Is=l(Gl,"the worker"),Gl.forEach(o),Ps=l(Le,"."),Le.forEach(o),js=p(k),Z=s(k,"P",{});var ts=n(Z);Ss=l(ts,"It works fine, except the fact that the "),X=s(ts,"A",{href:!0,rel:!0});var Wl=n(X);As=l(Wl,"rollup-plugin-livereload"),Wl.forEach(o),Os=l(ts," injected a livereload script to every output file:"),ts.forEach(o),Ts=p(k),Ie=s(k,"DIV",{class:!0});var br=n(Ie);br.forEach(o),Rs=p(k),ee=s(k,"P",{});var ss=n(ee);Cs=l(ss,"The livereload script includes a reference to "),Pe=s(ss,"CODE",{class:!0});var $l=n(Pe);Ns=l($l,"window"),$l.forEach(o),Ms=l(ss,", which is not available to the worker script:"),ss.forEach(o),Ds=p(k),et=s(k,"P",{});var Ul=n(et);N=s(Ul,"SPAN",{style:!0});var ql=n(N);je=s(ql,"PICTURE",{});var xl=n(je);tt=s(xl,"SOURCE",{type:!0,srcset:!0}),x=s(xl,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),xl.forEach(o),ql.forEach(o),Ul.forEach(o),Bs=p(k),M=s(k,"P",{});var He=n(M);Gs=l(He,"I looked into "),te=s(He,"A",{href:!0,rel:!0});var Ll=n(te);Ws=l(Ll,"the docs of the rollup-plugin-livereload"),Ll.forEach(o),$s=l(He,", it doesn't seemed to have a option to exclude files from adding the "),st=s(He,"EM",{});var Hl=n(st);Us=l(Hl,"livereload script"),Hl.forEach(o),qs=l(He,"."),He.forEach(o),Ls=p(k),Se=s(k,"P",{});var El=n(Se);Hs=l(El,"At this point, I was thinking to myself, "),ot=s(El,"EM",{});var Yl=n(ot);Ys=l(Yl,`"I just need to copy the worker.js into the 'build/' folder, I don't need anything else, how hard can that be?"`),Yl.forEach(o),El.forEach(o),zs=p(k),at=s(k,"P",{});var zl=n(at);Fs=l(zl,"It turns out harder than I imagined. \u{1F92E}"),zl.forEach(o),k.forEach(o),Jt=p(d),g=s(d,"SECTION",{});var y=n(g);lt=s(y,"H2",{});var Fl=n(lt);se=s(Fl,"A",{href:!0,id:!0});var Kl=n(se);Ks=l(Kl,"Need something? Install a plugin!"),Kl.forEach(o),Fl.forEach(o),Vs=p(y),oe=s(y,"P",{});var os=n(oe);Qs=l(os,"In todays JavaScript landscape, there's a "),nt=s(os,"EM",{});var Vl=n(nt);Js=l(Vl,'"node_module"'),Vl.forEach(o),Zs=l(os," for everything."),os.forEach(o),Xs=p(y),D=s(y,"P",{});var Ye=n(D);eo=l(Ye,"So I "),ae=s(Ye,"A",{href:!0,rel:!0});var Ql=n(ae);to=l(Ql,"googled"),Ql.forEach(o),so=p(Ye),rt=s(Ye,"EM",{});var Jl=n(rt);oo=l(Jl,'"rollup plugin copy files"'),Jl.forEach(o),ao=l(Ye,", without a suprise, there are multiple rollup plugins published to npm:"),Ye.forEach(o),lo=p(y),it=s(y,"P",{});var Zl=n(it);B=s(Zl,"SPAN",{style:!0});var Xl=n(B);Ae=s(Xl,"PICTURE",{});var bl=n(Ae);pt=s(bl,"SOURCE",{type:!0,srcset:!0}),E=s(bl,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),bl.forEach(o),Xl.forEach(o),Zl.forEach(o),no=p(y),ct=s(y,"P",{});var en=n(ct);ro=l(en,"So I decided to install the first plugin, because it has the highest weekly downloads:"),en.forEach(o),io=p(y),ht=s(y,"P",{});var tn=n(ht);G=s(tn,"SPAN",{style:!0});var sn=n(G);Oe=s(sn,"PICTURE",{});var Il=n(Oe);dt=s(Il,"SOURCE",{type:!0,srcset:!0}),b=s(Il,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0,title:!0}),Il.forEach(o),sn.forEach(o),tn.forEach(o),po=p(y),ut=s(y,"P",{});var on=n(ut);co=l(on,"When I installed the plugin, I realise I was installing much more than I needed:"),on.forEach(o),ho=p(y),kt=s(y,"P",{});var an=n(kt);W=s(an,"SPAN",{style:!0});var ln=n(W);Te=s(ln,"PICTURE",{});var Pl=n(Te);vt=s(Pl,"SOURCE",{type:!0,srcset:!0}),P=s(Pl,"IMG",{src:!0,srcset:!0,loading:!0,style:!0,alt:!0}),Pl.forEach(o),ln.forEach(o),an.forEach(o),uo=p(y),gt=s(y,"P",{});var nn=n(gt);ko=l(nn,"Remember, my use case is simple:"),nn.forEach(o),vo=p(y),yt=s(y,"BLOCKQUOTE",{});var rn=n(yt);ft=s(rn,"P",{});var pn=n(ft);_t=s(pn,"STRONG",{});var cn=n(_t);go=l(cn,"I just need to copy the worker.js into the 'build/' folder."),cn.forEach(o),pn.forEach(o),rn.forEach(o),yo=p(y),le=s(y,"P",{});var as=n(le);fo=l(as,"I "),mt=s(as,"EM",{});var hn=n(mt);_o=l(hn,"don't need any bells and whistles"),hn.forEach(o),mo=l(as," this plugin is providing me. \u{1F648}"),as.forEach(o),wo=p(y),wt=s(y,"P",{});var dn=n(wt);xo=l(dn,"So I uninstalled the plugin, thinking:"),dn.forEach(o),Eo=p(y),xt=s(y,"BLOCKQUOTE",{});var un=n(xt);$=s(un,"P",{});var ze=n($);bo=l(ze,"How hard is it to "),Et=s(ze,"STRONG",{});var kn=n(Et);Io=l(kn,"write a plugin"),kn.forEach(o),Po=l(ze," that "),bt=s(ze,"STRONG",{});var vn=n(bt);jo=l(vn,"just"),vn.forEach(o),So=l(ze," copy the worker.js into the 'build/' folder?"),ze.forEach(o),un.forEach(o),y.forEach(o),Zt=p(d),c=s(d,"SECTION",{});var h=n(c);It=s(h,"H2",{});var gn=n(It);ne=s(gn,"A",{href:!0,id:!0});var yn=n(ne);Ao=l(yn,"Writing a Rollup plugin"),yn.forEach(o),gn.forEach(o),Oo=p(h),re=s(h,"P",{});var ls=n(re);To=l(ls,"Senpai once told me, "),Pt=s(ls,"EM",{});var fn=n(Pt);Ro=l(fn,'"writing rollup plugins is very straightforward,"'),fn.forEach(o),Co=l(ls,", yet, no one told me how to get started writing it."),ls.forEach(o),No=p(h),I=s(h,"P",{});var T=n(I);Mo=l(T,"So, I dug into "),Re=s(T,"CODE",{class:!0});var _n=n(Re);Do=l(_n,"node_modules/"),_n.forEach(o),Bo=l(T,", and start skimming through the rollup plugins I have installed: "),ie=s(T,"A",{href:!0,rel:!0});var mn=n(ie);Go=l(mn,"rollup-plugin-svelte"),mn.forEach(o),Wo=l(T,", "),pe=s(T,"A",{href:!0,rel:!0});var wn=n(pe);$o=l(wn,"rollup-plugin-node-resolve"),wn.forEach(o),Uo=l(T,", "),ce=s(T,"A",{href:!0,rel:!0});var xn=n(ce);qo=l(xn,"rollup-plugin-terser"),xn.forEach(o),Lo=l(T,", ..."),T.forEach(o),Ho=p(h),jt=s(h,"P",{});var En=n(jt);Yo=l(En,"And I noticed a common pattern:"),En.forEach(o),zo=p(h),Ce=s(h,"DIV",{class:!0});var Ir=n(Ce);Ir.forEach(o),Fo=p(h),St=s(h,"P",{});var bn=n(St);Ko=l(bn,"So I guess, this is the general structure of a rollup plugin:"),bn.forEach(o),Vo=p(h),U=s(h,"UL",{});var Fe=n(U);At=s(Fe,"LI",{});var In=n(At);Qo=l(In,"It's an object, ..."),In.forEach(o),Jo=p(Fe),he=s(Fe,"LI",{});var ns=n(he);Zo=l(ns,"with a property called "),Ne=s(ns,"CODE",{class:!0});var Pn=n(Ne);Xo=l(Pn,"name"),Pn.forEach(o),ea=l(ns," for the name of the plugin,"),ns.forEach(o),ta=p(Fe),q=s(Fe,"LI",{});var Ke=n(q);sa=l(Ke,"and functions like "),Ot=s(Ke,"EM",{});var jn=n(Ot);oa=l(jn,'"load"'),jn.forEach(o),aa=l(Ke,", "),Tt=s(Ke,"EM",{});var Sn=n(Tt);la=l(Sn,'"load"'),Sn.forEach(o),na=l(Ke,", ... that would be called by rollup when the time is right \u{1F914}"),Ke.forEach(o),Fe.forEach(o),ra=p(h),de=s(h,"P",{});var rs=n(de);ia=l(rs,"OK. I know what I need, I need to copy my "),Me=s(rs,"CODE",{class:!0});var An=n(Me);pa=l(An,"worker.js"),An.forEach(o),ca=l(rs," when rollup is generating a bundle:"),rs.forEach(o),ha=p(h),De=s(h,"DIV",{class:!0});var Pr=n(De);Pr.forEach(o),da=p(h),Rt=s(h,"P",{});var On=n(Rt);ua=l(On,"Great! It works! \u{1F60E}"),On.forEach(o),ka=p(h),L=s(h,"P",{});var Ve=n(L);va=l(Ve,"But, when I change the "),Be=s(Ve,"CODE",{class:!0});var Tn=n(Be);ga=l(Tn,"worker.js"),Tn.forEach(o),ya=l(Ve," file, the "),Ge=s(Ve,"CODE",{class:!0});var Rn=n(Ge);fa=l(Rn,"build/worker.js"),Rn.forEach(o),_a=l(Ve," is not updated. \u{1F61E}"),Ve.forEach(o),ma=p(h),ue=s(h,"P",{});var is=n(ue);wa=l(is,"That's because the "),We=s(is,"CODE",{class:!0});var Cn=n(We);xa=l(Cn,"worker.js"),Cn.forEach(o),Ea=l(is," is not watched!"),is.forEach(o),ba=p(h),ke=s(h,"P",{});var ps=n(ke);Ia=l(ps,"After much googling, I ended up reading through the official docs of "),ve=s(ps,"A",{href:!0,rel:!0});var Nn=n(ve);Pa=l(Nn,"Rollup"),Nn.forEach(o),ja=l(ps,"."),ps.forEach(o),Sa=p(h),O=s(h,"P",{});var F=n(O);Aa=l(F,"I learned that the functions like "),Ct=s(F,"EM",{});var Mn=n(Ct);Oa=l(Mn,'"load"'),Mn.forEach(o),Ta=l(F,", "),Nt=s(F,"EM",{});var Dn=n(Nt);Ra=l(Dn,'"generateBundle"'),Dn.forEach(o),Ca=l(F,", ... are called "),ge=s(F,"A",{href:!0,rel:!0});var Bn=n(ge);Na=l(Bn,'"hooks"'),Bn.forEach(o),Ma=l(F,", and the docs explained when these hooks will be called, the arguments and the expected return value."),F.forEach(o),Da=p(h),H=s(h,"P",{});var Qe=n(H);Ba=l(Qe,"In the docs, I found "),ye=s(Qe,"A",{href:!0,rel:!0});var Gn=n(ye);$e=s(Gn,"CODE",{class:!0});var Wn=n($e);Ga=l(Wn,"this.addWatchFile(id: string)"),Wn.forEach(o),Gn.forEach(o),Wa=l(Qe," under "),fe=s(Qe,"A",{href:!0,rel:!0});var $n=n(fe);$a=l($n,"plugin context"),$n.forEach(o),Ua=l(Qe,", which according to the docs,"),Qe.forEach(o),qa=p(h),Mt=s(h,"BLOCKQUOTE",{});var Un=n(Mt);Dt=s(Un,"P",{});var qn=n(Dt);La=l(qn,"[...] can be used to add additional files to be monitored by watch mode."),qn.forEach(o),Un.forEach(o),Ha=p(h),Bt=s(h,"P",{});var Ln=n(Bt);Ya=l(Ln,"Sounds exactly what I am looking for! \u{1F601}"),Ln.forEach(o),za=p(h),Ue=s(h,"DIV",{class:!0});var jr=n(Ue);jr.forEach(o),Fa=p(h),Gt=s(h,"P",{});var Hn=n(Gt);Ka=l(Hn,"Great! It works! \u{1F389}\u{1F389}"),Hn.forEach(o),h.forEach(o),Xt=p(d),m=s(d,"SECTION",{});var w=n(m);Wt=s(w,"H2",{});var Yn=n(Wt);_e=s(Yn,"A",{href:!0,id:!0});var zn=n(_e);Va=l(zn,"Closing Notes"),zn.forEach(o),Yn.forEach(o),Qa=p(w),$t=s(w,"P",{});var Fn=n($t);Ja=l(Fn,'After some researching, I wrote simple rollup plugin in 12 lines of code, that copies the worker.js into "build/" folder.'),Fn.forEach(o),Za=p(w),me=s(w,"P",{});var cs=n(me);Xa=l(cs,"This is something custom and specific, and "),Ut=s(cs,"STRONG",{});var Kn=n(Ut);el=l(Kn,"it works perfectly fine"),Kn.forEach(o),tl=l(cs,"."),cs.forEach(o),sl=p(w),qt=s(w,"P",{});var Vn=n(qt);ol=l(Vn,"So, why would I install a package that has so many files and dependencies, just to do a simple and specific task?"),Vn.forEach(o),al=p(w),Lt=s(w,"P",{});var Qn=n(Lt);Ht=s(Qn,"STRONG",{});var Jn=n(Ht);ll=l(Jn,"Am I going to publish my plugin to npm?"),Jn.forEach(o),Qn.forEach(o),nl=p(w),Yt=s(w,"P",{});var Zn=n(Yt);rl=l(Zn,"No. If you have a similar use case, you are free to copy these 12 lines of code."),Zn.forEach(o),il=p(w),we=s(w,"P",{});var hs=n(we);pl=l(hs,"At the moment, I am having these 12 lines of code in my "),qe=s(hs,"CODE",{class:!0});var Xn=n(qe);cl=l(Xn,"rollup.config.js"),Xn.forEach(o),hl=l(hs," and have no intention to extract it out into its own package."),hs.forEach(o),dl=p(w),zt=s(w,"P",{});var er=n(zt);Ft=s(er,"STRONG",{});var tr=n(Ft);ul=l(tr,"What about DRY? What if you/someone else have the same use case, wouldn't it great to have it as a package?"),tr.forEach(o),er.forEach(o),kl=p(w),Y=s(w,"P",{});var Je=n(Y);vl=l(Je,"Sorry. No. Before "),Kt=s(Je,"STRONG",{});var sr=n(Kt);gl=l(sr,"DRY (Dont Repeat Yourself)"),sr.forEach(o),yl=l(Je,", there's "),Vt=s(Je,"STRONG",{});var or=n(Vt);fl=l(or,"YAGNI (You aren't gonna need it)"),or.forEach(o),_l=l(Je,"."),Je.forEach(o),ml=p(w),Qt=s(w,"P",{});var ar=n(Qt);wl=l(ar,"Abstract code only when you need to."),ar.forEach(o),w.forEach(o),this.h()},h(){r(_,"href","#background"),r(_,"id","background"),r(V,"href","http://svelte.dev/"),r(V,"rel","nofollow"),r(Q,"href","https://rollupjs.org/guide/en/"),r(Q,"rel","nofollow"),r(J,"href","https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Using_web_workers"),r(J,"rel","nofollow"),r(be,"class","code-section"),r(X,"href","https://www.npmjs.com/package/rollup-plugin-livereload"),r(X,"rel","nofollow"),r(Ie,"class","code-section"),r(Pe,"class","inline"),r(tt,"type","image/webp"),r(tt,"srcset",zr+", "+Yr+" 2x"),ds(x.src,Sl=cr)||r(x,"src",Sl),r(x,"srcset",cr+", "+Fr+" 2x"),r(x,"loading","lazy"),v(x,"position","absolute"),v(x,"top","0"),v(x,"width","100%"),v(x,"height","100%"),r(x,"alt","window reference error"),r(x,"title","window is not defined"),v(N,"display","block"),v(N,"position","relative"),v(N,"padding-top","10.306%"),v(N,"width","100%"),r(te,"href","https://www.npmjs.com/package/rollup-plugin-livereload"),r(te,"rel","nofollow"),r(se,"href","#need-something-install-a-plugin"),r(se,"id","need-something-install-a-plugin"),r(ae,"href","https://www.google.com/search?q=rollup+plugin+copy+files"),r(ae,"rel","nofollow"),r(pt,"type","image/webp"),r(pt,"srcset",Lr+", "+qr+" 2x"),ds(E.src,Al=pr)||r(E,"src",Al),r(E,"srcset",pr+", "+Hr+" 2x"),r(E,"loading","lazy"),v(E,"position","absolute"),v(E,"top","0"),v(E,"width","100%"),v(E,"height","100%"),r(E,"alt","google search"),r(E,"title",'Google result for "rollup plugin copy files"'),v(B,"display","block"),v(B,"position","relative"),v(B,"padding-top","76.068%"),v(B,"width","100%"),r(dt,"type","image/webp"),r(dt,"srcset",$r+", "+Wr+" 2x"),ds(b.src,Ol=ir)||r(b,"src",Ol),r(b,"srcset",ir+", "+Ur+" 2x"),r(b,"loading","lazy"),v(b,"position","absolute"),v(b,"top","0"),v(b,"width","100%"),v(b,"height","100%"),r(b,"alt","rollup-plugin-copy weekly downloads"),r(b,"title","17K weekly downloads"),v(G,"display","block"),v(G,"position","relative"),v(G,"padding-top","132.234%"),v(G,"width","100%"),r(vt,"type","image/webp"),r(vt,"srcset",Br+", "+Dr+" 2x"),ds(P.src,Tl=rr)||r(P,"src",Tl),r(P,"srcset",rr+", "+Gr+" 2x"),r(P,"loading","lazy"),v(P,"position","absolute"),v(P,"top","0"),v(P,"width","100%"),v(P,"height","100%"),r(P,"alt","rollup-plugin-copy dependencies"),v(W,"display","block"),v(W,"position","relative"),v(W,"padding-top","161.983%"),v(W,"width","100%"),r(ne,"href","#writing-a-rollup-plugin"),r(ne,"id","writing-a-rollup-plugin"),r(Re,"class","inline"),r(ie,"href","https://github.com/sveltejs/rollup-plugin-svelte"),r(ie,"rel","nofollow"),r(pe,"href","https://github.com/rollup/rollup-plugin-node-resolve"),r(pe,"rel","nofollow"),r(ce,"href","https://github.com/TrySound/rollup-plugin-terser"),r(ce,"rel","nofollow"),r(Ce,"class","code-section"),r(Ne,"class","inline"),r(Me,"class","inline"),r(De,"class","code-section"),r(Be,"class","inline"),r(Ge,"class","inline"),r(We,"class","inline"),r(ve,"href","https://rollupjs.org/guide/en/#plugin-development"),r(ve,"rel","nofollow"),r(ge,"href","https://rollupjs.org/guide/en/#hooks"),r(ge,"rel","nofollow"),r($e,"class","inline"),r(ye,"href","https://rollupjs.org/guide/en/#thisaddwatchfileid-string--void"),r(ye,"rel","nofollow"),r(fe,"href","https://rollupjs.org/guide/en/#plugin-context"),r(fe,"rel","nofollow"),r(Ue,"class","code-section"),r(_e,"href","#closing-notes"),r(_e,"id","closing-notes"),r(qe,"class","inline")},m(d,k){kr(f,d,k),K(d,j,k),K(d,u,k),e(u,R),e(R,_),e(_,S),e(u,Ee),e(u,A),e(A,us),e(A,V),e(V,ks),e(A,vs),e(A,Q),e(Q,gs),e(A,ys),e(A,J),e(J,fs),e(A,_s),e(u,ms),e(u,be),be.innerHTML=fr,e(u,ws),e(u,C),e(C,xs),e(C,Ze),e(Ze,Es),e(C,bs),e(C,Xe),e(Xe,Is),e(C,Ps),e(u,js),e(u,Z),e(Z,Ss),e(Z,X),e(X,As),e(Z,Os),e(u,Ts),e(u,Ie),Ie.innerHTML=_r,e(u,Rs),e(u,ee),e(ee,Cs),e(ee,Pe),e(Pe,Ns),e(ee,Ms),e(u,Ds),e(u,et),e(et,N),e(N,je),e(je,tt),e(je,x),e(u,Bs),e(u,M),e(M,Gs),e(M,te),e(te,Ws),e(M,$s),e(M,st),e(st,Us),e(M,qs),e(u,Ls),e(u,Se),e(Se,Hs),e(Se,ot),e(ot,Ys),e(u,zs),e(u,at),e(at,Fs),K(d,Jt,k),K(d,g,k),e(g,lt),e(lt,se),e(se,Ks),e(g,Vs),e(g,oe),e(oe,Qs),e(oe,nt),e(nt,Js),e(oe,Zs),e(g,Xs),e(g,D),e(D,eo),e(D,ae),e(ae,to),e(D,so),e(D,rt),e(rt,oo),e(D,ao),e(g,lo),e(g,it),e(it,B),e(B,Ae),e(Ae,pt),e(Ae,E),e(g,no),e(g,ct),e(ct,ro),e(g,io),e(g,ht),e(ht,G),e(G,Oe),e(Oe,dt),e(Oe,b),e(g,po),e(g,ut),e(ut,co),e(g,ho),e(g,kt),e(kt,W),e(W,Te),e(Te,vt),e(Te,P),e(g,uo),e(g,gt),e(gt,ko),e(g,vo),e(g,yt),e(yt,ft),e(ft,_t),e(_t,go),e(g,yo),e(g,le),e(le,fo),e(le,mt),e(mt,_o),e(le,mo),e(g,wo),e(g,wt),e(wt,xo),e(g,Eo),e(g,xt),e(xt,$),e($,bo),e($,Et),e(Et,Io),e($,Po),e($,bt),e(bt,jo),e($,So),K(d,Zt,k),K(d,c,k),e(c,It),e(It,ne),e(ne,Ao),e(c,Oo),e(c,re),e(re,To),e(re,Pt),e(Pt,Ro),e(re,Co),e(c,No),e(c,I),e(I,Mo),e(I,Re),e(Re,Do),e(I,Bo),e(I,ie),e(ie,Go),e(I,Wo),e(I,pe),e(pe,$o),e(I,Uo),e(I,ce),e(ce,qo),e(I,Lo),e(c,Ho),e(c,jt),e(jt,Yo),e(c,zo),e(c,Ce),Ce.innerHTML=mr,e(c,Fo),e(c,St),e(St,Ko),e(c,Vo),e(c,U),e(U,At),e(At,Qo),e(U,Jo),e(U,he),e(he,Zo),e(he,Ne),e(Ne,Xo),e(he,ea),e(U,ta),e(U,q),e(q,sa),e(q,Ot),e(Ot,oa),e(q,aa),e(q,Tt),e(Tt,la),e(q,na),e(c,ra),e(c,de),e(de,ia),e(de,Me),e(Me,pa),e(de,ca),e(c,ha),e(c,De),De.innerHTML=wr,e(c,da),e(c,Rt),e(Rt,ua),e(c,ka),e(c,L),e(L,va),e(L,Be),e(Be,ga),e(L,ya),e(L,Ge),e(Ge,fa),e(L,_a),e(c,ma),e(c,ue),e(ue,wa),e(ue,We),e(We,xa),e(ue,Ea),e(c,ba),e(c,ke),e(ke,Ia),e(ke,ve),e(ve,Pa),e(ke,ja),e(c,Sa),e(c,O),e(O,Aa),e(O,Ct),e(Ct,Oa),e(O,Ta),e(O,Nt),e(Nt,Ra),e(O,Ca),e(O,ge),e(ge,Na),e(O,Ma),e(c,Da),e(c,H),e(H,Ba),e(H,ye),e(ye,$e),e($e,Ga),e(H,Wa),e(H,fe),e(fe,$a),e(H,Ua),e(c,qa),e(c,Mt),e(Mt,Dt),e(Dt,La),e(c,Ha),e(c,Bt),e(Bt,Ya),e(c,za),e(c,Ue),Ue.innerHTML=xr,e(c,Fa),e(c,Gt),e(Gt,Ka),K(d,Xt,k),K(d,m,k),e(m,Wt),e(Wt,_e),e(_e,Va),e(m,Qa),e(m,$t),e($t,Ja),e(m,Za),e(m,me),e(me,Xa),e(me,Ut),e(Ut,el),e(me,tl),e(m,sl),e(m,qt),e(qt,ol),e(m,al),e(m,Lt),e(Lt,Ht),e(Ht,ll),e(m,nl),e(m,Yt),e(Yt,rl),e(m,il),e(m,we),e(we,pl),e(we,qe),e(qe,cl),e(we,hl),e(m,dl),e(m,zt),e(zt,Ft),e(Ft,ul),e(m,kl),e(m,Y),e(Y,vl),e(Y,Kt),e(Kt,gl),e(Y,yl),e(Y,Vt),e(Vt,fl),e(Y,_l),e(m,ml),e(m,Qt),e(Qt,wl),es=!0},p:Cr,i(d){es||(vr(f.$$.fragment,d),es=!0)},o(d){gr(f.$$.fragment,d),es=!1},d(d){yr(f,d),d&&o(j),d&&o(u),d&&o(Jt),d&&o(g),d&&o(Zt),d&&o(c),d&&o(Xt),d&&o(m)}}}function Qr(xe){let f,j;const u=[xe[0],hr];let R={$$slots:{default:[Vr]},$$scope:{ctx:xe}};for(let _=0;_<u.length;_+=1)R=jl(R,u[_]);return f=new Nr({props:R}),{c(){dr(f.$$.fragment)},l(_){ur(f.$$.fragment,_)},m(_,S){kr(f,_,S),j=!0},p(_,[S]){const Ee=S&1?Tr(u,[S&1&&lr(_[0]),S&0&&lr(hr)]):{};S&2&&(Ee.$$scope={dirty:S,ctx:_}),f.$set(Ee)},i(_){j||(vr(f.$$.fragment,_),j=!0)},o(_){gr(f.$$.fragment,_),j=!1},d(_){yr(f,_)}}}const hr={title:"I wrote a 12-line Rollup plugin",date:"2019-11-30T08:00:00Z",description:"Why would I install a package with so many files and dependencies, just to do a something simple that can be done in 12 lines of code?",tags:["JavaScript","rollup","plugin"],label:"blog"};function Jr(xe,f,j){return Rr("blog",{image:Kr}),xe.$$set=u=>{j(0,f=jl(jl({},f),nr(u)))},f=nr(f),[f]}class ai extends Sr{constructor(f){super();Ar(this,f,Jr,Qr,Or,{})}}export{ai as default,hr as metadata};
