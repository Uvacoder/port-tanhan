import{v as Q,S as R,i as J,s as K,e as M,c as w,a as E,d as u,f as j,g as m,U as X,k as T,t as H,m as L,h as I,b as d,F as g,Q as q,j as F,l as A,T as Y,O as N,V as Z}from"./vendor-ea160616.js";const W=new Map;function ae(){Q(()=>{const n=document.querySelectorAll(".copy[data-copy]");function e(i){if(navigator.clipboard&&typeof navigator.clipboard.writeText=="function"){const r=i.currentTarget;navigator.clipboard.writeText(r.getAttribute("data-copy")),$(r)}}return n.forEach(i=>{i.addEventListener("click",e)}),()=>{n.forEach(i=>{i.removeEventListener("click",e)})}})}function $(n){W.has(n)?clearTimeout(W.get(n)):n.dataset.original=n.innerHTML,n.innerHTML='<svg viewBox="64 64 896 896" focusable="false" data-icon="check" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"></path></svg>';const e=setTimeout(()=>{n.innerHTML=n.dataset.original,delete n.dataset.original,W.delete(n)},2e3);W.set(n,e)}function z(n,e,i){const r=n.slice();return r[9]=e[i],r}function C(n){let e,i,r,t;return{c(){e=M("div"),this.h()},l(l){e=w(l,"DIV",{style:!0}),E(e).forEach(u),this.h()},h(){j(e,"height","1px"),j(e,"width","100%")},m(l,o){m(l,e,o),r||(t=X(i=n[5].call(null,e)),r=!0)},d(l){l&&u(e),r=!1,t()}}}function D(n){let e,i,r,t,l,o,h,s=n[0],c=[];for(let a=0;a<s.length;a+=1)c[a]=U(z(n,s,a));let p=n[1]&&G(n);return{c(){e=M("hr"),i=T(),r=M("h2"),t=H("WebMentions"),l=T(),o=M("ul");for(let a=0;a<c.length;a+=1)c[a].c();h=T(),p&&p.c(),this.h()},l(a){e=w(a,"HR",{class:!0}),i=L(a),r=w(a,"H2",{});var f=E(r);t=I(f,"WebMentions"),f.forEach(u),l=L(a),o=w(a,"UL",{class:!0});var _=E(o);for(let y=0;y<c.length;y+=1)c[y].l(_);h=L(_),p&&p.l(_),_.forEach(u),this.h()},h(){d(e,"class","svelte-9vytr4"),d(o,"class","svelte-9vytr4")},m(a,f){m(a,e,f),m(a,i,f),m(a,r,f),g(r,t),m(a,l,f),m(a,o,f);for(let _=0;_<c.length;_+=1)c[_].m(o,null);g(o,h),p&&p.m(o,null)},p(a,f){if(f&1){s=a[0];let _;for(_=0;_<s.length;_+=1){const y=z(a,s,_);c[_]?c[_].p(y,f):(c[_]=U(y),c[_].c(),c[_].m(o,h))}for(;_<c.length;_+=1)c[_].d(1);c.length=s.length}a[1]?p?p.p(a,f):(p=G(a),p.c(),p.m(o,null)):p&&(p.d(1),p=null)},d(a){a&&u(e),a&&u(i),a&&u(r),a&&u(l),a&&u(o),Y(c,a),p&&p.d()}}}function B(n){let e,i,r=n[9].author.name+"",t,l,o=n[9].author.photo&&O(n);return{c(){e=M("a"),o&&o.c(),i=T(),t=H(r),this.h()},l(h){e=w(h,"A",{class:!0,href:!0,target:!0,rel:!0});var s=E(e);o&&o.l(s),i=L(s),t=I(s,r),s.forEach(u),this.h()},h(){d(e,"class","author svelte-9vytr4"),d(e,"href",l=n[9].author.url),d(e,"target","_blank"),d(e,"rel","noreferrer noopener")},m(h,s){m(h,e,s),o&&o.m(e,null),g(e,i),g(e,t)},p(h,s){h[9].author.photo?o?o.p(h,s):(o=O(h),o.c(),o.m(e,i)):o&&(o.d(1),o=null),s&1&&r!==(r=h[9].author.name+"")&&F(t,r),s&1&&l!==(l=h[9].author.url)&&d(e,"href",l)},d(h){h&&u(e),o&&o.d()}}}function O(n){let e,i,r;return{c(){e=M("img"),this.h()},l(t){e=w(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){d(e,"class","avatar svelte-9vytr4"),q(e.src,i=n[9].author.photo)||d(e,"src",i),d(e,"alt",r=n[9].author.name)},m(t,l){m(t,e,l)},p(t,l){l&1&&!q(e.src,i=t[9].author.photo)&&d(e,"src",i),l&1&&r!==(r=t[9].author.name)&&d(e,"alt",r)},d(t){t&&u(e)}}}function x(n){let e="in ",i,r,t,l=n[9].url+"",o,h;return{c(){i=H(e),r=T(),t=M("a"),o=H(l),this.h()},l(s){i=I(s,e),r=L(s),t=w(s,"A",{href:!0,target:!0,rel:!0});var c=E(t);o=I(c,l),c.forEach(u),this.h()},h(){d(t,"href",h=n[9].url),d(t,"target","_blank"),d(t,"rel","noreferrer noopener")},m(s,c){m(s,i,c),m(s,r,c),m(s,t,c),g(t,o)},p(s,c){c&1&&l!==(l=s[9].url+"")&&F(o,l),c&1&&h!==(h=s[9].url)&&d(t,"href",h)},d(s){s&&u(i),s&&u(r),s&&u(t)}}}function ee(n){let e;function i(l,o){return l[9].content.html?le:te}let r=i(n),t=r(n);return{c(){t.c(),e=A()},l(l){t.l(l),e=A()},m(l,o){t.m(l,o),m(l,e,o)},p(l,o){r===(r=i(l))&&t?t.p(l,o):(t.d(1),t=r(l),t&&(t.c(),t.m(e.parentNode,e)))},d(l){t.d(l),l&&u(e)}}}function te(n){let e,i=n[9].content.text+"",r;return{c(){e=M("div"),r=H(i),this.h()},l(t){e=w(t,"DIV",{class:!0});var l=E(e);r=I(l,i),l.forEach(u),this.h()},h(){d(e,"class","content svelte-9vytr4")},m(t,l){m(t,e,l),g(e,r)},p(t,l){l&1&&i!==(i=t[9].content.text+"")&&F(r,i)},d(t){t&&u(e)}}}function le(n){let e,i=P(n[9].content.html)+"";return{c(){e=M("div"),this.h()},l(r){e=w(r,"DIV",{class:!0});var t=E(e);t.forEach(u),this.h()},h(){d(e,"class","content svelte-9vytr4")},m(r,t){m(r,e,t),e.innerHTML=i},p(r,t){t&1&&i!==(i=P(r[9].content.html)+"")&&(e.innerHTML=i)},d(r){r&&u(e)}}}function U(n){let e,i,r,t=n[9].author.name?" mentioned":"Mentioned",l,o,h,s,c,p=n[9]["wm-received"].slice(0,10)+"",a,f=n[9].author.name&&B(n);function _(b,k){return b[9].content?ee:x}let y=_(n),v=y(n);return{c(){e=M("li"),f&&f.c(),i=T(),r=M("a"),l=H(t),h=T(),v.c(),s=T(),c=M("span"),a=H(p),this.h()},l(b){e=w(b,"LI",{class:!0});var k=E(e);f&&f.l(k),i=L(k),r=w(k,"A",{href:!0,target:!0,rel:!0});var S=E(r);l=I(S,t),S.forEach(u),h=L(k),v.l(k),s=L(k),c=w(k,"SPAN",{class:!0});var V=E(c);a=I(V,p),V.forEach(u),k.forEach(u),this.h()},h(){d(r,"href",o=n[9].url),d(r,"target","_blank"),d(r,"rel","noreferrer noopener"),d(c,"class","timestamp svelte-9vytr4"),d(e,"class","svelte-9vytr4")},m(b,k){m(b,e,k),f&&f.m(e,null),g(e,i),g(e,r),g(r,l),g(e,h),v.m(e,null),g(e,s),g(e,c),g(c,a)},p(b,k){b[9].author.name?f?f.p(b,k):(f=B(b),f.c(),f.m(e,i)):f&&(f.d(1),f=null),k&1&&t!==(t=b[9].author.name?" mentioned":"Mentioned")&&F(l,t),k&1&&o!==(o=b[9].url)&&d(r,"href",o),y===(y=_(b))&&v?v.p(b,k):(v.d(1),v=y(b),v&&(v.c(),v.m(e,s))),k&1&&p!==(p=b[9]["wm-received"].slice(0,10)+"")&&F(a,p)},d(b){b&&u(e),f&&f.d(),v.d()}}}function G(n){let e;function i(l,o){return l[2]?ie:re}let r=i(n),t=r(n);return{c(){t.c(),e=A()},l(l){t.l(l),e=A()},m(l,o){t.m(l,o),m(l,e,o)},p(l,o){r===(r=i(l))&&t?t.p(l,o):(t.d(1),t=r(l),t&&(t.c(),t.m(e.parentNode,e)))},d(l){t.d(l),l&&u(e)}}}function re(n){let e,i,r,t;return{c(){e=M("li"),i=H("Fetch More"),this.h()},l(l){e=w(l,"LI",{class:!0});var o=E(e);i=I(o,"Fetch More"),o.forEach(u),this.h()},h(){d(e,"class","more svelte-9vytr4")},m(l,o){m(l,e,o),g(e,i),r||(t=Z(e,"click",n[4]),r=!0)},p:N,d(l){l&&u(e),r=!1,t()}}}function ie(n){let e;return{c(){e=H("Fetching...")},l(i){e=I(i,"Fetching...")},m(i,r){m(i,e,r)},p:N,d(i){i&&u(e)}}}function ne(n){let e,i,r=!n[3]&&C(n),t=n[0].length>0&&D(n);return{c(){r&&r.c(),e=T(),t&&t.c(),i=A()},l(l){r&&r.l(l),e=L(l),t&&t.l(l),i=A()},m(l,o){r&&r.m(l,o),m(l,e,o),t&&t.m(l,o),m(l,i,o)},p(l,[o]){l[3]?r&&(r.d(1),r=null):r||(r=C(l),r.c(),r.m(e.parentNode,e)),l[0].length>0?t?t.p(l,o):(t=D(l),t.c(),t.m(i.parentNode,i)):t&&(t.d(1),t=null)},i:N,o:N,d(l){r&&r.d(l),l&&u(e),t&&t.d(l),l&&u(i)}}}function P(n){return n.length>100?n.slice(0,100)+"...":n}function oe(n,e,i){let{link:r}=e,t=0,l=[],o=!1,h=!1,s=!1;async function c(){if(i(3,s=!0),h)return;i(2,h=!0);const f=await fetch(`https://webmention.io/api/mentions.jf2?page=${t}&per-page=20&wm-property=mention-of&target=${r}`),{children:_}=await f.json();i(1,o=_.length===20);const y=_.filter(v=>v.type==="entry"&&v["wm-property"]==="mention-of"&&!v["wm-private"]);i(0,l=l.concat(y)),t++,i(2,h=!1)}let p;function a(f){if(!p){const y={root:null,rootMargin:"10px",threshold:[0,.1,.2,.3,.8,.9,1]};p=new IntersectionObserver(v=>{v[0].isIntersecting&&(c(),p.unobserve(f),_=!0)},y)}p.observe(f);let _=!1;return{destroy(){_||p.unobserve(f)}}}return n.$$set=f=>{"link"in f&&i(6,r=f.link)},n.$$.update=()=>{n.$$.dirty&64&&r&&i(3,s=!1)},[l,o,h,s,c,a,r]}class fe extends R{constructor(e){super();J(this,e,oe,ne,K,{link:6})}}export{fe as W,ae as i};
